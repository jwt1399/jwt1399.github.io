<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Q&amp;AÔºöMySQL, ÁÆÄÁÆÄ,ÁÆÄÁÆÄÂçöÂÆ¢,ÁΩëÁªúÂÆâÂÖ®,ËÆ°ÁÆóÊú∫,JavaÂºÄÂèë">
    <meta name="description" content="‚ë†Âü∫Á°ÄüåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´
ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈááÁî®‰∫ÜÂÖ≥Á≥ªÊ®°ÂûãÔºà‰∫åÁª¥Ë°®Ê†ºÁ±ªÂûãÔºâÁªÑÁªáÊï∞ÊçÆÔºå‰∏ÄËà¨ÈÅµÂÆà‰∫ãÂä°ÁöÑACIDÁâπÊÄß 

‰ºòÁÇπÔºöÊîØÊåÅÈÄöÁî®SQLËØ≠Âè•„ÄÅÊîØÊåÅ‰∫ãÂä°„ÄÅÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆâÂÖ®ÂèØÈù†
Áº∫ÁÇπÔºöÈ´òÂπ∂ÂèëËØªÂÜôËÉΩÂäõÂ∑ÆÔºàÁ£ÅÁõòI&amp;#x2F;OÊúâÈôê">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Type" content="text/html;charset=gb2312" />
    <meta name="sogou_site_verification" content="VTcD33rrfd" />
    <meta name="google-site-verification" content="mHsYpjV9Rl0e0UzjioJFLg8RMtOhxw8HB3D21dIWvmc" />
	<meta name="referrer" content="unsafe-url">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Q&amp;AÔºöMySQL | ÁÆÄË®Ä‰πã</title>
    <link rel="icon" type="image/png" href="/favicon.png">
	<!--ÂèòÁÅ∞-->
	<!-- <link href="http://static.isenyu.cn/file/css/MemorialDay.css"; rel="stylesheet" type="text/css" /> -->
    <!-- <style type="text/css">
     html{ filter: grayscale(100%); /* Ê†áÂáÜÂÜôÊ≥ï just for IE6-9 */ 
        -webkit-filter: grayscale(100%); /* webkit ÂÜÖÊ†∏ÊîØÊåÅÁ®ãÂ∫¶ËæÉÂ•Ω */ 
        -moz-filter: grayscale(100%); /* ÂÖ∂‰ªñÂÜÖÊ†∏Áé∞Âú®Âπ∂‰∏çÊîØÊåÅÔºå‰∏∫‰∫ÜÂ∞ÜÊù•ÂÖºÂÆπÊÄß‰π¶ÂÜô */ 
        -ms-filter: grayscale(100%); 
        -o-filter: grayscale(100%); filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);
        filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale"); /* Firefox 3.5+ */ }
     </style> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.staticfile.org/font-awesome/6.0.0/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.staticfile.org/aos/0.1.0/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="https://upcdn.b0.upaiyun.com/libs/jquery/jquery-2.0.3.min.js"></script>
	<!--valine_‰∫∫Êú∫È™åËØÅ-->
	<script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
	<script src="/js/Valine-RJyanzheng.js"></script>

    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ÁÆÄË®Ä‰πã" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img no-lazy src="/medias/logo.png" class="logo-img" alt="">
                    
                    <span class="logo-span">ÁÆÄË®Ä‰πã</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Home</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-user-secret" style="zoom: 0.6;"></i>
      
      <span>Sec</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/Web/">
          
          <i class="fab fa-internet-explorer" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Web</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/CTF/">
          
          <i class="fas fa-flag" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>CTF</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Data/">
          
          <i class="fa-solid fa-shield" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Data</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fab fa-java" style="zoom: 0.6;"></i>
      
      <span>Java</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/JavaSE/">
          
          <i class="fa-solid fa-mug-saucer" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>JavaSE</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/JavaWeb/">
          
          <i class="fa-solid fa-earth-americas" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>JavaWeb</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Spring/">
          
          <i class="fa-solid fa-leaf" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Spring</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Q-A/">
          
          <i class="fa-solid fa-bell" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Q&A</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fa-solid fa-desktop" style="zoom: 0.6;"></i>
      
      <span>CS</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/CS%E5%9F%BA%E7%A1%80/">
          
          <i class="fa-solid fa-server" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>CSÂü∫Á°Ä</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/SQL/">
          
          <i class="fas fa-database" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Êï∞ÊçÆÂ∫ì</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/">
          
          <i class="fa-solid fa-bezier-curve" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÁªìÊûÑ-ÁÆóÊ≥ï</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-layer-group" style="zoom: 0.6;"></i>
      
      <span>Others</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/Python/">
          
          <i class="fab fa-python" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Python</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Course/">
          
          <i class="fa-solid fa-graduation-cap" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Course</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Share/">
          
          <i class="fa-solid fa-crown" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Share~</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Tools/">
          
          <i class="fas fa-tools" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Tools~</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Êï¥ÁêÜ</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/tags/">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÂΩíÁ±ª</span>
        </a>
      </li>
      
      <li>
        <a href="/archives/">
          
          <i class="fas fa-file-contract" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÂΩíÊ°£</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fa-solid fa-paper-plane" style="zoom: 0.6;"></i>
      
      <span>‰∫§ÊµÅ</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/friends/">
          
          <i class="fas fa-venus-mars" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÂèãÈìæ</span>
        </a>
      </li>
      
      <li>
        <a href="/contact/">
          
          <i class="fas fa-envelope" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÁïôË®Ä</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about/" class="waves-effect waves-light">
      
      <i class="fas fa-id-card-alt" style="zoom: 0.6;"></i>
      
      <span>ÂÖ≥‰∫é</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="ÊêúÁ¥¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img no-lazy src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ÁÆÄË®Ä‰πã</div>
        <div class="logo-desc">
            
            ÊÇÑÊó†Â£∞ÊÅØÂú∞ÂèòÂùöÂº∫ÔºåÂÆâÈùôÂú∞Âèò‰ºòÁßÄÔºÅ
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Home
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-user-secret"></i>
			
			Sec
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/Web/ " style="margin-left:50px";>
				  
				   <i class="fab fa-internet-explorer" style="position: absolute;left:28px" ></i>
			      
		          <span>Web</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/CTF/ " style="margin-left:50px";>
				  
				   <i class="fas fa-flag" style="position: absolute;left:28px" ></i>
			      
		          <span>CTF</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Data/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-shield" style="position: absolute;left:28px" ></i>
			      
		          <span>Data</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fab fa-java"></i>
			
			Java
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/JavaSE/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-mug-saucer" style="position: absolute;left:28px" ></i>
			      
		          <span>JavaSE</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/JavaWeb/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-earth-americas" style="position: absolute;left:28px" ></i>
			      
		          <span>JavaWeb</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Spring/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-leaf" style="position: absolute;left:28px" ></i>
			      
		          <span>Spring</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Q-A/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-bell" style="position: absolute;left:28px" ></i>
			      
		          <span>Q&A</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fa-solid fa-desktop"></i>
			
			CS
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/CS%E5%9F%BA%E7%A1%80/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-server" style="position: absolute;left:28px" ></i>
			      
		          <span>CSÂü∫Á°Ä</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/SQL/ " style="margin-left:50px";>
				  
				   <i class="fas fa-database" style="position: absolute;left:28px" ></i>
			      
		          <span>Êï∞ÊçÆÂ∫ì</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-bezier-curve" style="position: absolute;left:28px" ></i>
			      
		          <span>ÁªìÊûÑ-ÁÆóÊ≥ï</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-layer-group"></i>
			
			Others
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/Python/ " style="margin-left:50px";>
				  
				   <i class="fab fa-python" style="position: absolute;left:28px" ></i>
			      
		          <span>Python</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Course/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-graduation-cap" style="position: absolute;left:28px" ></i>
			      
		          <span>Course</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Share/ " style="margin-left:50px";>
				  
				   <i class="fa-solid fa-crown" style="position: absolute;left:28px" ></i>
			      
		          <span>Share~</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Tools/ " style="margin-left:50px";>
				  
				   <i class="fas fa-tools" style="position: absolute;left:28px" ></i>
			      
		          <span>Tools~</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Êï¥ÁêÜ
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/tags/ " style="margin-left:50px";>
				  
				   <i class="fas fa-bookmark" style="position: absolute;left:28px" ></i>
			      
		          <span>ÂΩíÁ±ª</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/archives/ " style="margin-left:50px";>
				  
				   <i class="fas fa-file-contract" style="position: absolute;left:28px" ></i>
			      
		          <span>ÂΩíÊ°£</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fa-solid fa-paper-plane"></i>
			
			‰∫§ÊµÅ
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/friends/ " style="margin-left:50px";>
				  
				   <i class="fas fa-venus-mars" style="position: absolute;left:28px" ></i>
			      
		          <span>ÂèãÈìæ</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact/ " style="margin-left:50px";>
				  
				   <i class="fas fa-envelope" style="position: absolute;left:28px" ></i>
			      
		          <span>ÁïôË®Ä</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-id-card-alt"></i>
			
			ÂÖ≥‰∫é
		</a>
          
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = 'de3bbd0fd7945e42581643b18cdf28dd3ed61d9c3d541b7b016081564b65a3f3';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('ÁåúÁåúÂØÜÁ†ÅÊòØ‰ªÄ‰πàÂë¢„ÉæÔæâ‚âß‚àÄ‚â¶)o')).toString(CryptoJS.enc.Hex)) {
                alert('ÂìéÂë¶ÔºÅÂØÜÁ†ÅÂ•ΩÂÉè‰∏çÂØπÂìüÔºåÂ∞ÜËøîÂõû‰∏ªÈ°µÔºÅ');
                location.href = '/';	
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://img.jwt1399.top/img/v2-fab80e0b2798b32f0a06191c8f6e7f30_1440w.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Q&amp;AÔºöMySQL</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    /*.toc-widget {
        width: 345px;
        padding-left: 20px;
    }*/
    .toc-widget {
        width: 345px;
        padding-left: 20px;
        /* ÊØõÁéªÁíÉ */
        /*background-color: rgba(162,101,228, 0.08);*/
        /*backdrop-filter: saturate(180%) blur(20px);*/
        /*ÁõÆÂΩïÊ†∑Âºè‰øÆÊîπ*/
        background-color: rgb(255, 255, 255,0.7);
        border-radius: 10px;
        box-shadow: 0 10px 35px 2px rgba(0, 0, 0, .15), 0 5px 15px rgba(0, 0, 0, .07), 0 2px 5px -5px rgba(0, 0, 0, .1) !important;
    }
    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- ÊñáÁ´†ÂÜÖÂÆπËØ¶ÊÉÖ -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQL/">
                                <span class="chip bg-color">MySQL</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Q-A/" class="post-category">
                                Q&A
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>ÂèëÂ∏ÉÊó•Êúü:&nbsp;&nbsp;
                    2019-02-27
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Êõ¥Êñ∞Êó•Êúü:&nbsp;&nbsp;
                    2023-08-21
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>ÊñáÁ´†Â≠óÊï∞:&nbsp;&nbsp;
                    31.7k
                </div>
                

                
				
                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>ÈòÖËØªÊ¨°Êï∞:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
            
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="‚ë†Âü∫Á°Ä"><a href="#‚ë†Âü∫Á°Ä" class="headerlink" title="‚ë†Âü∫Á°Ä"></a>‚ë†Âü∫Á°Ä</h1><h2 id="üåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´"><a href="#üåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´" class="headerlink" title="üåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´"></a>üåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´</h2><ul>
<li><p><strong>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì</strong>ÈááÁî®‰∫ÜÂÖ≥Á≥ªÊ®°ÂûãÔºà‰∫åÁª¥Ë°®Ê†ºÁ±ªÂûãÔºâÁªÑÁªáÊï∞ÊçÆÔºå‰∏ÄËà¨ÈÅµÂÆà‰∫ãÂä°ÁöÑACIDÁâπÊÄß </p>
<ul>
<li>‰ºòÁÇπÔºöÊîØÊåÅÈÄöÁî®SQLËØ≠Âè•„ÄÅÊîØÊåÅ‰∫ãÂä°„ÄÅÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆâÂÖ®ÂèØÈù†</li>
<li>Áº∫ÁÇπÔºöÈ´òÂπ∂ÂèëËØªÂÜôËÉΩÂäõÂ∑ÆÔºàÁ£ÅÁõòI&#x2F;OÊúâÈôêÔºâ„ÄÅÊµ∑ÈáèÊï∞ÊçÆËØªÂÜôÊïàÁéá‰Ωé</li>
</ul>
</li>
<li><p><strong>ÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì</strong>ÈÄöÂ∏∏ÊåáÊï∞ÊçÆ‰ª•ÂØπË±°ÁöÑÂΩ¢ÂºèÂ≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂ∏∏Áî®‰∫éÂ≠òÂÇ®ÈùûÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ„ÄÇ</p>
<ul>
<li>‰ºòÁÇπÔºöÈÄüÂ∫¶Âø´„ÄÅÊïàÁéáÈ´ò„ÄÅÊàêÊú¨‰Ωé„ÄÅÈ´òÂπ∂Âèë„ÄÅÊµ∑ÈáèÊï∞ÊçÆÂ§ÑÁêÜËΩªÊùæ</li>
<li>Áº∫ÁÇπÔºö‰∏çÊîØÊåÅSQLËØ≠Âè•„ÄÅÊó†‰∫ãÂä°Â§ÑÁêÜ„ÄÅÊï∞ÊçÆÁªìÊûÑÂ§çÊùÇ</li>
</ul>
</li>
</ul>
<h2 id="üåüMySQL-Âü∫Á°ÄÊû∂ÊûÑ"><a href="#üåüMySQL-Âü∫Á°ÄÊû∂ÊûÑ" class="headerlink" title="üåüMySQL Âü∫Á°ÄÊû∂ÊûÑ"></a>üåüMySQL Âü∫Á°ÄÊû∂ÊûÑ</h2><img src="https://img.jwt1399.top/img/202304242032343.jpg" style="zoom: 25%;" />

<p>MySQL ‰∏ªË¶ÅÁî±‰∏ãÈù¢Âá†ÈÉ®ÂàÜÊûÑÊàêÔºö</p>
<ul>
<li><strong>ËøûÊé•Âô®Ôºö</strong> Ë∫´‰ªΩËÆ§ËØÅÂíåÊùÉÈôêÁõ∏ÂÖ≥(ÁôªÂΩï MySQL ÁöÑÊó∂ÂÄô)„ÄÇ</li>
<li><strong>Êü•ËØ¢ÁºìÂ≠òÔºö</strong> ÊâßË°åÊü•ËØ¢ËØ≠Âè•ÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàÊü•ËØ¢ÁºìÂ≠òÔºàMySQL 8.0 ÁâàÊú¨ÂêéÁßªÈô§ÔºåÂõ†‰∏∫Ëøô‰∏™ÂäüËÉΩ‰∏çÂ§™ÂÆûÁî®Ôºâ„ÄÇ<ul>
<li>ÁºìÂ≠òËôΩËÉΩÂ§üÊèêÂçáÊü•ËØ¢ÊÄßËÉΩÔºå‰ΩÜ‰πüÂ∏¶Êù•‰∫ÜÈ¢ùÂ§ñÁöÑÂºÄÈîÄÔºåÊØèÊ¨°Êü•ËØ¢ÂêéÈÉΩË¶ÅÂÅö‰∏ÄÊ¨°ÁºìÂ≠òÊìç‰ΩúÔºåÂ§±ÊïàÂêéËøòË¶ÅÈîÄÊØÅ„ÄÇ</li>
</ul>
</li>
<li><strong>ÂàÜÊûêÂô®Ôºö</strong> Ê≤°ÊúâÂëΩ‰∏≠ÁºìÂ≠òÁöÑËØùÔºåSQL ËØ≠Âè•Â∞±‰ºöÁªèËøáÂàÜÊûêÂô®ÔºåÂàÜÊûêÂô®ËØ¥ÁôΩ‰∫ÜÂ∞±ÊòØË¶ÅÂÖàÁúã‰Ω†ÁöÑ SQL ËØ≠Âè•Ë¶ÅÂπ≤ÂòõÔºåÂÜçÊ£ÄÊü•‰Ω†ÁöÑ SQL ËØ≠Âè•ËØ≠Ê≥ïÊòØÂê¶Ê≠£Á°Æ„ÄÇ</li>
<li><strong>‰ºòÂåñÂô®Ôºö</strong> ÊåâÁÖß MySQL ËÆ§‰∏∫ÊúÄ‰ºòÁöÑÊñπÊ°àÂéªÊâßË°å„ÄÇ</li>
<li><strong>ÊâßË°åÂô®Ôºö</strong> ÊâßË°åËØ≠Âè•ÔºåÁÑ∂Âêé‰ªéÂ≠òÂÇ®ÂºïÊìéËøîÂõûÊï∞ÊçÆ„ÄÇ ÊâßË°åËØ≠Âè•‰πãÂâç‰ºöÂÖàÂà§Êñ≠ÊòØÂê¶ÊúâÊùÉÈôêÔºåÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÁöÑËØùÔºåÂ∞±‰ºöÊä•Èîô„ÄÇ</li>
<li><strong>Êèí‰ª∂ÂºèÂ≠òÂÇ®ÂºïÊìé</strong> Ôºö ‰∏ªË¶ÅË¥üË¥£Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåËØªÂèñÔºåÈááÁî®ÁöÑÊòØÊèí‰ª∂ÂºèÊû∂ÊûÑÔºåÊîØÊåÅ InnoDB„ÄÅMyISAM„ÄÅMemory Á≠âÂ§öÁßçÂ≠òÂÇ®ÂºïÊìé„ÄÇ</li>
</ul>
<p>MySQL ‰∏ªË¶ÅÂàÜ‰∏∫ Server Â±ÇÂíåÂºïÊìéÂ±ÇÔºåServer Â±Ç‰∏ªË¶ÅÂåÖÊã¨ËøûÊé•Âô®„ÄÅÊü•ËØ¢ÁºìÂ≠ò„ÄÅÂàÜÊûêÂô®„ÄÅ‰ºòÂåñÂô®„ÄÅÊâßË°åÂô®ÔºåÂêåÊó∂ËøòÊúâ‰∏Ä‰∏™Êó•ÂøóÊ®°ÂùóÔºàbinlogÔºâÔºåËøô‰∏™Êó•ÂøóÊ®°ÂùóÊâÄÊúâÊâßË°åÂºïÊìéÈÉΩÂèØ‰ª•ÂÖ±Áî®Ôºåredolog Âè™Êúâ InnoDB Êúâ„ÄÇ</p>
<p>ÂºïÊìéÂ±ÇÊòØÊèí‰ª∂ÂºèÁöÑÔºåÁõÆÂâç‰∏ªË¶ÅÂåÖÊã¨ÔºåMyISAM,InnoDB,Memory Á≠â„ÄÇ</p>
<h2 id="üåüMySQLÊâßË°åËÆ°ÂàíÂàÜÊûê"><a href="#üåüMySQLÊâßË°åËÆ°ÂàíÂàÜÊûê" class="headerlink" title="üåüMySQLÊâßË°åËÆ°ÂàíÂàÜÊûê"></a>üåüMySQLÊâßË°åËÆ°ÂàíÂàÜÊûê</h2><p><strong>ÊâßË°åËÆ°Âàí</strong> ÊòØÊåá‰∏ÄÊù° SQL ËØ≠Âè•Âú®ÁªèËøá <strong>MySQL Êü•ËØ¢‰ºòÂåñÂô®</strong> ÁöÑ‰ºòÂåñ‰ºöÂêéÔºåÂÖ∑‰ΩìÁöÑÊâßË°åÊñπÂºè„ÄÇ</p>
<p>ÊâßË°åËÆ°ÂàíÈÄöÂ∏∏Áî®‰∫é SQL ÊÄßËÉΩÂàÜÊûê„ÄÅ‰ºòÂåñÁ≠âÂú∫ÊôØ„ÄÇÈÄöËøá <code>EXPLAIN</code> ÁöÑÁªìÊûúÔºåÂèØ‰ª•‰∫ÜËß£Âà∞Â¶ÇÊï∞ÊçÆË°®ÁöÑÊü•ËØ¢È°∫Â∫è„ÄÅÊï∞ÊçÆÊü•ËØ¢Êìç‰ΩúÁöÑÊìç‰ΩúÁ±ªÂûã„ÄÅÂì™‰∫õÁ¥¢ÂºïÂèØ‰ª•Ë¢´ÂëΩ‰∏≠„ÄÅÂì™‰∫õÁ¥¢ÂºïÂÆûÈôÖ‰ºöÂëΩ‰∏≠„ÄÅÊØè‰∏™Êï∞ÊçÆË°®ÊúâÂ§öÂ∞ëË°åËÆ∞ÂΩïË¢´Êü•ËØ¢Á≠â‰ø°ÊÅØ„ÄÇ</p>
<p><code>EXPLAIN</code> ÈÄÇÁî®‰∫é <code>SELECT</code>, <code>DELETE</code>, <code>INSERT</code>, <code>REPLACE</code>, Âíå <code>UPDATE</code>ËØ≠Âè•ÔºåÊàë‰ª¨‰∏ÄËà¨ÂàÜÊûê <code>SELECT</code> Êü•ËØ¢ËæÉÂ§ö„ÄÇ</p>
<p>Êàë‰ª¨ËøôÈáåÁÆÄÂçïÊù•ÊºîÁ§∫‰∏Ä‰∏ã <code>EXPLAIN</code> ÁöÑ‰ΩøÁî®„ÄÇ</p>
<p><code>EXPLAIN</code> ÁöÑËæìÂá∫Ê†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>cus_order<span class="token punctuation">`</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment" spellcheck="true">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>     <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span>   <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment" spellcheck="true">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> cus_order <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">997572</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token keyword">Using</span> filesort <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment" spellcheck="true">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÂêÑ‰∏™Â≠óÊÆµÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th><strong>ÂàóÂêç</strong></th>
<th><strong>Âê´‰πâ</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>SELECT Êü•ËØ¢ÁöÑÂ∫èÂàóÊ†áËØÜÁ¨¶</td>
</tr>
<tr>
<td>select_type</td>
<td>SELECT ÂÖ≥ÈîÆÂ≠óÂØπÂ∫îÁöÑÊü•ËØ¢Á±ªÂûã</td>
</tr>
<tr>
<td>table</td>
<td>Áî®Âà∞ÁöÑË°®Âêç</td>
</tr>
<tr>
<td>partitions</td>
<td>ÂåπÈÖçÁöÑÂàÜÂå∫ÔºåÂØπ‰∫éÊú™ÂàÜÂå∫ÁöÑË°®ÔºåÂÄº‰∏∫ NULL</td>
</tr>
<tr>
<td>type</td>
<td>Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ï</td>
</tr>
<tr>
<td>possible_keys</td>
<td>ÂèØËÉΩÁî®Âà∞ÁöÑÁ¥¢Âºï</td>
</tr>
<tr>
<td>key</td>
<td>ÂÆûÈôÖÁî®Âà∞ÁöÑÁ¥¢Âºï</td>
</tr>
<tr>
<td>key_len</td>
<td>ÊâÄÈÄâÁ¥¢ÂºïÁöÑÈïøÂ∫¶</td>
</tr>
<tr>
<td>ref</td>
<td>ÂΩì‰ΩøÁî®Á¥¢ÂºïÁ≠âÂÄºÊü•ËØ¢Êó∂Ôºå‰∏éÁ¥¢Âºï‰ΩúÊØîËæÉÁöÑÂàóÊàñÂ∏∏Èáè</td>
</tr>
<tr>
<td>rows</td>
<td>È¢ÑËÆ°Ë¶ÅËØªÂèñÁöÑË°åÊï∞</td>
</tr>
<tr>
<td>filtered</td>
<td>ÊåâË°®Êù°‰ª∂ËøáÊª§ÂêéÔºåÁïôÂ≠òÁöÑËÆ∞ÂΩïÊï∞ÁöÑÁôæÂàÜÊØî</td>
</tr>
<tr>
<td>Extra</td>
<td>ÈôÑÂä†‰ø°ÊÅØ</td>
</tr>
</tbody></table>
<h2 id="üåüMySQLÂ∏∏ËßÅÂ≠òÂÇ®ÂºïÊìéÂå∫Âà´"><a href="#üåüMySQLÂ∏∏ËßÅÂ≠òÂÇ®ÂºïÊìéÂå∫Âà´" class="headerlink" title="üåüMySQLÂ∏∏ËßÅÂ≠òÂÇ®ÂºïÊìéÂå∫Âà´"></a>üåüMySQLÂ∏∏ËßÅÂ≠òÂÇ®ÂºïÊìéÂå∫Âà´</h2><p>MySQL Â≠òÂÇ®ÂºïÊìéÊúâ MyISAM „ÄÅInnoDB„ÄÅMemory</p>
<p>MySQL 5.5 ‰πãÂâçÔºåMyISAM ÊòØ MySQL ÁöÑÈªòËÆ§Â≠òÂÇ®ÂºïÊìéÔºåMySQL 5.5 ‰πãÂêéÔºå  InnoDB Êàê‰∏∫ MySQL ÁöÑÈªòËÆ§Â≠òÂÇ®ÂºïÊìé„ÄÇ</p>
<ul>
<li><strong>1.ÊòØÂê¶ÊîØÊåÅË°åÁ∫ßÈîÅ</strong>„ÄÇInnoDB ÊîØÊåÅË°åÁ∫ßÂà´ÁöÑÈîÅÁ≤íÂ∫¶ÔºåMyISAM ‰∏çÊîØÊåÅÔºåÂè™ÊîØÊåÅË°®Á∫ßÂà´ÁöÑÈîÅÁ≤íÂ∫¶„ÄÇ</li>
<li><strong>2.ÊòØÂê¶ÊîØÊåÅ‰∫ãÂä°</strong>„ÄÇMyISAM ‰∏çÊèê‰æõ‰∫ãÂä°ÊîØÊåÅ„ÄÇInnoDB Êèê‰æõ‰∫ãÂä°ÊîØÊåÅÔºåÂÆûÁé∞‰∫Ü SQL Ê†áÂáÜÂÆö‰πâ‰∫ÜÂõõ‰∏™ÈöîÁ¶ªÁ∫ßÂà´„ÄÇ</li>
<li><strong>3.ÊòØÂê¶ÊîØÊåÅÂ§ñÈîÆ</strong>„ÄÇMyISAM ‰∏çÊîØÊåÅÂ§ñÈîÆÔºåËÄå InnoDB ÊîØÊåÅ„ÄÇ</li>
<li><strong>4.ÊòØÂê¶ÊîØÊåÅÊï∞ÊçÆÂ∫ìÂºÇÂ∏∏Â¥©Ê∫ÉÂêéÁöÑÂÆâÂÖ®ÊÅ¢Â§ç</strong>„ÄÇMyISAM ‰∏çÊîØÊåÅÊï∞ÊçÆÂ∫ìÂºÇÂ∏∏Â¥©Ê∫ÉÂêéÁöÑÂÆâÂÖ®ÊÅ¢Â§çÔºåËÄå InnoDB ÊîØÊåÅ„ÄÇ</li>
<li><strong>5.ÊòØÂê¶ÊîØÊåÅ MVCC</strong>„ÄÇMyISAM ‰∏çÊîØÊåÅ MVVCÔºåËÄå InnoDB ÊîØÊåÅ„ÄÇ</li>
<li><strong>6.Á¥¢ÂºïÂÆûÁé∞‰∏ç‰∏ÄÊ†∑„ÄÇ</strong>ËôΩÁÑ∂ MyISAM ÂºïÊìéÂíå InnoDB ÂºïÊìéÈÉΩÊòØ‰ΩøÁî® B+Tree ‰Ωú‰∏∫Á¥¢ÂºïÁªìÊûÑÔºå‰ΩÜÊòØ‰∏§ËÄÖÁöÑÂÆûÁé∞ÊñπÂºè‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ</li>
<li><strong>7.ÊÄßËÉΩÊúâÂ∑ÆÂà´„ÄÇ</strong>InnoDB ÁöÑÊÄßËÉΩÊØî MyISAM Êõ¥Âº∫Â§ß„ÄÇ</li>
<li><strong>Ë°®ÁªìÊûÑÊñá‰ª∂</strong>ÔºöMyISAM ÁöÑË°®ÁªìÊûÑÊñá‰ª∂ÂåÖÊã¨ .frm(Ë°®ÁªìÊûÑÂÆö‰πâ)Ôºå.MYI(Á¥¢Âºï)„ÄÅ.MYDÔºàÊï∞ÊçÆÔºâÔºõËÄåInnDBÁöÑË°®Êï∞ÊçÆÊñá‰ª∂‰∏∫ .ibd(Êï∞ÊçÆÂíåÁ¥¢ÂºïÈõÜ‰∏≠Â≠òÂÇ®)Âíå.frm(Ë°®ÁªìÊûÑÂÆö‰πâ)„ÄÇ</li>
<li><strong>ËÆ∞ÂΩïÂ≠òÂÇ®È°∫Â∫è</strong>ÔºöMyISAMÊåâÁÖßËÆ∞ÂΩïÊèíÂÖ•È°∫Â∫èÔºåInnoDBÊåâÁÖß‰∏ªÈîÆÂ§ßÂ∞èÈ°∫Â∫èÊúâÂ∫èÊèíÂÖ•„ÄÇ</li>
<li><strong>Êìç‰ΩúÈÄüÂ∫¶</strong>ÔºöÂØπ‰∫éSELECTÂâçËÄÖÊõ¥‰ºòÔºåINSERT„ÄÅUPDATE„ÄÅDELETEÂêéËÄÖÊõ¥‰ºò„ÄÇselect count(*)‰ΩøÁî®MyISAMÊõ¥ÂùóÔºåÂõ†‰∏∫ÂÜÖÈÉ®Áª¥Êä§‰∫Ü‰∏Ä‰∏™ËÆ°Êï∞Âô®ÔºåÂèØ‰ª•Áõ¥Êé•Ë∞ÉÂ∫¶„ÄÇ<ul>
<li>‰∏∫‰ªÄ‰πàInnoDBÊ≤°ÊúâËÆ°Êï∞Âô®ÂèòÈáèÔºüÂõ†‰∏∫InnoDBÁöÑ‰∫ãÂä°ÁâπÊÄßÔºåÂêå‰∏ÄÊó∂ÂàªË°®‰∏≠ÁöÑË°åÊï∞ÂØπ‰∫é‰∏çÂêå‰∫ãÂä°ËÄåË®ÄÊòØ‰∏çÂêåÁöÑÔºåÂõ†Ê≠§ËÆ°Êï∞Âô®ÁªüËÆ°ÁöÑÊòØÂΩìÂâç‰∫ãÂä°ÂØπÂ∫îÁöÑË°åÊï∞ÔºåËÄå‰∏çÊòØÊÄªË°åÊï∞„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="üåüInnoDB-ÂõõÂ§ßÁâπÊÄßÂ¶Ç‰∏ã"><a href="#üåüInnoDB-ÂõõÂ§ßÁâπÊÄßÂ¶Ç‰∏ã" class="headerlink" title="üåüInnoDB ÂõõÂ§ßÁâπÊÄßÂ¶Ç‰∏ã"></a>üåüInnoDB ÂõõÂ§ßÁâπÊÄßÂ¶Ç‰∏ã</h2><ol>
<li>ÊèíÂÖ•ÁºìÂ≠òÔºåInsert buffer</li>
<li>‰∫åÊ¨°ÂÜôÔºådouble write</li>
<li>Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢ÂºïÔºåadaptive hash index</li>
<li>È¢ÑËØªÔºåread ahead</li>
</ol>
<h2 id="üåüSQLËØ≠Âè•ÊâßË°åÈ°∫Â∫è"><a href="#üåüSQLËØ≠Âè•ÊâßË°åÈ°∫Â∫è" class="headerlink" title="üåüSQLËØ≠Âè•ÊâßË°åÈ°∫Â∫è"></a>üåüSQLËØ≠Âè•ÊâßË°åÈ°∫Â∫è</h2><p><img src="https://img.jwt1399.top/img/202304242134762.png" alt="SQL Êü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åÈ°∫Â∫èËß£Êûê"></p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> 
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> DISTICNCT <span class="token keyword">column</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> AGG_FUNC<span class="token punctuation">(</span><span class="token keyword">column</span> <span class="token operator">or</span> expiression<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> left_table
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">JOIN</span> right_table
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">ON</span> tablename<span class="token punctuation">.</span><span class="token keyword">column</span> <span class="token operator">=</span> other_tablename<span class="token punctuation">.</span><span class="token keyword">column</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> constraint_expiression
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">WITH</span> CUBE<span class="token operator">|</span>ROLLUP
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">HAVING</span> constraint_expiression
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">column</span> <span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span>
<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token keyword">LIMIT</span> count <span class="token keyword">OFFSET</span> count<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">FROM</span> <span class="token operator">></span> <span class="token keyword">WHERE</span> <span class="token operator">></span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token operator">></span> <span class="token keyword">HAVING</span> <span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token operator">></span> <span class="token keyword">DISTINCT</span> <span class="token operator">></span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token operator">></span> <span class="token keyword">LIMIT</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>1„ÄÅfrom Â≠êÂè•ÁªÑË£ÖÊù•Ëá™‰∏çÂêåÊï∞ÊçÆÊ∫êÁöÑÊï∞ÊçÆÔºõ</p>
<p>2„ÄÅon ËøáÊª§Âô®</p>
<p>3„ÄÅjoin Ê∑ªÂä†Â§ñÈÉ®Ë°å</p>
<p>4„ÄÅwhere Â≠êÂè•Âü∫‰∫éÊåáÂÆöÁöÑÊù°‰ª∂ÂØπËÆ∞ÂΩïË°åËøõË°åÁ≠õÈÄâÔºõ </p>
<p>5„ÄÅgroup by Â≠êÂè•Â∞ÜÊï∞ÊçÆÂàíÂàÜ‰∏∫Â§ö‰∏™ÂàÜÁªÑÔºõ</p>
<p>6„ÄÅAGG_FUNC ‰ΩøÁî®ËÅöÈõÜÂáΩÊï∞ËøõË°åËÆ°ÁÆóÔºõ  </p>
<p>7„ÄÅWITH CUBE|ROLLUP</p>
<p>8„ÄÅhaving Â≠êÂè•Á≠õÈÄâÂàÜÁªÑÔºõ </p>
<p>9„ÄÅselect ÁöÑÂ≠óÊÆµÔºõ</p>
<p>10„ÄÅdistinct Ë°åÂéªÈáç</p>
<p>11„ÄÅorder by ÂØπÁªìÊûúÈõÜËøõË°åÊéíÂ∫è„ÄÇ</p>
<p>12„ÄÅlimit ÊåáÂÆöËøîÂõûË°å</p>
<h2 id="üåüselectÁöÑÊâßË°åËøáÁ®ã"><a href="#üåüselectÁöÑÊâßË°åËøáÁ®ã" class="headerlink" title="üåüselectÁöÑÊâßË°åËøáÁ®ã"></a>üåüselectÁöÑÊâßË°åËøáÁ®ã</h2><p>Êü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÔºöËøûÊé•Âô®ÊùÉÈôêÊ†°È™å‚Äî&gt;Êü•ËØ¢ÁºìÂ≠ò‚Äî&gt;Ëß£ÊûêÂô®‚Äî&gt;‰ºòÂåñÂô®‚Äî&gt;ÊâßË°åÂô®‚Äî&gt;ÂºïÊìé</p>
<ul>
<li><p><strong>ËøûÊé•Âô®</strong>ÔºöÂª∫Á´ãËøûÊé•ÔºåÁÆ°ÁêÜËøûÊé•„ÄÅÊ†°È™åÁî®Êà∑Ë∫´‰ªΩÔºõ</p>
<ul>
<li>È¶ñÂÖàÂÆ¢Êà∑Á´ØÂíåMySQLÈÄöËøáTCP‰∏âÊ¨°Êè°ÊâãÂª∫Á´ãËøûÊé•ÔºåËøûÊé•ÊàêÂäüÂ∞±ÂéªÂéªÊ†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ£ÄÈ™åÈÄöËøá‰πãÂêéËøûÊé•Âô®‰ºöËé∑ÂèñÁî®Êà∑ÊùÉÈôêÂπ∂‰∏î‰øùÂ≠òËµ∑Êù•ÔºåÂêéÁª≠ÁöÑÊìç‰ΩúÈÉΩ‰ºöÂü∫‰∫éËØªÂà∞ÁöÑÊùÉÈôêËøõË°åÂà§Êñ≠„ÄÇ</li>
</ul>
</li>
<li><p><strong>Êü•ËØ¢ÁºìÂ≠ò</strong>ÔºöSQLËØ≠Âè•Â¶ÇÊûúÂëΩ‰∏≠Êü•ËØ¢ÁºìÂ≠òÂàôÁõ¥Êé•ËøîÂõûÔºåÂê¶ÂàôÁªßÁª≠ÂæÄ‰∏ãÊâßË°å„ÄÇMySQL 8.0 Â∑≤Âà†Èô§ËØ•Ê®°ÂùóÔºõ</p>
<ul>
<li>ÂØπ‰∫éÊõ¥Êñ∞ÊØîËæÉÈ¢ëÁπÅÁöÑË°®ÔºåÊü•ËØ¢ÁºìÂ≠òÁöÑÂëΩ‰∏≠ÁéáÂæà‰ΩéÁöÑÔºåÂè™Ë¶Å‰∏Ä‰∏™Ë°®ÊúâÊõ¥Êñ∞Êìç‰ΩúÔºåÈÇ£‰πàËøô‰∏™Ë°®ÁöÑÊü•ËØ¢ÁºìÂ≠òÂ∞±‰ºöË¢´Ê∏ÖÁ©∫„ÄÇMySQL 8.0 Êü•ËØ¢ÁºìÂ≠òÂ∑≤Ë¢´Âà†Êéâ„ÄÇ</li>
</ul>
</li>
<li><p><strong>Ëß£Êûê SQL</strong>ÔºåÈÄöËøáËß£ÊûêÂô®ÂØπ SQL Êü•ËØ¢ËØ≠Âè•ËøõË°å<strong>ËØçÊ≥ïÂàÜÊûê„ÄÅËØ≠Ê≥ïÂàÜÊûê</strong>ÔºåÁÑ∂ÂêéÊûÑÂª∫ËØ≠Ê≥ïÊ†ëÔºåÊñπ‰æøÂêéÁª≠Ê®°ÂùóËØªÂèñË°®Âêç„ÄÅÂ≠óÊÆµ„ÄÅËØ≠Âè•Á±ªÂûãÔºõ</p>
<ul>
<li>ËØçÊ≥ïÂàÜÊûêÊòØÊääSQLËØ≠Âè•ÁöÑÂ≠óÁ¨¶‰∏≤ËØÜÂà´Âá∫ÂÖ≥ÈîÆÂ≠óÔºåÊñπ‰æøÂêéÁª≠‰ºòÂåñ</li>
<li>ËØ≠Ê≥ïÂàÜÊûêÊ†πÊçÆËØ≠Ê≥ïËßÑÂàôÂà§Êñ≠SQLËØ≠Âè•ÊòØÂê¶Êª°Ë∂≥Ë¶ÅÊ±ÇÔºåÂ¶ÇÊûúSQLËØ≠Âè•‰∏çÂØπÂ∞±‰ºöÊä•Èîô</li>
</ul>
</li>
<li><p><strong>ÊâßË°å SQL</strong>ÔºöÊâßË°å SQL ÂÖ±Êúâ‰∏â‰∏™Èò∂ÊÆµÔºö</p>
<ul>
<li>È¢ÑÂ§ÑÁêÜÈò∂ÊÆµÔºöÊ£ÄÊü•Ë°®ÊàñÂ≠óÊÆµÊòØÂê¶Â≠òÂú®ÔºõÂ∞Ü <code>select *</code> ‰∏≠ÁöÑ <code>*</code> Á¨¶Âè∑Êâ©Â±ï‰∏∫Ë°®‰∏äÁöÑÊâÄÊúâÂàó„ÄÇ</li>
<li>‰ºòÂåñÈò∂ÊÆµÔºöÂü∫‰∫éÊü•ËØ¢ÊàêÊú¨ÁöÑËÄÉËôëÔºå ÈÄâÊã©Êü•ËØ¢ÊàêÊú¨ÊúÄÂ∞èÁöÑÊâßË°åËÆ°ÂàíÔºõ</li>
<li>ÊâßË°åÈò∂ÊÆµÔºöÊ†πÊçÆÊâßË°åËÆ°ÂàíÊâßË°å SQL Êü•ËØ¢ËØ≠Âè•Ôºå‰ªéÂ≠òÂÇ®ÂºïÊìéËØªÂèñËÆ∞ÂΩïÔºåËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºõ</li>
</ul>
</li>
</ul>
<img src="https://cdn.xiaolincoding.com/gh/xiaolincoder/mysql/sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B/mysql%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B.png" alt="Êü•ËØ¢ËØ≠Âè•ÊâßË°åÊµÅÁ®ã" style="zoom: 50%;" />

<h2 id="üåüupdateÁöÑÊâßË°åËøáÁ®ã"><a href="#üåüupdateÁöÑÊâßË°åËøáÁ®ã" class="headerlink" title="üåüupdateÁöÑÊâßË°åËøáÁ®ã"></a>üåüupdateÁöÑÊâßË°åËøáÁ®ã</h2><p>Êõ¥Êñ∞ËØ≠Âè•ÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÔºöËøûÊé•Âô®‚Äî&gt;Ëß£ÊûêÂô®‚Äî&gt;‰ºòÂåñÂô®‚Äî&gt;ÊâßË°åÂô®‚Äî&gt;ÂºïÊìé‚Äî&gt;undo log‚Äî&gt;redo log(prepare Áä∂ÊÄÅ)‚Äî&gt;binlog‚Äî&gt;redo log(commitÁä∂ÊÄÅ)</p>
<p>ÂΩì‰ºòÂåñÂô®ÂàÜÊûêÂá∫ÊàêÊú¨ÊúÄÂ∞èÁöÑÊâßË°åËÆ°ÂàíÂêéÔºåÊâßË°åÂô®Â∞±ÊåâÁÖßÊâßË°åËÆ°ÂàíÂºÄÂßãËøõË°åÊõ¥Êñ∞Êìç‰Ωú„ÄÇ</p>
<p>ÂÖ∑‰ΩìÊõ¥Êñ∞‰∏ÄÊù°ËÆ∞ÂΩï <code>UPDATE t_user SET name = &#39;jj&#39; WHERE id = 1;</code> ÁöÑÊµÅÁ®ãÂ¶Ç‰∏ã:</p>
<ol>
<li>ÊâßË°åÂô®Ë¥üË¥£ÂÖ∑‰ΩìÊâßË°åÔºå‰ºöË∞ÉÁî®Â≠òÂÇ®ÂºïÊìéÁöÑÊé•Âè£ÔºåÈÄöËøá‰∏ªÈîÆÁ¥¢ÂºïÊ†ëÊêúÁ¥¢Ëé∑Âèñ id &#x3D; 1 Ëøô‰∏ÄË°åËÆ∞ÂΩïÔºö<ul>
<li>Â¶ÇÊûú id&#x3D;1 Ëøô‰∏ÄË°åÊâÄÂú®ÁöÑÊï∞ÊçÆÈ°µÊú¨Êù•Â∞±Âú® buffer pool ‰∏≠ÔºåÂ∞±Áõ¥Êé•ËøîÂõûÁªôÊâßË°åÂô®Êõ¥Êñ∞Ôºõ</li>
<li>Â¶ÇÊûúËÆ∞ÂΩï‰∏çÂú® buffer poolÔºåÂ∞ÜÊï∞ÊçÆÈ°µ‰ªéÁ£ÅÁõòËØªÂÖ•Âà∞ buffer poolÔºåËøîÂõûËÆ∞ÂΩïÁªôÊâßË°åÂô®„ÄÇ</li>
</ul>
</li>
<li>ÊâßË°åÂô®ÂæóÂà∞ËÅöÁ∞áÁ¥¢ÂºïËÆ∞ÂΩïÂêéÔºå‰ºöÁúã‰∏Ä‰∏ãÊõ¥Êñ∞ÂâçÁöÑËÆ∞ÂΩïÂíåÊõ¥Êñ∞ÂêéÁöÑËÆ∞ÂΩïÊòØÂê¶‰∏ÄÊ†∑Ôºö<ul>
<li>Â¶ÇÊûú‰∏ÄÊ†∑ÁöÑËØùÂ∞±‰∏çËøõË°åÂêéÁª≠Êõ¥Êñ∞ÊµÅÁ®ãÔºõ</li>
<li>Â¶ÇÊûú‰∏ç‰∏ÄÊ†∑ÁöÑËØùÂ∞±ÊääÊõ¥Êñ∞ÂâçÁöÑËÆ∞ÂΩïÂíåÊõ¥Êñ∞ÂêéÁöÑËÆ∞ÂΩïÈÉΩÂΩì‰ΩúÂèÇÊï∞‰º†Áªô InnoDB Â±ÇÔºåËÆ© InnoDB ÁúüÊ≠£ÁöÑÊâßË°åÊõ¥Êñ∞ËÆ∞ÂΩïÁöÑÊìç‰ΩúÔºõ</li>
</ul>
</li>
<li>ÂºÄÂêØ‰∫ãÂä°Ôºå InnoDB Â±ÇÊõ¥Êñ∞ËÆ∞ÂΩïÂâçÔºåÈ¶ñÂÖàË¶ÅËÆ∞ÂΩïÁõ∏Â∫îÁöÑ undo logÔºåÂõ†‰∏∫ËøôÊòØÊõ¥Êñ∞Êìç‰ΩúÔºåÈúÄË¶ÅÊääË¢´Êõ¥Êñ∞ÁöÑÂàóÁöÑÊóßÂÄºËÆ∞‰∏ãÊù•Ôºå‰πüÂ∞±ÊòØË¶ÅÁîüÊàê‰∏ÄÊù° undo logÔºåundo log ‰ºöÂÜôÂÖ• Buffer Pool ‰∏≠ÁöÑ Undo È°µÈù¢ÔºåÂú®ÂÜÖÂ≠ò‰øÆÊîπËØ• Undo È°µÈù¢ÂêéÔºåÈúÄË¶ÅËÆ∞ÂΩïÂØπÂ∫îÁöÑ redo log„ÄÇ</li>
<li>InnoDB Â±ÇÂºÄÂßãÊõ¥Êñ∞ËÆ∞ÂΩïÔºå‰ºöÂÖàÊõ¥Êñ∞ÂÜÖÂ≠òÔºàÂêåÊó∂Ê†áËÆ∞‰∏∫ËÑèÈ°µÔºâÔºåÁÑ∂ÂêéÂ∞ÜËÆ∞ÂΩïÂÜôÂà∞ redo log ÈáåÈù¢ÔºåËøô‰∏™Êó∂ÂÄôÊõ¥Êñ∞Â∞±ÁÆóÂÆåÊàê‰∫Ü„ÄÇ‰∏∫‰∫ÜÂáèÂ∞ëÁ£ÅÁõòI&#x2F;OÔºå‰∏ç‰ºöÁ´ãÂç≥Â∞ÜËÑèÈ°µÂÜôÂÖ•Á£ÅÁõòÔºåÂêéÁª≠Áî±ÂêéÂè∞Á∫øÁ®ãÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊó∂Êú∫Â∞ÜËÑèÈ°µÂÜôÂÖ•Âà∞Á£ÅÁõò„ÄÇËøôÂ∞±ÊòØ <strong>WAL ÊäÄÊúØ</strong>ÔºàMySQL ÁöÑÂÜôÊìç‰ΩúÂπ∂‰∏çÊòØÁ´ãÂàªÂÜôÂà∞Á£ÅÁõò‰∏äÔºåËÄåÊòØÂÖàÂÜô redo Êó•ÂøóÔºåÁÑ∂ÂêéÂú®ÂêàÈÄÇÁöÑÊó∂Èó¥ÂÜçÂ∞Ü‰øÆÊîπÁöÑË°åÊï∞ÊçÆÂÜôÂà∞Á£ÅÁõò‰∏äÔºâ</li>
<li>Ëá≥Ê≠§Ôºå‰∏ÄÊù°ËÆ∞ÂΩïÊõ¥Êñ∞ÂÆå‰∫Ü„ÄÇ</li>
<li>Âú®‰∏ÄÊù°Êõ¥Êñ∞ËØ≠Âè•ÊâßË°åÂÆåÊàêÂêéÔºåÁÑ∂ÂêéÂºÄÂßãËÆ∞ÂΩïËØ•ËØ≠Âè•ÂØπÂ∫îÁöÑ binlogÔºåÊ≠§Êó∂ËÆ∞ÂΩïÁöÑ binlog ‰ºöË¢´‰øùÂ≠òÂà∞ binlog cacheÔºåÂπ∂Ê≤°ÊúâÂà∑Êñ∞Âà∞Á°¨Áõò‰∏äÁöÑ binlog Êñá‰ª∂ÔºåÂú®‰∫ãÂä°Êèê‰∫§Êó∂Êâç‰ºöÁªü‰∏ÄÂ∞ÜËØ•‰∫ãÂä°ËøêË°åËøáÁ®ã‰∏≠ÁöÑÊâÄÊúâ binlog Âà∑Êñ∞Âà∞Á°¨Áõò„ÄÇ</li>
<li>‰∫ãÂä°Êèê‰∫§ÔºåÂâ©‰∏ãÁöÑÂ∞±ÊòØ„Äå‰∏§Èò∂ÊÆµÊèê‰∫§„ÄçÁöÑ‰∫ãÊÉÖ‰∫Ü„ÄÇ</li>
</ol>
<p>‰∏§Èò∂ÊÆµÊèê‰∫§Ôºö</p>
<ul>
<li><strong>prepare Èò∂ÊÆµ</strong>ÔºöÂ∞Ü redo log ÂØπÂ∫îÁöÑ‰∫ãÂä°Áä∂ÊÄÅËÆæÁΩÆ‰∏∫ prepareÔºåÂ∞ÜËÆ∞ÂΩïÂÜôÂà∞ redo log ÈáåÈù¢,ÁÑ∂ÂêéÂ∞Ü redo log ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºõ</li>
<li><strong>commit Èò∂ÊÆµ</strong>ÔºöÂ∞Ü binlog Âà∑Êñ∞Âà∞Á£ÅÁõòÔºåÊé•ÁùÄË∞ÉÁî®ÂºïÊìéÁöÑÊèê‰∫§‰∫ãÂä°Êé•Âè£ÔºåÂ∞Ü redo log Áä∂ÊÄÅËÆæÁΩÆ‰∏∫ commitÔºõ</li>
</ul>
<img src="https://cdn.xiaolincoding.com/gh/xiaolincoder/mysql/how_update/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4.drawio.png?image_process=watermark,text_5YWs5LyX5Y-377ya5bCP5p6XY29kaW5n,type_ZnpsdHpoaw,x_10,y_10,g_se,size_20,color_0000CD,t_70,fill_0" style="zoom:50%;" />

<h2 id="üåüDDL„ÄÅDML„ÄÅDCL„ÄÅTCL"><a href="#üåüDDL„ÄÅDML„ÄÅDCL„ÄÅTCL" class="headerlink" title="üåüDDL„ÄÅDML„ÄÅDCL„ÄÅTCL"></a>üåüDDL„ÄÅDML„ÄÅDCL„ÄÅTCL</h2><ol>
<li>DDL ‚Äì Êï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºåÁî®‰∫éÊìç‰ΩúÊï∞ÊçÆÁªìÊûÑÔºåÊØîÂ¶ÇÂàõÂª∫Ë°®ÔºåÂà†Èô§Ë°®ÔºåÊõ¥ÊîπÁ¥¢ÂºïÁ≠âÈÉΩÊòØDDL„ÄÇ</li>
<li>DML ‚Äì Êï∞ÊçÆÊìç‰ΩúËØ≠Ë®ÄÔºåÁî®‰∫éÊ£ÄÁ¥¢ÊàñËÄÖ‰øÆÊîπÊï∞ÊçÆ„ÄÇÊàë‰ª¨Âπ≥Â∏∏ÊúÄÂ∏∏Áî®ÁöÑÂ¢ûÂà†Êü•ÊîπÂ∞±ÊòØDML„ÄÇ</li>
<li>DCL ‚Äì Êï∞ÊçÆÊéßÂà∂ËØ≠Ë®ÄÔºåÁî®‰∫éÂÆö‰πâÊï∞ÊçÆÂ∫ìÁî®Êà∑ÁöÑÊùÉÈôêÔºåÊØîÂ¶ÇÂàõÂª∫Áî®Êà∑ÔºåÊéàÊùÉÁî®Êà∑ÔºåÂà†Èô§Áî®Êà∑Á≠âÈÉΩÊòØDCL„ÄÇ</li>
<li>TCL ‚Äì ‰∫ãÂä°ÊéßÂà∂ËØ≠Ë®ÄÔºåÁî®‰∫éÁÆ°ÁêÜÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∫ãÂä°„ÄÇÊØîÂ¶Ç‰∫ãÂä°ÂºÄÂêØÔºåÊèê‰∫§ÔºåÂõûÊªöÁ≠âÈÉΩÊòØTCL</li>
</ol>
<img src="https://img.jwt1399.top/img/202303241602214.png" style="zoom: 50%;" />

<h2 id="üåüdrop„ÄÅdelete„ÄÅtruncateÁöÑÂå∫Âà´"><a href="#üåüdrop„ÄÅdelete„ÄÅtruncateÁöÑÂå∫Âà´" class="headerlink" title="üåüdrop„ÄÅdelete„ÄÅtruncateÁöÑÂå∫Âà´"></a>üåüdrop„ÄÅdelete„ÄÅtruncateÁöÑÂå∫Âà´</h2><table>
<thead>
<tr>
<th></th>
<th>drop</th>
<th>delete</th>
<th>truncate</th>
</tr>
</thead>
<tbody><tr>
<td>Âà†Èô§ÂÜÖÂÆπ</td>
<td>Âà†Èô§Êï¥‰∏™Ë°®ÔºàÁªìÊûÑ„ÄÅÊï∞ÊçÆ„ÄÅÁ¥¢ÂºïÁ≠âÔºâ</td>
<td>Âà†Èô§‰∏ÄË°åËÆ∞ÂΩï</td>
<td>Âà†Èô§Êï¥‰∏™Ë°®Êï∞ÊçÆÔºåË°®ÁªìÊûÑËøòÂú®</td>
</tr>
<tr>
<td>Á±ªÂûã</td>
<td>DDL</td>
<td>DMLÔºå‰ºö‰∫ßÁîüredo log</td>
<td>DDL</td>
</tr>
<tr>
<td>ÂõûÊªö</td>
<td>‰∏çÂèØÂõûÊªö</td>
<td>ÂèØÂõûÊªö</td>
<td>‰∏çÂèØÂõûÊªö</td>
</tr>
<tr>
<td>ÈÄüÂ∫¶</td>
<td>Âø´</td>
<td>ÊÖ¢</td>
<td>ËæÉÂø´</td>
</tr>
</tbody></table>
<p>‰∏ÄËà¨Êù•ËÆ≤ÔºåÂà†Èô§Êï¥‰∏™Ë°®Ôºå‰ΩøÁî®dropÔºåÂà†Èô§Ë°®ÁöÑÈÉ®ÂàÜÊï∞ÊçÆ‰ΩøÁî®deleteÔºå‰øùÁïôË°®ÁªìÊûÑÂà†Èô§Ë°®ÁöÑÂÖ®ÈÉ®Êï∞ÊçÆ‰ΩøÁî®truncate„ÄÇ</p>
<h2 id="üåüÊï∞ÊçÆÂ∫ìËÆæËÆ°ÁöÑ‰∏âÂ§ßËåÉÂºè"><a href="#üåüÊï∞ÊçÆÂ∫ìËÆæËÆ°ÁöÑ‰∏âÂ§ßËåÉÂºè" class="headerlink" title="üåüÊï∞ÊçÆÂ∫ìËÆæËÆ°ÁöÑ‰∏âÂ§ßËåÉÂºè"></a>üåüÊï∞ÊçÆÂ∫ìËÆæËÆ°ÁöÑ‰∏âÂ§ßËåÉÂºè</h2><p>‰∏âÂ§ßËåÉÂºèÊòØ Mysql Êï∞ÊçÆÂ∫ìËÆæËÆ°Ë°®ÁªìÊûÑÊâÄÈÅµÂæ™ÁöÑËßÑËåÉÂíåÊåáÂØºÊñπÊ≥ïÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂáèÂ∞ëÂÜó‰ΩôÔºåÂª∫Á´ãÁªìÊûÑÂêàÁêÜÁöÑÊï∞ÊçÆÂ∫ìÔºå‰ªéËÄåÊèêÈ´òÊï∞ÊçÆÂ≠òÂÇ®Âíå‰ΩøÁî®ÁöÑÊÄßËÉΩ„ÄÇ</p>
<ul>
<li>Á¨¨‰∏ÄËåÉÂºèÔºà1NFÔºâÔºö<strong>Â≠óÊÆµ‰∏çÂèØÂÜçÊãÜÂàÜÔºàÂéüÂ≠êÊÄßÔºâ</strong>„ÄÇË¶ÅÊ±ÇË°®‰∏≠ÁöÑÊï∞ÊçÆÊØè‰∏ÄÂàóÈÉΩÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÂéüÂ≠êÈ°πÊï∞ÊçÆ</li>
<li>Á¨¨‰∫åËåÉÂºèÔºà2NFÔºâÔºö<strong>Â±ûÊÄßÂÆåÂÖ®‰æùËµñ‰∫é‰∏ªÈîÆÔºàÂîØ‰∏ÄÊÄßÔºâ</strong>„ÄÇ<strong>Ê∂àÈô§ÈÉ®ÂàÜ‰æùËµñ</strong>„ÄÇÂú®Ë°®Êª°Ë∂≥Á¨¨‰∏ÄËåÉÂºèÁöÑÊù°‰ª∂‰∏ãÔºåË¶ÅÊ±ÇË°®‰∏≠ÁöÑÊØè‰∏ÄÂàóÈÉΩ‰æùËµñ‰∫é‰∏ªÈîÆ„ÄÇ</li>
<li>Á¨¨‰∏âËåÉÂºèÔºà3NFÔºâÔºö<strong>Â±ûÊÄß‰∏ç‰æùËµñ‰∫éÂÖ∂ÂÆÉÈùû‰∏ªÂ±ûÊÄß</strong>„ÄÇ<strong>Ê∂àÈô§‰º†ÈÄí‰æùËµñ</strong>„ÄÇÂú®Ë°®Êª°Ë∂≥Á¨¨‰∫åËåÉÂºèÁöÑÊù°‰ª∂‰∏ãÔºåË¶ÅÊ±ÇË°®‰∏≠ÁöÑÊØè‰∏ÄÂàóÈÉΩÂíå‰∏ªÈîÆÊòØÁõ¥Êé•‰æùËµñÁöÑÔºå‰∏çÊòØÈó¥Êé•‰æùËµñ„ÄÇ<ul>
<li>Âú®‰ªª‰∏Ä‰∏ªÈîÆÈÉΩÂèØ‰ª•Á°ÆÂÆöÊâÄÊúâÈùû‰∏ªÈîÆÂ≠óÊÆµÂÄºÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏çËÉΩÂ≠òÂú®ÊüêÈùû‰∏ªÈîÆÂ≠óÊÆµ A ÂèØ‰ª•Ëé∑Âèñ ÊüêÈùû‰∏ªÈîÆÂ≠óÊÆµ B„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="üåüËåÉÂºèËÆæËÆ°‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢ò"><a href="#üåüËåÉÂºèËÆæËÆ°‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢ò" class="headerlink" title="üåüËåÉÂºèËÆæËÆ°‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢ò"></a>üåüËåÉÂºèËÆæËÆ°‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢ò</h2><p>ËåÉÂºèÊòØÊôÆÈÄÇÁöÑËßÑÂàôÔºåÊª°Ë∂≥Â§ßÂ§öÊï∞ÁöÑ‰∏öÂä°Âú∫ÊôØÁöÑÈúÄÊ±Ç„ÄÇÂØπ‰∫é‰∏Ä‰∫õÁâπÊÆäÁöÑ‰∏öÂä°Âú∫ÊôØÔºåËåÉÂºèËÆæËÆ°ÁöÑË°®ÔºåÊó†Ê≥ïÊª°Ë∂≥ÊÄßËÉΩÁöÑÈúÄÊ±Ç„ÄÇÊ≠§Êó∂ÔºåÂ∞±ÈúÄË¶ÅÊ†πÊçÆ‰∏öÂä°Âú∫ÊôØÔºåÂú®ËåÉÂºèÁöÑÂü∫Á°Ä‰πã‰∏äËøõË°åÁÅµÊ¥ªËÆæËÆ°Ôºå‰πüÂ∞±ÊòØÂèçËåÉÂºèËÆæËÆ°„ÄÇ</p>
<p>ÂèçËåÉÂºèËÆæËÆ°Â∞±ÊòØÁî®Á©∫Èó¥Êù•Êç¢ÂèñÊó∂Èó¥ÔºåÊèêÈ´ò‰∏öÂä°Âú∫ÊôØÁöÑÂìçÂ∫îÊó∂Èó¥ÔºåÂáèÂ∞ëÂ§öË°®ÂÖ≥ËÅî„ÄÇ</p>
<h2 id="üåüjoin-‰∏é-left-join-ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü"><a href="#üåüjoin-‰∏é-left-join-ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="üåüjoin ‰∏é left join ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü"></a>üåüjoin ‰∏é left join ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü</h2><ul>
<li>joinÁ≠â‰ª∑‰∫éinner joinÂÜÖËøûÊé•ÔºåËøîÂõû‰∏§‰∏™Ë°®‰∏≠ÈÉΩÊúâÁöÑÁ¨¶ÂêàÊù°‰ª∂ÁöÑË°å„ÄÇ</li>
<li>left joinÂ∑¶ËøûÊé•ÔºåËøîÂõûÂ∑¶Ë°®‰∏≠ÊâÄÊúâÁöÑË°åÂèäÂè≥Ë°®‰∏≠Á¨¶ÂêàÊù°‰ª∂ÁöÑË°å„ÄÇ</li>
<li>right joinÂè≥ËøûÊé•ÔºåËøîÂõûÂè≥Ë°®‰∏≠ÊâÄÊúâÁöÑË°åÂèäÂ∑¶Ë°®‰∏≠Á¨¶ÂêàÊù°‰ª∂ÁöÑË°å„ÄÇ</li>
<li>full joinÂÖ®ËøûÊé•ÔºåËøîÂõûÂ∑¶Ë°®‰∏≠ÊâÄÊúâÁöÑË°åÂèäÂè≥Ë°®‰∏≠ÊâÄÊúâÁöÑË°åÔºåÂπ∂ÊåâÊù°‰ª∂ËøûÊé•„ÄÇÔºàOracleÊîØÊåÅÔºåmysql‰∏çÊîØÊåÅÔºâ<ul>
<li>Â∑¶Â§ñËøûÊé•+ union+Âè≥Â§ñËøûÊé•ÂÆûÁé∞</li>
</ul>
</li>
</ul>
<h2 id="üåüSQLÊÄé‰πàÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢Ôºü"><a href="#üåüSQLÊÄé‰πàÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢Ôºü" class="headerlink" title="üåüSQLÊÄé‰πàÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢Ôºü"></a>üåüSQLÊÄé‰πàÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢Ôºü</h2><p>ÊØè‰∏ÄÊ¨°ÊåâÁÖßÊ®°Á≥äÂåπÈÖçÁöÑ<strong>ÂâçÁºÄÂ≠óÂÖ∏Â∫è</strong>Êù•ËøõË°åÊØîËæÉ„ÄÇlikeÂÖ≥ÈîÆÂ≠ó </p>
<ul>
<li>%ÔºöË°®Á§∫‰ªªÊÑè0‰∏™ÊàñÂ§ö‰∏™Â≠óÁ¨¶</li>
<li>_Ôºö Ë°®Á§∫‰ªªÊÑèÂçï‰∏™Â≠óÁ¨¶</li>
<li>[ ]ÔºöË°®Á§∫Êã¨Âè∑ÂÜÖÊâÄÂàóÂ≠óÁ¨¶‰∏≠ÁöÑ‰∏Ä‰∏™</li>
<li>[^ ] ÔºöË°®Á§∫‰∏çÂú®Êã¨Âè∑ÊâÄÂàó‰πãÂÜÖÁöÑÂçï‰∏™Â≠óÁ¨¶</li>
</ul>
<h2 id="üåüvarchar-Âíå-char-ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü"><a href="#üåüvarchar-Âíå-char-ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="üåüvarchar Âíå char ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü"></a>üåüvarchar Âíå char ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü</h2><p>Âå∫Âà´ÔºöÂ≠òÂÇ®ÁöÑÂÆπÈáè‰∏çÂêå„ÄÅÂÆöÈïøÂíåÂèòÈïø„ÄÅÊïàÁéáÂíåÁ©∫Èó¥</p>
<ul>
<li><p>ÂØπ char Êù•ËØ¥ÔºåÊúÄÂ§öËÉΩÂ≠òÊîæ <strong>255 ‰∏™Â≠óÁ¨¶</strong>ÔºåÂ§ßÂ∞èÂíåÁºñÁ†ÅÊó†ÂÖ≥„ÄÇ<strong>char Ë°®Á§∫ÂÆöÈïøÔºåÈïøÂ∫¶Âõ∫ÂÆö</strong>„ÄÇcharÊèíÂÖ•ÁöÑÈïøÂ∫¶Â∞è‰∫éÂÆö‰πâÈïøÂ∫¶Êó∂ÔºåÂâ©‰ΩôÁöÑÁ©∫Èó¥Áî®<strong>Á©∫Ê†ºÂ°´ÂÖÖ</strong>„ÄÇcharÈïøÂ∫¶Âõ∫ÂÆöÔºåÊâÄ‰ª•<strong>Â≠òÂèñÈÄüÂ∫¶</strong>ÊØîvarchar<strong>Ë¶ÅÂø´ÂæóÂ§ö</strong>ÔºåÊñπ‰æøÁ®ãÂ∫èÁöÑÂ≠òÂÇ®‰∏éÊü•ÊâæÔºõ‰ΩÜÊòØchar‰πü‰∏∫Ê≠§‰ªòÂá∫ÁöÑÊòØÁ©∫Èó¥ÁöÑ‰ª£‰ª∑ÔºåÂõ†‰∏∫ÂÖ∂ÈïøÂ∫¶Âõ∫ÂÆöÔºåÊâÄ‰ª•<strong>‰ºöÂç†ÊçÆÂ§ö‰ΩôÁöÑÁ©∫Èó¥</strong>ÔºåÂèØË∞ìÊòØ‰ª•Á©∫Èó¥Êç¢ÂèñÊó∂Èó¥ÊïàÁéá„ÄÇ</p>
</li>
<li><p>ËÄå varchar Âë¢ÔºåÊúÄÂ§öËÉΩÂ≠òÊîæ <strong>65532 ‰∏™Â≠óÁ¨¶</strong>ÔºåvarcharÁöÑÊúÄÂ§ßÊúâÊïàÈïøÂ∫¶Áî±ÊúÄÂ§ßË°åÂ§ßÂ∞èÂíå‰ΩøÁî®ÁöÑÂ≠óÁ¨¶ÈõÜÁ°ÆÂÆö„ÄÇ<strong>varcharË°®Á§∫ÂèòÈïøÔºåÈïøÂ∫¶ÂèØÂèò</strong>„ÄÇvarcharÊèíÂÖ•ÁöÑÈïøÂ∞è‰∫éÂÆö‰πâÈïøÂ∫¶Êó∂ÔºåÂâ©‰ΩôÁöÑÁ©∫Èó¥‰ºöÁïôÁªô<strong>ÂÖ∂‰ªñÊï∞ÊçÆ‰ΩøÁî®</strong>„ÄÇvarcharÂàôÂàöÂ•ΩÁõ∏ÂèçÔºå‰ª•Êó∂Èó¥Êç¢Á©∫Èó¥„ÄÇ</p>
</li>
</ul>
<h2 id="üåüvarcharËÉΩÂÆåÂÖ®‰ª£Êõøchar‰πàÔºü"><a href="#üåüvarcharËÉΩÂÆåÂÖ®‰ª£Êõøchar‰πàÔºü" class="headerlink" title="üåüvarcharËÉΩÂÆåÂÖ®‰ª£Êõøchar‰πàÔºü"></a>üåüvarcharËÉΩÂÆåÂÖ®‰ª£Êõøchar‰πàÔºü</h2><p>‰∏çËÉΩ„ÄÇvarcharÁöÑ‰ºòÁÇπÊòØÊõ¥ÁÅµÊ¥ª„ÄÇ‰ΩÜÊòØchar‰πü‰∏çÊòØ‰∏ÄÊó†ÊòØÂ§ÑÁöÑ„ÄÇ</p>
<p>È¶ñÂÖàÔºåvarchar‰ºöÈ¢ùÂ§ñÁî®‰∏Ä‰∏™Â≠óËäÇÂ≠òÂÇ®ÈïøÂ∫¶‰ø°ÊÅØÔºåËÄåcharÂàôËäÇÁ∫¶‰∫Ü‰∏Ä‰∏™Â≠óËäÇÔºõ</p>
<p>ÂÖ∂Ê¨°ÔºåcharÁöÑÂ≠òÂÇ®Á©∫Èó¥ÈÉΩÊòØ‰∏ÄÊ¨°ÊÄßÂàÜÈÖçÁöÑÔºåÂ≠òÂÇ®ÊòØÂõ∫ÂÆöËøûÁª≠ÁöÑÔºåvarcharÁöÑÂ≠òÂÇ®ÁöÑÈïøÂ∫¶ÊòØÂèØÂèòÁöÑÔºåÂΩìvarcharÊõ¥ÊîπÂâçÂêéÊï∞ÊçÆÈïøÂ∫¶‰∏ç‰∏ÄËá¥Êó∂ÔºåÂ∞±‰∏çÂèØÈÅøÂÖçÁöÑ‰ºöÂá∫Áé∞Á¢éÁâáÁöÑÈóÆÈ¢ò„ÄÇÈíàÂØπÊ≠§ÔºåÈúÄË¶ÅËøõË°åÁ¢éÁâáÊ∂àÈô§‰Ωú‰∏öÔºå‰πüÊòØÈ¢ùÂ§ñÁöÑÊàêÊú¨„ÄÇ</p>
<p>‰∏ÄËà¨Êù•ËØ¥ÔºåÈïøÂ∫¶Âõ∫ÂÆöÁöÑÂ≠óÊÆµÔºåËøòÊòØÁî®charÊØîËæÉÂêàÈÄÇÔºåÊØîÂ¶ÇHashÔºåÂ∞±ÂæàÈÄÇÂêàÁî®char„ÄÇ</p>
<h2 id="üåüvarchar-5-Âíåint-5-‰∏≠ÁöÑ50ÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"><a href="#üåüvarchar-5-Âíåint-5-‰∏≠ÁöÑ50ÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü" class="headerlink" title="üåüvarchar(5)Âíåint(5)‰∏≠ÁöÑ50ÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"></a>üåüvarchar(5)Âíåint(5)‰∏≠ÁöÑ50ÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü</h2><p>varcahr‰∏≠‰ª£Ë°®ËÉΩÂ≠ò5‰∏™Â≠óÁ¨¶ÔºåÂÆûÈôÖÂ≠òÂÇ®‚Äú50‚Äù</p>
<p>int‰∏≠Âè™ÊòØ‰ª£Ë°®ÊòæÁ§∫ÈïøÂ∫¶ÔºåÂÆûÈôÖÂ≠òÂÇ®‚Äú00050‚Äù</p>
<p>ÊØîÂ¶Çint(1)Âíåint(20)Â≠òÂÇ®ÂíåËÆ°ÁÆóÂÖ∂ÂÆûÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÊï∞Â≠óÂè™ÊòØÁî®‰∫éÊòæÁ§∫ÈïøÂ∫¶Ôºå<strong>‰∏ç‰ºöÂΩ±ÂìçÂ≠òÂÇ®Á©∫Èó¥</strong></p>
<h2 id="üåücount-Âíå-count-1-Âíåcount-ÂàóÂêç-Âå∫Âà´"><a href="#üåücount-Âíå-count-1-Âíåcount-ÂàóÂêç-Âå∫Âà´" class="headerlink" title="üåücount(*) Âíå count(1)Âíåcount(ÂàóÂêç)Âå∫Âà´"></a>üåücount(*) Âíå count(1)Âíåcount(ÂàóÂêç)Âå∫Âà´</h2><p><code>count(*)‚âàcount(1)&gt;count(‰∏ªÈîÆ)&gt;count(Â≠óÊÆµ)</code></p>
<ul>
<li>count(*)‰ºöÁªüËÆ°Ë°®ÊâÄÊúâÁöÑÂàóÔºåÁõ∏ÂΩì‰∫éË°åÊï∞Ôºå‰∏ç‰ºöÂøΩÁï•‰∏∫NULLÁöÑÂÄº„ÄÇ</li>
<li>count(1)‰ºöÁªüËÆ°Ë°®ÊâÄÊúâÁöÑÂàóÔºå‰∏ç‰ºöÂøΩÁï•‰∏∫NULLÁöÑÂÄº„ÄÇÂøΩÁï•‰∫ÜÊâÄÊúâÂàóÔºåÊØè‰∏ÄÂàóÈÉΩË¢´‰ΩøÁî®1Êù•‰ª£Ë°®</li>
<li>count(ÂàóÂêç) ‰ºöÁªüËÆ°ËØ•ÂàóÂêçÂú®Ë°®‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂøΩÁï•Â≠óÊÆµ‰∏∫NULL ÁöÑÊÉÖÂÜµ„ÄÇ</li>
</ul>
<p>count(‰∏ªÈîÆ)ÈúÄË¶ÅÂà§Êñ≠‰∏ªÈîÆÊòØÂê¶‰∏∫Á©∫ÂÄºÔºõcount(Â≠óÊÆµ)‰ºöËøõË°åÂÖ®Ë°®Êâ´ÊèèÔºåÊïàÁéáÊúÄÂ∑Æ„ÄÇ</p>
<ul>
<li><p>Â¶ÇÊûúË°®Âè™Êúâ‰∏Ä‰∏™Â≠óÊÆµÔºå count(*)ÊúÄ‰ºò</p>
</li>
<li><p>Â¶ÇÊûúË°®Â§ö‰∏™ÂàóÂπ∂‰∏îÊ≤°Êúâ‰∏ªÈîÆÔºåcount(1) ‰ºò‰∫é countÔºà*Ôºâ</p>
</li>
<li><p>ÂàóÂêç‰∏∫‰∏ªÈîÆÔºåcount(ÂàóÂêç)‰ºöÊØîcount(1)Âø´</p>
</li>
<li><p>ÂàóÂêç‰∏ç‰∏∫‰∏ªÈîÆÔºåcount(1)‰ºöÊØîcount(ÂàóÂêç)Âø´</p>
</li>
<li><p>Â¶ÇÊûúÊúâ‰∏ªÈîÆÔºåcount(‰∏ªÈîÆ)ÊúÄ‰ºò</p>
</li>
</ul>
<h2 id="üåüUNIONÂíåUNION-ALLÁöÑÂå∫Âà´Ôºü"><a href="#üåüUNIONÂíåUNION-ALLÁöÑÂå∫Âà´Ôºü" class="headerlink" title="üåüUNIONÂíåUNION ALLÁöÑÂå∫Âà´Ôºü"></a>üåüUNIONÂíåUNION ALLÁöÑÂå∫Âà´Ôºü</h2><p>unionÂíåunion allÁöÑ‰ΩúÁî®ÈÉΩÊòØÂ∞Ü‰∏§‰∏™ÁªìÊûúÈõÜÂêàÂπ∂Âà∞‰∏ÄËµ∑„ÄÇ</p>
<ul>
<li>union‰ºöÂØπÁªìÊûúÂéªÈáçÂπ∂ÊéíÂ∫èÔºåunion allÁõ¥Êé•Áõ¥Êé•ËøîÂõûÂêàÂπ∂ÂêéÁöÑÁªìÊûúÔºå‰∏çÂéªÈáç‰πü‰∏çËøõË°åÊéíÂ∫è„ÄÇ</li>
<li>union allÁöÑÊÄßËÉΩÊØîunionÊÄßËÉΩÂ•Ω„ÄÇ</li>
</ul>
<h1 id="‚ë°Á¥¢Âºï"><a href="#‚ë°Á¥¢Âºï" class="headerlink" title="‚ë°Á¥¢Âºï"></a>‚ë°Á¥¢Âºï</h1><h2 id="üåüB-Ê†ëÁÆÄ‰ªã"><a href="#üåüB-Ê†ëÁÆÄ‰ªã" class="headerlink" title="üåüB+ Ê†ëÁÆÄ‰ªã"></a>üåüB+ Ê†ëÁÆÄ‰ªã</h2><table>
<thead>
<tr>
<th align="center">Ê†áÂáÜ B+ Ê†ë</th>
<th align="center">Innodb ÈáåÁöÑ B+ Ê†ë</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="https://img.jwt1399.top/img/202308061049987.png" style="zoom:50%;"  /></td>
<td align="center"><img src="https://img.jwt1399.top/img/202308061049469.png"  style="zoom:50%;" /></td>
</tr>
</tbody></table>
<p>B+Ê†ëÁöÑÁâπÁÇπÊúâ‰∏§‰∏™Ôºö</p>
<ul>
<li>1.ÈùûÂè∂Â≠êËäÇÁÇπ]‰ªÖÂÖ∑ÊúâÁ¥¢Âºï‰ΩúÁî®Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÈùûÂè∂Â≠êËäÇÁÇπÂè™ËÉΩÂ≠òÂÇ®Key,‰∏çËÉΩÂ≠òÂÇ®value</li>
<li>2.Ê†ëÁöÑÊâÄÊúâÂè∂ËäÇÁÇπÊûÑÊàê‰∏Ä‰∏™ÊúâÂ∫èÈìæË°®ÔºåÂèØ‰ª•ÊåâÁÖßkeyÊéíÂ∫èÁöÑÊ¨°Â∫è‰æùÊ¨°ÈÅçÂéÜÂÖ®ÈÉ®Êï∞ÊçÆ„ÄÇ</li>
</ul>
<p> ‰ΩÜÊòØ Innodb ‰ΩøÁî®ÁöÑ B+ Ê†ëÊúâ‰∏Ä‰∫õÁâπÂà´ÁöÑÁÇπÔºåÊØîÂ¶ÇÔºö</p>
<ul>
<li>B+ Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπ‰πãÈó¥ÊòØÁî®„ÄåÂèåÂêëÈìæË°®„ÄçËøõË°åËøûÊé•ÔºåËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØÊó¢ËÉΩÂêëÂè≥ÈÅçÂéÜÔºå‰πüËÉΩÂêëÂ∑¶ÈÅçÂéÜ„ÄÇ</li>
<li>B+ Ê†ëÁÇπËäÇÁÇπÂÜÖÂÆπÊòØÊï∞ÊçÆÈ°µÔºåÊï∞ÊçÆÈ°µÈáåÂ≠òÊîæ‰∫ÜÁî®Êà∑ÁöÑËÆ∞ÂΩï‰ª•ÂèäÂêÑÁßç‰ø°ÊÅØÔºåÊØè‰∏™Êï∞ÊçÆÈ°µÈªòËÆ§Â§ßÂ∞èÊòØ 16 KB„ÄÇ</li>
</ul>
<h2 id="üåüB-Ê†ëÊúâÂá†Â±ÇÔºåÊúÄÂ§ßÂèØ‰ª•Â≠òÊîæÂ§öÂ∞ëÊù°Êï∞ÊçÆ"><a href="#üåüB-Ê†ëÊúâÂá†Â±ÇÔºåÊúÄÂ§ßÂèØ‰ª•Â≠òÊîæÂ§öÂ∞ëÊù°Êï∞ÊçÆ" class="headerlink" title="üåüB+Ê†ëÊúâÂá†Â±ÇÔºåÊúÄÂ§ßÂèØ‰ª•Â≠òÊîæÂ§öÂ∞ëÊù°Êï∞ÊçÆ"></a>üåüB+Ê†ëÊúâÂá†Â±ÇÔºåÊúÄÂ§ßÂèØ‰ª•Â≠òÊîæÂ§öÂ∞ëÊù°Êï∞ÊçÆ</h2><p>B+Ê†ë‰∏ÄËà¨ÊòØ1ÔΩû3Â±Ç„ÄÇ</p>
<p>InnoDBÈ°µÁöÑÂ§ßÂ∞è<strong>ÈªòËÆ§ÊòØ16KB</strong>Ôºö</p>
<ul>
<li>ÂÅáËÆæ‰∏ÄÊù°ËÆ∞ÂΩïÂ§ßÂ∞è‰∏∫1KBÔºåÂàô‰∏Ä‰∏™Êï∞ÊçÆÈ°µ‰∏≠ÂèØ‰ª•Â≠ò16Êù°Êï∞ÊçÆÔºàÂøΩÁï•È°µ‰∏≠ÁöÑÂÖ∂‰ªñÊï∞ÊçÆÁªìÊûÑÔºâ</li>
<li>ÂÅáËÆæ‰∏ªÈîÆ‰∏∫int 4BÔºåÊåáÈíàÂ§ßÂ∞è‰∏∫6BÔºåÂàô‰∏Ä‰∏™Á¥¢ÂºïÈ°µ‰∏≠ÂèØ‰ª•Â≠òÂÇ®<code>16KB/(4B+6B)‚âà1638</code>‰∏™Á¥¢Âºï</li>
</ul>
<p>ÊâÄ‰ª•Ôºå‰∏§Â±ÇÁöÑB+Ê†ëÂèØ‰ª•Â≠òÂÇ®Ôºö<code>16*1638=26208</code>Êù°Êï∞ÊçÆÔºà2 ‰∏áÔºâÔºõ‰∏âÂ±ÇÁöÑB+Ê†ëÂèØ‰ª•Â≠òÂÇ®Ôºö<code>16*1638*1638=42928704</code>Êù°Êï∞ÊçÆÔºà4 ÂçÉ‰∏áÔºâ„ÄÇ</p>
<h2 id="üåüMySQL-‰∏∫‰ªÄ‰πà‰ΩøÁî®-B-Ê†ëÊù•‰ΩúÁ¥¢Âºï"><a href="#üåüMySQL-‰∏∫‰ªÄ‰πà‰ΩøÁî®-B-Ê†ëÊù•‰ΩúÁ¥¢Âºï" class="headerlink" title="üåüMySQL ‰∏∫‰ªÄ‰πà‰ΩøÁî® B+ Ê†ëÊù•‰ΩúÁ¥¢Âºï"></a>üåüMySQL ‰∏∫‰ªÄ‰πà‰ΩøÁî® B+ Ê†ëÊù•‰ΩúÁ¥¢Âºï</h2><p>B Ê†ëÂíå B+ ÈÉΩÊòØÈÄöËøáÂ§öÂèâÊ†ëÁöÑÊñπÂºèÔºå‰ºöÂ∞ÜÊ†ëÁöÑÈ´òÂ∫¶ÂèòÁüÆÔºåÊâÄ‰ª•Ëøô‰∏§‰∏™Êï∞ÊçÆÁªìÊûÑÈùûÂ∏∏ÈÄÇÂêàÊ£ÄÁ¥¢Â≠ò‰∫éÁ£ÅÁõò‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<p>‰ΩÜÊòØ MySQL ÈªòËÆ§ÁöÑÂ≠òÂÇ®ÂºïÊìé InnoDB ÈááÁî®ÁöÑÊòØ B+ ‰Ωú‰∏∫Á¥¢ÂºïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂéüÂõ†ÊúâÔºö</p>
<ul>
<li>B+ Ê†ëÁöÑÈùûÂè∂Â≠êËäÇÁÇπ‰∏çÂ≠òÊîæÂÆûÈôÖÁöÑËÆ∞ÂΩïÊï∞ÊçÆÔºå‰ªÖÂ≠òÊîæÁ¥¢ÂºïÔºåÂõ†Ê≠§Êï∞ÊçÆÈáèÁõ∏ÂêåÁöÑÊÉÖÂÜµ‰∏ãÔºåÁõ∏ÊØîÂ≠òÂÇ®Âç≥Â≠òÁ¥¢ÂºïÂèàÂ≠òËÆ∞ÂΩïÁöÑ B Ê†ëÔºåB+Ê†ëÁöÑÈùûÂè∂Â≠êËäÇÁÇπÂèØ‰ª•Â≠òÊîæÊõ¥Â§öÁöÑÁ¥¢ÂºïÔºåÂõ†Ê≠§ B+ Ê†ëÂèØ‰ª•ÊØî B Ê†ëÊõ¥„ÄåÁüÆËÉñ„ÄçÔºåÊü•ËØ¢Â∫ïÂ±ÇËäÇÁÇπÁöÑÁ£ÅÁõò I&#x2F;OÊ¨°Êï∞‰ºöÊõ¥Â∞ë„ÄÇ</li>
<li>B+ Ê†ëÊúâÂ§ßÈáèÁöÑÂÜó‰ΩôËäÇÁÇπÔºàÊâÄÊúâÈùûÂè∂Â≠êËäÇÁÇπÈÉΩÊòØÂÜó‰ΩôÁ¥¢ÂºïÔºâÔºåËøô‰∫õÂÜó‰ΩôÁ¥¢ÂºïËÆ© B+ Ê†ëÂú®ÊèíÂÖ•„ÄÅÂà†Èô§ÁöÑÊïàÁéáÈÉΩÊõ¥È´òÔºåÊØîÂ¶ÇÂà†Èô§Ê†πËäÇÁÇπÁöÑÊó∂ÂÄôÔºå‰∏ç‰ºöÂÉè B Ê†ëÈÇ£Ê†∑‰ºöÂèëÁîüÂ§çÊùÇÁöÑÊ†ëÁöÑÂèòÂåñÔºõ</li>
<li>B+ Ê†ëÂè∂Â≠êËäÇÁÇπ‰πãÈó¥Áî®ÈìæË°®ËøûÊé•‰∫ÜËµ∑Êù•ÔºåÊúâÂà©‰∫éËåÉÂõ¥Êü•ËØ¢ÔºåËÄå B Ê†ëË¶ÅÂÆûÁé∞ËåÉÂõ¥Êü•ËØ¢ÔºåÂõ†Ê≠§Âè™ËÉΩÈÄöËøáÊ†ëÁöÑÈÅçÂéÜÊù•ÂÆåÊàêËåÉÂõ¥Êü•ËØ¢ÔºåËøô‰ºöÊ∂âÂèäÂ§ö‰∏™ËäÇÁÇπÁöÑÁ£ÅÁõò I&#x2F;O Êìç‰ΩúÔºåËåÉÂõ¥Êü•ËØ¢ÊïàÁéá‰∏çÂ¶Ç B+ Ê†ë„ÄÇ</li>
</ul>
<h2 id="üåüMySQLÁöÑÁ¥¢Âºï‰∏∫‰ªÄ‰πà‰ΩøÁî®B-Ê†ëËÄå‰∏ç‰ΩøÁî®Ë∑≥Ë°®Ôºü"><a href="#üåüMySQLÁöÑÁ¥¢Âºï‰∏∫‰ªÄ‰πà‰ΩøÁî®B-Ê†ëËÄå‰∏ç‰ΩøÁî®Ë∑≥Ë°®Ôºü" class="headerlink" title="üåüMySQLÁöÑÁ¥¢Âºï‰∏∫‰ªÄ‰πà‰ΩøÁî®B+Ê†ëËÄå‰∏ç‰ΩøÁî®Ë∑≥Ë°®Ôºü"></a>üåüMySQLÁöÑÁ¥¢Âºï‰∏∫‰ªÄ‰πà‰ΩøÁî®B+Ê†ëËÄå‰∏ç‰ΩøÁî®Ë∑≥Ë°®Ôºü</h2><p><strong>B+Ê†ë</strong>ÊòØÂ§öÂèâÊ†ëÁªìÊûÑÔºåÊØè‰∏™ÁªìÁÇπÈÉΩÊòØ‰∏Ä‰∏™16kÁöÑÊï∞ÊçÆÈ°µÔºåËÉΩÂ≠òÊîæËæÉÂ§öÁ¥¢Âºï‰ø°ÊÅØ„ÄÇ<strong>‰∏âÂ±Ç</strong>Â∑¶Âè≥Â∞±ÂèØ‰ª•Â≠òÂÇ®<code>2kw</code>Â∑¶Âè≥ÁöÑÊï∞ÊçÆ„ÄÇ‰πüÂ∞±ÊòØËØ¥Êü•ËØ¢‰∏ÄÊ¨°Êï∞ÊçÆÔºåÂ¶ÇÊûúËøô‰∫õÊï∞ÊçÆÈ°µÈÉΩÂú®Á£ÅÁõòÈáåÔºåÈÇ£‰πàÊúÄÂ§öÈúÄË¶ÅÊü•ËØ¢<strong>‰∏âÊ¨°Á£ÅÁõòIO</strong>„ÄÇ</p>
<p><strong>Ë∑≥Ë°®</strong>ÊòØÈìæË°®ÁªìÊûÑÔºå‰∏ÄÊù°Êï∞ÊçÆ‰∏Ä‰∏™ÁªìÁÇπÔºåÂ¶ÇÊûúÊúÄÂ∫ïÂ±ÇË¶ÅÂ≠òÊîæ<code>2kw</code>Êï∞ÊçÆÔºå‰∏îÊØèÊ¨°Êü•ËØ¢ÈÉΩË¶ÅËÉΩËææÂà∞<strong>‰∫åÂàÜÊü•Êâæ</strong>ÁöÑÊïàÊûúÔºå<code>2kw</code>Â§ßÊ¶ÇÂú®<code>2ÁöÑ24Ê¨°Êñπ</code>Â∑¶Âè≥ÔºåÊâÄ‰ª•ÔºåË∑≥Ë°®Â§ßÊ¶ÇÈ´òÂ∫¶Âú®<strong>24Â±Ç</strong>Â∑¶Âè≥„ÄÇÊúÄÂùèÊÉÖÂÜµ‰∏ãÔºåËøô24Â±ÇÊï∞ÊçÆ‰ºöÂàÜÊï£Âú®‰∏çÂêåÁöÑÊï∞ÊçÆÈ°µÈáåÔºå‰πüÂç≥ÊòØÊü•‰∏ÄÊ¨°Êï∞ÊçÆ‰ºöÁªèÂéÜ<strong>24Ê¨°Á£ÅÁõòIO</strong>„ÄÇ</p>
<p>Âõ†Ê≠§Â≠òÊîæÂêåÊ†∑ÈáèÁ∫ßÁöÑÊï∞ÊçÆÔºåB+Ê†ëÁöÑÈ´òÂ∫¶ÊØîË∑≥Ë°®ÁöÑË¶ÅÂ∞ëÔºåÂ¶ÇÊûúÊîæÂú®MySQLÊï∞ÊçÆÂ∫ì‰∏äÊù•ËØ¥ÔºåÂ∞±ÊòØ<strong>Á£ÅÁõòIOÊ¨°Êï∞Êõ¥Â∞ëÔºåÂõ†Ê≠§B+Ê†ëÊü•ËØ¢Êõ¥Âø´</strong>„ÄÇ</p>
<p>ËÄåÈíàÂØπ<strong>ÂÜôÊìç‰Ωú</strong>ÔºåB+Ê†ëÈúÄË¶ÅÊãÜÂàÜÂêàÂπ∂Á¥¢ÂºïÊï∞ÊçÆÈ°µÔºåË∑≥Ë°®ÂàôÁã¨Á´ãÊèíÂÖ•ÔºåÂπ∂Ê†πÊçÆÈöèÊú∫ÂáΩÊï∞Á°ÆÂÆöÂ±ÇÊï∞ÔºåÊ≤°ÊúâÊóãËΩ¨ÂíåÁª¥ÊåÅÂπ≥Ë°°ÁöÑÂºÄÈîÄÔºåÂõ†Ê≠§<strong>Ë∑≥Ë°®ÁöÑÂÜôÂÖ•ÊÄßËÉΩ‰ºöÊØîB+Ê†ëË¶ÅÂ•Ω„ÄÇ</strong></p>
<p>ÂÖ∂ÂÆûÔºåMySQLÁöÑ<strong>Â≠òÂÇ®ÂºïÊìéÊòØÂèØ‰ª•Êç¢ÁöÑ</strong>Ôºå‰ª•Ââçmysql 5.5ÊòØ<code>myisam</code>ÔºåÂêéÊù•ÊâçÊúâÁöÑ<code>innodb</code>ÔºåÂÆÉ‰ª¨Â∫ïÂ±ÇÁ¥¢ÂºïÁî®ÁöÑÈÉΩÊòØ<strong>B+Ê†ë</strong>„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰Ω†ÂÆåÂÖ®ÂèØ‰ª•ÈÄ†‰∏Ä‰∏™Á¥¢Âºï‰∏∫Ë∑≥Ë°®ÁöÑÂ≠òÂÇ®ÂºïÊìéË£ÖÂà∞MySQLÈáå„ÄÇ‰∫ãÂÆû‰∏äÔºå<code>facebook</code>ÈÄ†‰∫Ü‰∏™<code>rocksDB</code>ÁöÑÂ≠òÂÇ®ÂºïÊìéÔºåÈáåÈù¢Â∞±Áî®‰∫Ü<strong>Ë∑≥Ë°®</strong>„ÄÇÁõ¥Êé•ËØ¥ÁªìËÆ∫ÔºåÂÆÉÁöÑ<strong>ÂÜôÂÖ•ÊÄßËÉΩ</strong>Á°ÆÂÆûÊòØÊØîinnodbË¶ÅÂ•ΩÔºå‰ΩÜ<strong>ËØªÊÄßËÉΩ</strong>Á°ÆÂÆûÊØîinnodbË¶ÅÂ∑Æ‰∏çÂ∞ë„ÄÇ</p>
<h2 id="üåüRedis‰∏∫‰ªÄ‰πà‰ΩøÁî®Ë∑≥Ë°®ËÄå‰∏ç‰ΩøÁî®B-Ê†ëÊàñ‰∫åÂèâÊ†ëÂë¢Ôºü"><a href="#üåüRedis‰∏∫‰ªÄ‰πà‰ΩøÁî®Ë∑≥Ë°®ËÄå‰∏ç‰ΩøÁî®B-Ê†ëÊàñ‰∫åÂèâÊ†ëÂë¢Ôºü" class="headerlink" title="üåüRedis‰∏∫‰ªÄ‰πà‰ΩøÁî®Ë∑≥Ë°®ËÄå‰∏ç‰ΩøÁî®B+Ê†ëÊàñ‰∫åÂèâÊ†ëÂë¢Ôºü"></a>üåüRedis‰∏∫‰ªÄ‰πà‰ΩøÁî®Ë∑≥Ë°®ËÄå‰∏ç‰ΩøÁî®B+Ê†ëÊàñ‰∫åÂèâÊ†ëÂë¢Ôºü</h2><p>Âõ†‰∏∫Êï∞ÊçÆÂú®ÂÜÖÂ≠ò‰∏≠ËØªÂèñËÄóË¥πÁöÑÊó∂Èó¥ÊòØ‰ªéÁ£ÅÁõòÁöÑIOËØªÂèñÁöÑÁôæ‰∏áÂàÜ‰πã‰∏ÄÔºåËÄåRedisÊòØÂÜÖÂ≠ò‰∏≠Êìç‰ΩúÊï∞ÊçÆÔºå‰∏çÊ∂âÂèäIOÔºåÂõ†Ê≠§‰ΩøÁî®‰∫ÜË∑≥Ë°®Ôºõ</p>
<p>B+Ê†ëÁöÑÂéüÁêÜÊòØÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®Êï∞ÊçÆÔºåÈùûÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®Á¥¢ÂºïÔºåB+Ê†ëÁöÑÊØè‰∏™ËäÇÁÇπÂèØ‰ª•Â≠òÂÇ®Â§ö‰∏™ÂÖ≥ÈîÆÂ≠óÔºåÂÆÉÂ∞ÜËäÇÁÇπÂ§ßÂ∞èËÆæÁΩÆ‰∏∫Á£ÅÁõòÈ°µÁöÑÂ§ßÂ∞èÔºåÂÖÖÂàÜÂà©Áî®‰∫ÜÁ£ÅÁõòÈ¢ÑËØªÁöÑÂäüËÉΩ„ÄÇÊØèÊ¨°ËØªÂèñÁ£ÅÁõòÈ°µÊó∂Â∞±‰ºöËØªÂèñ‰∏ÄÊï¥‰∏™ËäÇÁÇπÔºåÊØè‰∏™Âè∂Â≠êËäÇÁÇπËøòÊúâÊåáÂêëÂâçÂêéËäÇÁÇπÁöÑÊåáÈíàÔºå‰∏∫ÁöÑÊòØÊúÄÂ§ßÈôêÂ∫¶ÁöÑÈôç‰ΩéÁ£ÅÁõòÁöÑIO„ÄÇ</p>
<h2 id="üåüB-tree‰ºòÁÇπ"><a href="#üåüB-tree‰ºòÁÇπ" class="headerlink" title="üåüB+-tree‰ºòÁÇπ"></a>üåüB+-tree‰ºòÁÇπ</h2><ol>
<li><strong>I&#x2F;OÊ¨°Êï∞Êõ¥Â∞ë</strong>ÔºöB+-tree ÁöÑÂÜÖÈÉ®ÁªìÁÇπÊ≤°ÊúâÂ≠òÂÇ®ÂÖ≥ÈîÆÂ≠óÔºåÊâÄ‰ª•ÂêåÊ†∑Â§ßÂ∞èÁöÑÁ£ÅÁõòÈ°µËÉΩÂÆπÁ∫≥Êõ¥Â§öÁªìÁÇπ„ÄÇ‰∏ÄÊ¨°ÊÄßËØªÂÖ•ÂÜÖÂ≠ò‰∏≠ÁöÑ‰πüÂ∞±Ë∂äÂ§öÔºåÁõ∏ÂØπÊù•ËØ¥IOËØªÂÜôÊ¨°Êï∞‰πüÂ∞±Èôç‰Ωé‰∫Ü</li>
<li><strong>Êü•ËØ¢ÈÄüÂ∫¶Êõ¥Á®≥ÂÆö</strong>ÔºöB+-tree ÊâÄÊúâÂÖ≥ÈîÆÂ≠óÊï∞ÊçÆÂú∞ÂùÄÈÉΩÂ≠òÂú®<strong>Âè∂Â≠êÁªìÁÇπ</strong>‰∏äÔºåÊâÄ‰ª•ÊØèÊ¨°Êü•ÊâæÁöÑÊ¨°Êï∞ÈÉΩÁõ∏ÂêåÊâÄ‰ª•Êü•ËØ¢ÈÄüÂ∫¶Ë¶ÅÊØîBÊ†ëÊõ¥Á®≥ÂÆö;</li>
<li><strong>ËåÉÂõ¥Êü•ËØ¢Êõ¥ÁÆÄ‰æø</strong>ÔºöB+-tree ÊâÄÊúâÁöÑÂè∂Â≠êËäÇÁÇπÊï∞ÊçÆÊûÑÊàê‰∫Ü‰∏Ä‰∏™ÊúâÂ∫èÈìæË°®ÔºåÂú®Êü•ËØ¢Â§ßÂ∞èÂå∫Èó¥ÁöÑÊï∞ÊçÆÊó∂ÂÄôÊõ¥Êñπ‰æøÔºåÊï∞ÊçÆÁ¥ßÂØÜÊÄßÂæàÈ´òÔºåÁºìÂ≠òÁöÑÂëΩ‰∏≠Áéá‰πü‰ºöÊØîBÊ†ëÈ´ò„ÄÇ</li>
<li><strong>ÂÖ®ÁªìÁÇπÈÅçÂéÜÊõ¥Âø´Ôºö</strong>B+-tree ÈÅçÂéÜÊï¥Ê£µÊ†ëÂè™ÈúÄË¶ÅÈÅçÂéÜÊâÄÊúâÁöÑÂè∂Â≠êËäÇÁÇπÂç≥ÂèØÔºå B-tree ÈúÄË¶ÅÂØπÊØè‰∏ÄÂ±ÇËøõË°åÈÅçÂéÜÔºåËøôÊúâÂà©‰∫éÊï∞ÊçÆÂ∫ìÂÅöÂÖ®Ë°®Êâ´Êèè„ÄÇ</li>
</ol>
<h2 id="üåüB-treeÂíåB-treeÁöÑÂå∫Âà´"><a href="#üåüB-treeÂíåB-treeÁöÑÂå∫Âà´" class="headerlink" title="üåüB+-treeÂíåB-treeÁöÑÂå∫Âà´"></a>üåüB+-treeÂíåB-treeÁöÑÂå∫Âà´</h2><ul>
<li>B Ê†ëÁöÑÊâÄÊúâËäÇÁÇπÊó¢Â≠òÊîæÈîÆ(key) ‰πüÂ≠òÊîæ Êï∞ÊçÆ(data)ÔºåB+Ê†ëÂè™ÊúâÂè∂Â≠êËäÇÁÇπÂ≠òÊîæ key Âíå dataÔºåÂÖ∂‰ªñÂÜÖËäÇÁÇπÂè™Â≠òÊîæ key„ÄÇ</li>
<li>B Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÈÉΩÊòØÁã¨Á´ãÁöÑÔºõB+-tree Áõ∏ÈÇªÁöÑÂè∂Â≠êËäÇÁÇπ‰πãÈó¥ÊòØÈÄöËøáÈìæË°®ÊåáÈíàËøûËµ∑Êù•ÁöÑ„ÄÇ</li>
<li>B Ê†ëÁöÑÊ£ÄÁ¥¢ÁöÑËøáÁ®ãÁõ∏ÂΩì‰∫éÂØπËåÉÂõ¥ÂÜÖÁöÑÊØè‰∏™ËäÇÁÇπÁöÑÂÖ≥ÈîÆÂ≠óÂÅö‰∫åÂàÜÊü•ÊâæÔºåÂèØËÉΩËøòÊ≤°ÊúâÂà∞ËææÂè∂Â≠êËäÇÁÇπÔºåÊ£ÄÁ¥¢Â∞±ÁªìÊùü‰∫Ü„ÄÇB+Ê†ëÁöÑÊ£ÄÁ¥¢ÊïàÁéáÂ∞±ÂæàÁ®≥ÂÆö‰∫ÜÔºå‰ªª‰ΩïÊü•ÊâæÈÉΩÊòØ‰ªéÊ†πËäÇÁÇπÂà∞Âè∂Â≠êËäÇÁÇπÁöÑËøáÁ®ãÔºåÂè∂Â≠êËäÇÁÇπÁöÑÈ°∫Â∫èÊ£ÄÁ¥¢ÂæàÊòéÊòæ„ÄÇ</li>
</ul>
<h2 id="üåüInnoDB-Âíå-MyISAM-ÂÆûÁé∞ÁöÑ-B-Ê†ëÂå∫Âà´"><a href="#üåüInnoDB-Âíå-MyISAM-ÂÆûÁé∞ÁöÑ-B-Ê†ëÂå∫Âà´" class="headerlink" title="üåüInnoDB Âíå MyISAM ÂÆûÁé∞ÁöÑ B+ Ê†ëÂå∫Âà´"></a>üåüInnoDB Âíå MyISAM ÂÆûÁé∞ÁöÑ B+ Ê†ëÂå∫Âà´</h2><p>InnoDB Âíå MyISAM ÈÉΩÊîØÊåÅ B+ Ê†ëÁ¥¢ÂºïÔºå‰ΩÜÊòØÂÆÉ‰ª¨Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÁªìÊûÑÂÆûÁé∞ÊñπÂºè‰∏çÂêå„ÄÇ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºö</p>
<ul>
<li>InnoDB Â≠òÂÇ®ÂºïÊìéÔºöB+ Ê†ëÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠òÊï∞ÊçÆÊú¨Ë∫´Ôºõ</li>
<li>MyISAM Â≠òÂÇ®ÂºïÊìéÔºöB+ Ê†ëÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠òÊï∞ÊçÆÁöÑÁâ©ÁêÜÂú∞ÂùÄÔºõ</li>
</ul>
<table>
<thead>
<tr>
<th>MyISAMÂÆûÁé∞ÁöÑ B+ Ê†ë</th>
<th>InnoDBÂÆûÁé∞ÁöÑ B+ Ê†ë</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://img.jwt1399.top/img/202308061049265.png" style="zoom: 200%;" /></td>
<td><img src="https://img.jwt1399.top/img/202302271534986.png"></td>
</tr>
</tbody></table>
<h2 id="üåüÁÆÄËø∞-MySQL-Â∏∏ËßÅÁ¥¢Âºï"><a href="#üåüÁÆÄËø∞-MySQL-Â∏∏ËßÅÁ¥¢Âºï" class="headerlink" title="üåüÁÆÄËø∞ MySQL Â∏∏ËßÅÁ¥¢Âºï"></a>üåüÁÆÄËø∞ MySQL Â∏∏ËßÅÁ¥¢Âºï</h2><p>[Ê∑±ÂÖ•ÊµÖÂá∫ InnoDB Index.pdf (aliyuncs.com)](<a target="_blank" rel="noopener" href="https://smartkeyerror.oss-cn-shenzhen.aliyuncs.com/Phyduck/database/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA">https://smartkeyerror.oss-cn-shenzhen.aliyuncs.com/Phyduck/database/Ê∑±ÂÖ•ÊµÖÂá∫</a> InnoDB Index.pdf)</p>
<ul>
<li><p>Êåâ„ÄåÊï∞ÊçÆÁªìÊûÑ„ÄçÂàÜÁ±ªÔºö<strong>B+Ê†ëÁ¥¢Âºï„ÄÅHashÁ¥¢Âºï„ÄÅFull-textÁ¥¢Âºï</strong>„ÄÇ</p>
<ul>
<li><strong>ÂÖ®ÊñáÁ¥¢Âºï(Full Text)</strong> ÔºöÂÖ®ÊñáÁ¥¢Âºï‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊ£ÄÁ¥¢Â§ßÊñáÊú¨Êï∞ÊçÆ‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÁöÑ‰ø°ÊÅØÔºåÊòØÁõÆÂâçÊêúÁ¥¢ÂºïÊìéÊï∞ÊçÆÂ∫ì‰ΩøÁî®ÁöÑ‰∏ÄÁßçÊäÄÊúØ„ÄÇMysql5.6 ‰πãÂâçÂè™Êúâ MYISAM ÂºïÊìéÊîØÊåÅÂÖ®ÊñáÁ¥¢ÂºïÔºå5.6 ‰πãÂêé InnoDB ‰πüÊîØÊåÅ‰∫ÜÂÖ®ÊñáÁ¥¢Âºï„ÄÇÁõÆÂâçÂè™Êúâ <code>CHAR</code>„ÄÅ<code>VARCHAR</code> Ôºå<code>TEXT</code> Âàó‰∏äÂèØ‰ª•ÂàõÂª∫ÂÖ®ÊñáÁ¥¢Âºï„ÄÇ‰∏ÄËà¨‰∏ç‰ºö‰ΩøÁî®ÔºåÊïàÁéáËæÉ‰ΩéÔºåÈÄöÂ∏∏‰ΩøÁî®ÊêúÁ¥¢ÂºïÊìéÂ¶Ç ElasticSearch ‰ª£Êõø„ÄÇ</li>
</ul>
</li>
<li><p>Êåâ„ÄåÁâ©ÁêÜÂ≠òÂÇ®„ÄçÂàÜÁ±ªÔºö<strong>ËÅöÁ∞áÁ¥¢ÂºïÔºà‰∏ªÈîÆÁ¥¢ÂºïÔºâ„ÄÅ‰∫åÁ∫ßÁ¥¢ÂºïÔºàËæÖÂä©Á¥¢ÂºïÔºâ</strong>„ÄÇ</p>
</li>
<li><p>Êåâ„ÄåÂ≠óÊÆµÁâπÊÄß„ÄçÂàÜÁ±ªÔºö<strong>‰∏ªÈîÆÁ¥¢Âºï„ÄÅÂîØ‰∏ÄÁ¥¢Âºï„ÄÅÊôÆÈÄöÁ¥¢Âºï„ÄÅÂâçÁºÄÁ¥¢Âºï</strong>„ÄÇ</p>
<ul>
<li><p><strong>‰∏ªÈîÆÁ¥¢ÂºïÔºö</strong>ËÆæÂÆö‰∏∫‰∏ªÈîÆÂêéÊï∞ÊçÆÂ∫ì‰ºöËá™Âä®Âª∫Á´ãÁ¥¢ÂºïÔºåinnodb ‰∏∫ËÅöÁ∞áÁ¥¢ÂºïÔºåÂÄºÂøÖÈ°ªÂîØ‰∏Ä‰∏î‰∏çËÉΩ‰∏∫nullÔºå‰∏Ä‰∏™Ë°®‰∏≠Âè™Êúâ‰∏Ä‰∏™„ÄÇ</p>
<ul>
<li>Âª∫Ë°®Êó∂ÔºåÂä†‰∏ä primary key(ÂàóÂêç) ÊåáÂÆö</li>
</ul>
</li>
<li><p><strong>ÂîØ‰∏ÄÁ¥¢Âºï</strong>ÔºöÁ¥¢ÂºïÂàóÁöÑÂÄºÂøÖÈ°ªÂîØ‰∏ÄÔºå‰ΩÜÂÖÅËÆ∏Êúâ null ‰∏î null ÂèØ‰ª•Âá∫Áé∞Â§öÊ¨°</p>
<ul>
<li>Âª∫Ë°®Êó∂ÔºåÂä†‰∏ä unique(ÂàóÂêç) ÊåáÂÆö</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåcreate unique index idx Ë°®Âêç(ÂàóÂêç) on Ë°®Âêç(ÂàóÂêç)</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåalter table Ë°®Âêç add unique Á¥¢ÂºïÂêç(ÂàóÂêç)</li>
</ul>
</li>
<li><p><strong>ÂâçÁºÄÁ¥¢Âºï</strong> ÔºöÂâçÁºÄÁ¥¢ÂºïÂè™ÈÄÇÁî®‰∫éÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇÂâçÁºÄÁ¥¢ÂºïÊòØÂØπÊñáÊú¨ÁöÑÂâçÂá†‰∏™Â≠óÁ¨¶ÂàõÂª∫Á¥¢ÂºïÔºåÁõ∏ÊØîÊôÆÈÄöÁ¥¢ÂºïÂª∫Á´ãÁöÑÊï∞ÊçÆÊõ¥Â∞èÔºå Âõ†‰∏∫Âè™ÂèñÂâçÂá†‰∏™Â≠óÁ¨¶„ÄÇÂâçÁºÄÁ¥¢ÂºïÂèØ‰ª•Âª∫Á´ãÂú®Â≠óÊÆµÁ±ªÂûã‰∏∫ char„ÄÅ varchar„ÄÅbinary„ÄÅvarbinary ÁöÑÂàó‰∏ä</p>
<ul>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåalter table Ë°®Âêç add Á¥¢ÂºïÂêç(column_name(Á¥¢ÂºïÈïøÂ∫¶))</li>
</ul>
</li>
</ul>
</li>
<li><p>Êåâ„ÄåÂ≠óÊÆµ‰∏™Êï∞„ÄçÂàÜÁ±ªÔºö<strong>ÂçïÂàóÁ¥¢Âºï„ÄÅËÅîÂêàÁ¥¢Âºï</strong>„ÄÇ</p>
<ul>
<li><strong>ÂçïÂàóÁ¥¢Âºï</strong>ÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂåÖÂê´Âçï‰∏™ÂàóÔºå‰∏Ä‰∏™Ë°®ÂèØ‰ª•ÊúâÂ§ö‰∏™ÂçïÂàóÁ¥¢Âºï<ul>
<li>Âª∫Ë°®Êó∂ÔºåÂä†‰∏ä key(ÂàóÂêç) ÊåáÂÆö</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåcreate index Á¥¢ÂºïÂêç on Ë°®Âêç(ÂàóÂêç)</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåalter table Ë°®Âêç add index Á¥¢ÂºïÂêç(ÂàóÂêç)</li>
</ul>
</li>
<li><strong>ËÅîÂêàÁ¥¢Âºï</strong>ÔºöÂ§öÂàóÂÄºÁªÑÊàê‰∏Ä‰∏™Á¥¢ÂºïÔºå‰∏ìÈó®Áî®‰∫éÁªÑÂêàÊêúÁ¥¢ÔºåÂÖ∂ÊïàÁéáÂ§ß‰∫éÁ¥¢ÂºïÂêàÂπ∂„ÄÇ<ul>
<li>Âª∫Ë°®Êó∂ÔºåÂä†‰∏ä key(ÂàóÂêçÂàóË°®) ÊåáÂÆö</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåcreate index Á¥¢ÂºïÂêç on Ë°®Âêç(ÂàóÂêçÂàóË°®)</li>
<li>ÂçïÁã¨ÂàõÂª∫Ôºåalter table Ë°®Âêç add index Á¥¢ÂºïÂêç(ÂàóÂêçÂàóË°®)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ÊôÆÈÄöÁ¥¢ÂºïÔºö‰ªÖÂä†ÈÄüÊü•ËØ¢„ÄÇ</p>
<p>Ë¶ÜÁõñÁ¥¢ÂºïÔºö‰∏Ä‰∏™Á¥¢ÂºïÂåÖÂê´ÔºàÊàñËÄÖËØ¥Ë¶ÜÁõñÔºâÊâÄÊúâÈúÄË¶ÅÊü•ËØ¢ÁöÑÂ≠óÊÆµÁöÑÂÄº„ÄÇ</p>
<p>MySQL 8.x ‰∏≠ÂÆûÁé∞ÁöÑÁ¥¢ÂºïÊñ∞ÁâπÊÄßÔºö</p>
<ul>
<li>ÈöêËóèÁ¥¢ÂºïÔºö‰πüÁß∞‰∏∫‰∏çÂèØËßÅÁ¥¢ÂºïÔºå‰∏ç‰ºöË¢´‰ºòÂåñÂô®‰ΩøÁî®Ôºå‰ΩÜÊòØ‰ªçÁÑ∂ÈúÄË¶ÅÁª¥Êä§ÔºåÈÄöÂ∏∏‰ºöËΩØÂà†Èô§ÂíåÁÅ∞Â∫¶ÂèëÂ∏ÉÁöÑÂú∫ÊôØ‰∏≠‰ΩøÁî®„ÄÇ‰∏ªÈîÆ‰∏çËÉΩËÆæÁΩÆ‰∏∫ÈöêËóèÔºàÂåÖÊã¨ÊòæÂºèËÆæÁΩÆÊàñÈöêÂºèËÆæÁΩÆÔºâ„ÄÇ</li>
<li>ÈôçÂ∫èÁ¥¢ÂºïÔºö‰πãÂâçÁöÑÁâàÊú¨Â∞±ÊîØÊåÅÈÄöËøá desc Êù•ÊåáÂÆöÁ¥¢Âºï‰∏∫ÈôçÂ∫èÔºå‰ΩÜÂÆûÈôÖ‰∏äÂàõÂª∫ÁöÑ‰ªçÁÑ∂ÊòØÂ∏∏ËßÑÁöÑÂçáÂ∫èÁ¥¢Âºï„ÄÇÁõ¥Âà∞ MySQL 8.x ÁâàÊú¨ÊâçÂºÄÂßãÁúüÊ≠£ÊîØÊåÅÈôçÂ∫èÁ¥¢Âºï„ÄÇÂè¶Â§ñÔºåÂú® MySQL 8.x ÁâàÊú¨‰∏≠Ôºå‰∏çÂÜçÂØπ GROUP BY ËØ≠Âè•ËøõË°åÈöêÂºèÊéíÂ∫è„ÄÇ</li>
<li>ÂáΩÊï∞Á¥¢ÂºïÔºö‰ªé MySQL 8.0.13 ÁâàÊú¨ÂºÄÂßãÊîØÊåÅÂú®Á¥¢Âºï‰∏≠‰ΩøÁî®ÂáΩÊï∞ÊàñËÄÖË°®ËææÂºèÁöÑÂÄºÔºå‰πüÂ∞±ÊòØÂú®Á¥¢Âºï‰∏≠ÂèØ‰ª•ÂåÖÂê´ÂáΩÊï∞ÊàñËÄÖË°®ËææÂºè„ÄÇ</li>
</ul>
<h2 id="üåüËÅöÈõÜÁ¥¢ÂºïÂíå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂå∫Âà´"><a href="#üåüËÅöÈõÜÁ¥¢ÂºïÂíå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂå∫Âà´" class="headerlink" title="üåüËÅöÈõÜÁ¥¢ÂºïÂíå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂå∫Âà´"></a>üåüËÅöÈõÜÁ¥¢ÂºïÂíå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂå∫Âà´</h2><p>ÂØπ‰∏ªÈîÆÂ≠óÊÆµÂª∫Á´ãÁöÑÁ¥¢ÂºïÂè´ÂÅöËÅöÁ∞áÁ¥¢ÂºïÔºåÂØπÊôÆÈÄöÂ≠óÊÆµÂª∫Á´ãÁöÑÁ¥¢ÂºïÂè´ÂÅö‰∫åÁ∫ßÁ¥¢Âºï„ÄÇ</p>
<p>Innodb Ê†πÊçÆÁ¥¢ÂºïÁ±ªÂûã‰∏çÂêåÔºåÂàÜ‰∏∫ËÅöÈõÜÂíå‰∫åÁ∫ßÁ¥¢Âºï„ÄÇ‰ªñ‰ª¨Âå∫Âà´Âú®‰∫é</p>
<ul>
<li><p>ËÅöÈõÜÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÂ≠òÊîæÁöÑÊòØ<strong>ÂÆûÈôÖÊï∞ÊçÆ</strong>ÔºåÊâÄÊúâÂÆåÊï¥ÁöÑÁî®Êà∑ËÆ∞ÂΩïÈÉΩÂ≠òÊîæÂú®ËÅöÈõÜÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÔºå</p>
</li>
<li><p>‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÂ≠òÊîæÁöÑÊòØ<strong>‰∏ªÈîÆÂÄº</strong>ÔºåËÄå‰∏çÊòØÂÆûÈôÖÊï∞ÊçÆ„ÄÇ</p>
</li>
</ul>
<p>Âõ†‰∏∫Ë°®ÁöÑÊï∞ÊçÆÈÉΩÊòØÂ≠òÊîæÂú®ËÅöÈõÜÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÈáåÔºåÊâÄ‰ª• InnoDB Â≠òÂÇ®ÂºïÊìé‰∏ÄÂÆö‰ºö‰∏∫Ë°®ÂàõÂª∫‰∏Ä‰∏™ËÅöÈõÜÁ¥¢ÂºïÔºå‰∏îÁî±‰∫éÊï∞ÊçÆÂú®Áâ©ÁêÜ‰∏äÂè™‰ºö‰øùÂ≠ò‰∏Ä‰ªΩÔºåÊâÄ‰ª•ËÅöÁ∞áÁ¥¢ÂºïÂè™ËÉΩÊúâ‰∏Ä‰∏™ÔºåËÄå‰∫åÁ∫ßÁ¥¢ÂºïÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™„ÄÇ</p>
<p>Â¶Ç‰∏ãÂ∑¶Âõæ‰∏∫ËÅöÈõÜÁ¥¢ÂºïÔºåÂè≥Âõæ‰∏∫‰∫åÁ∫ßÁ¥¢ÂºïÔºàname Â≠óÊÆµËÆæÁΩÆ‰∏∫‰∫åÁ∫ßÁ¥¢ÂºïÔºâ</p>
<table>
<thead>
<tr>
<th align="center">ËÅöÈõÜÁ¥¢Âºï</th>
<th align="center">‰∫åÁ∫ßÁ¥¢Âºï</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="https://img.jwt1399.top/img/202302271534986.png"></td>
<td align="center"><img src="https://img.jwt1399.top/img/202302271541291.png"></td>
</tr>
</tbody></table>
<p>Âú®Êàë‰ª¨‰ΩøÁî®„Äå‰∏ªÈîÆÁ¥¢Âºï„ÄçÂ≠óÊÆµ‰Ωú‰∏∫Êù°‰ª∂Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÈÉΩÂú®„ÄåËÅöÁ∞áÁ¥¢Âºï„ÄçÁöÑÂè∂Â≠êËäÇÁÇπÈáåÔºåÈÇ£‰πàÂ∞±‰ºöÂú®„ÄåËÅöÁ∞áÁ¥¢Âºï„Äç‰∏≠ÁöÑ B+ Ê†ëÊ£ÄÁ¥¢Âà∞ÂØπÂ∫îÁöÑÂè∂Â≠êËäÇÁÇπÔºåÁÑ∂ÂêéÁõ¥Êé•ËØªÂèñË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆ„ÄÇÂ¶Ç‰∏ãÈù¢ËøôÊù°ËØ≠Âè•Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">// id Â≠óÊÆµ‰∏∫‰∏ªÈîÆÁ¥¢Âºï</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_user <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Âú®Êàë‰ª¨‰ΩøÁî®„Äå‰∫åÁ∫ßÁ¥¢Âºï„ÄçÂ≠óÊÆµ‰Ωú‰∏∫Êù°‰ª∂Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÈÉΩÂú®„ÄåËÅöÁ∞áÁ¥¢Âºï„ÄçÁöÑÂè∂Â≠êËäÇÁÇπÈáåÔºåÈÇ£‰πàÈúÄË¶ÅÊ£ÄÁ¥¢‰∏§È¢óB+Ê†ëÔºö</p>
<ul>
<li>ÂÖàÂú®„Äå‰∫åÁ∫ßÁ¥¢Âºï„ÄçÁöÑ B+ Ê†ëÊâæÂà∞ÂØπÂ∫îÁöÑÂè∂Â≠êËäÇÁÇπÔºåËé∑Âèñ‰∏ªÈîÆÂÄºÔºõ</li>
<li>ÁÑ∂ÂêéÁî®‰∏ä‰∏ÄÊ≠•Ëé∑ÂèñÁöÑ‰∏ªÈîÆÂÄºÔºåÂú®„ÄåËÅöÁ∞áÁ¥¢Âºï„Äç‰∏≠ÁöÑ B+ Ê†ëÊ£ÄÁ¥¢Âà∞ÂØπÂ∫îÁöÑÂè∂Â≠êËäÇÁÇπÔºåÁÑ∂ÂêéËé∑ÂèñË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆ„ÄÇ</li>
</ul>
<p>‰∏äÈù¢Ëøô‰∏™ËøáÁ®ãÂè´ÂÅö<strong>ÂõûË°®</strong>ÔºåÂ¶Ç‰∏ãÈù¢ËøôÊù°ËØ≠Âè•Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">// name Â≠óÊÆµ‰∏∫‰∫åÁ∫ßÁ¥¢Âºï</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_user <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">"ÊûóÊüê"</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Âú®Êàë‰ª¨‰ΩøÁî®„Äå‰∫åÁ∫ßÁ¥¢Âºï„ÄçÂ≠óÊÆµ‰Ωú‰∏∫Êù°‰ª∂Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÂú®„Äå‰∫åÁ∫ßÁ¥¢Âºï„ÄçÁöÑÂè∂Â≠êËäÇÁÇπÔºåÈÇ£‰πàÂè™ÈúÄË¶ÅÂú®„Äå‰∫åÁ∫ßÁ¥¢Âºï„ÄçÁöÑ B+ Ê†ëÊâæÂà∞ÂØπÂ∫îÁöÑÂè∂Â≠êËäÇÁÇπÔºåÁÑ∂ÂêéËØªÂèñË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÔºåËøô‰∏™ËøáÁ®ãÂè´ÂÅö<strong>Ë¶ÜÁõñÁ¥¢Âºï</strong>„ÄÇÂ¶Ç‰∏ãÈù¢ËøôÊù°ËØ≠Âè•Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">// name Â≠óÊÆµ‰∏∫‰∫åÁ∫ßÁ¥¢Âºï</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> t_user <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">"ÊûóÊüê"</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="üåüËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢ÂºïÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"><a href="#üåüËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢ÂºïÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü" class="headerlink" title="üåüËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢ÂºïÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"></a>üåüËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢ÂºïÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü</h2><ul>
<li><p>ËÅöÁ∞áÁ¥¢ÂºïÂç≥Á¥¢ÂºïÁªìÊûÑÂíåÊï∞ÊçÆ‰∏ÄËµ∑Â≠òÊîæÁöÑÁ¥¢ÂºïÔºåInnoDB ‰∏≠ÁöÑ‰∏ªÈîÆÁ¥¢ÂºïÂ∞±Â±û‰∫éËÅöÁ∞áÁ¥¢Âºï</p>
</li>
<li><p>ÈùûËÅöÁ∞áÁ¥¢ÂºïÂç≥Á¥¢ÂºïÁªìÊûÑÂíåÊï∞ÊçÆÂàÜÂºÄÂ≠òÊîæÁöÑÁ¥¢ÂºïÔºå‰∫åÁ∫ßÁ¥¢ÂºïÂ∞±Â±û‰∫éÈùûËÅöÁ∞áÁ¥¢Âºï„ÄÇMySQL ÁöÑ MyISAM ÂºïÊìéÔºå‰∏çÁÆ°‰∏ªÈîÆËøòÊòØÈùû‰∏ªÈîÆÔºå‰ΩøÁî®ÁöÑÈÉΩÊòØÈùûËÅöÁ∞áÁ¥¢Âºï„ÄÇ</p>
</li>
</ul>
<p><img src="https://img.jwt1399.top/img/202308061050415.png"></p>
<h2 id="üåüÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ÄÂÆöÂõûË°®Êü•ËØ¢Âêó-Ë¶ÜÁõñÁ¥¢Âºï"><a href="#üåüÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ÄÂÆöÂõûË°®Êü•ËØ¢Âêó-Ë¶ÜÁõñÁ¥¢Âºï" class="headerlink" title="üåüÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ÄÂÆöÂõûË°®Êü•ËØ¢Âêó(Ë¶ÜÁõñÁ¥¢Âºï)"></a>üåüÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ÄÂÆöÂõûË°®Êü•ËØ¢Âêó(Ë¶ÜÁõñÁ¥¢Âºï)</h2><p>ÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ç‰∏ÄÂÆöÂõûË°®Êü•ËØ¢„ÄÇÂΩìÊü•ËØ¢ÁöÑÊï∞ÊçÆÂàöÂ•ΩÂ∞±ÊòØÈùûËÅöÁ∞áÁ¥¢ÂºïÂè∂Â≠êËäÇÁÇπÊâÄ‰øùÂ≠òÁöÑ‰∏ªÈîÆÔºåÂàô‰∏çÈúÄË¶ÅÂõûË°®„ÄÇËøôÁßçÊÉÖÂÜµÂ∞±Áß∞‰πã‰∏∫Ë¶ÜÁõñÁ¥¢Âºï‰∫Ü„ÄÇ</p>
<h2 id="üåü‰ªãÁªç‰∏Ä‰∏ãË¶ÜÁõñÁ¥¢Âºï"><a href="#üåü‰ªãÁªç‰∏Ä‰∏ãË¶ÜÁõñÁ¥¢Âºï" class="headerlink" title="üåü‰ªãÁªç‰∏Ä‰∏ãË¶ÜÁõñÁ¥¢Âºï"></a>üåü‰ªãÁªç‰∏Ä‰∏ãË¶ÜÁõñÁ¥¢Âºï</h2><p>Ë¶ÜÁõñÁ¥¢ÂºïÂç≥ÈúÄË¶ÅÊü•ËØ¢ÁöÑÂ≠óÊÆµÊ≠£Â•ΩÊòØÁ¥¢ÂºïÁöÑÂ≠óÊÆµÔºåÈÇ£‰πàÁõ¥Êé•Ê†πÊçÆËØ•Á¥¢ÂºïÔºåÂ∞±ÂèØ‰ª•Êü•Âà∞Êï∞ÊçÆ‰∫ÜÔºåËÄåÊó†ÈúÄÂõûË°®Êü•ËØ¢„ÄÇ</p>
<h2 id="üåüÊÄé‰πàÈÄöËøáÊâßË°åËÆ°ÂàíÁü•ÈÅìËøôÊù°ËØ≠Âè•‰ΩøÁî®‰∫ÜÁ¥¢ÂºïË¶ÜÁõñ"><a href="#üåüÊÄé‰πàÈÄöËøáÊâßË°åËÆ°ÂàíÁü•ÈÅìËøôÊù°ËØ≠Âè•‰ΩøÁî®‰∫ÜÁ¥¢ÂºïË¶ÜÁõñ" class="headerlink" title="üåüÊÄé‰πàÈÄöËøáÊâßË°åËÆ°ÂàíÁü•ÈÅìËøôÊù°ËØ≠Âè•‰ΩøÁî®‰∫ÜÁ¥¢ÂºïË¶ÜÁõñ"></a>üåüÊÄé‰πàÈÄöËøáÊâßË°åËÆ°ÂàíÁü•ÈÅìËøôÊù°ËØ≠Âè•‰ΩøÁî®‰∫ÜÁ¥¢ÂºïË¶ÜÁõñ</h2><p>Âú®‰∏ãÂõæ‰∏≠ÊâßË°åËÆ°ÂàíÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÊâßË°åËøáÁ®ã‰∏≠‰ΩøÁî®‰∫ÜÊôÆÈÄöÁ¥¢ÂºïÔºànameÔºâÔºåExta ‰∏∫ Using indexÔºåËøôÂ∞±ÊòØË°®Êòé‰ΩøÁî®‰∫ÜË¶ÜÁõñÁ¥¢Âºï‰ºòÂåñ„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202303242157027.png"></p>
<h2 id="üåüÂîØ‰∏ÄÁ¥¢Âºï‰∏éÊôÆÈÄöÁ¥¢ÂºïÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà"><a href="#üåüÂîØ‰∏ÄÁ¥¢Âºï‰∏éÊôÆÈÄöÁ¥¢ÂºïÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà" class="headerlink" title="üåüÂîØ‰∏ÄÁ¥¢Âºï‰∏éÊôÆÈÄöÁ¥¢ÂºïÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà"></a>üåüÂîØ‰∏ÄÁ¥¢Âºï‰∏éÊôÆÈÄöÁ¥¢ÂºïÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πà</h2><ul>
<li><p><strong>ÂîØ‰∏ÄÁ¥¢Âºï(Unique Key)</strong> ÔºöÂîØ‰∏ÄÁ¥¢Âºï‰πüÊòØ‰∏ÄÁßçÁ∫¶Êùü„ÄÇ<strong>ÂîØ‰∏ÄÁ¥¢ÂºïÁöÑÂ±ûÊÄßÂàó‰∏çËÉΩÂá∫Áé∞ÈáçÂ§çÁöÑÊï∞ÊçÆÔºå‰ΩÜÊòØÂÖÅËÆ∏Êï∞ÊçÆ‰∏∫ NULLÔºå‰∏ÄÂº†Ë°®ÂÖÅËÆ∏ÂàõÂª∫Â§ö‰∏™ÂîØ‰∏ÄÁ¥¢Âºï„ÄÇ</strong> Âª∫Á´ãÂîØ‰∏ÄÁ¥¢ÂºïÁöÑÁõÆÁöÑÂ§ßÈÉ®ÂàÜÊó∂ÂÄôÈÉΩÊòØ‰∏∫‰∫ÜËØ•Â±ûÊÄßÂàóÁöÑÊï∞ÊçÆÁöÑÂîØ‰∏ÄÊÄßÔºåËÄå‰∏çÊòØ‰∏∫‰∫ÜÊü•ËØ¢ÊïàÁéá„ÄÇ</p>
</li>
<li><p><strong>ÊôÆÈÄöÁ¥¢Âºï(Index)</strong> Ôºö<strong>ÊôÆÈÄöÁ¥¢ÂºïÁöÑÂîØ‰∏Ä‰ΩúÁî®Â∞±ÊòØ‰∏∫‰∫ÜÂø´ÈÄüÊü•ËØ¢Êï∞ÊçÆÔºå‰∏ÄÂº†Ë°®ÂÖÅËÆ∏ÂàõÂª∫Â§ö‰∏™ÊôÆÈÄöÁ¥¢ÂºïÔºåÂπ∂ÂÖÅËÆ∏Êï∞ÊçÆÈáçÂ§çÂíå NULL„ÄÇ</strong></p>
</li>
</ul>
<h2 id="üåüÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàô"><a href="#üåüÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàô" class="headerlink" title="üåüÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàô"></a>üåüÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàô</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/115778804">Èù¢ËØïÂÆò:Ë∞àË∞à‰Ω†ÂØπmysqlËÅîÂêàÁ¥¢ÂºïÁöÑËÆ§ËØÜ? - Áü•‰πé (zhihu.com)</a></p>
<p>‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÊó∂ÔºåÂ≠òÂú®<strong>ÊúÄÂ∑¶ÂåπÈÖçÂéüÂàô</strong>Ôºå<strong>MySQL</strong> ‰ºöÊ†πÊçÆËÅîÂêàÁ¥¢Âºï‰∏≠ÁöÑÂ≠óÊÆµÈ°∫Â∫èÔºå‰ªéÂ∑¶Âà∞Âè≥‰æùÊ¨°Âà∞Êü•ËØ¢Êù°‰ª∂‰∏≠ÂéªÂåπÈÖç„ÄÇ‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïËøõË°åÊü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú‰∏çÈÅµÂæ™<strong>ÊúÄÂ∑¶ÂåπÈÖçÂéüÂàô</strong>ÔºåËÅîÂêàÁ¥¢Âºï‰ºöÂ§±Êïà„ÄÇ</p>
<p>Â¶ÇÊûúÊü•ËØ¢Êù°‰ª∂‰∏≠Â≠òÂú®‰∏éËÅîÂêàÁ¥¢Âºï‰∏≠ÊúÄÂ∑¶‰æßÂ≠óÊÆµÁõ∏ÂåπÈÖçÁöÑÂ≠óÊÆµÔºåÂàôÂ∞±‰ºö‰ΩøÁî®ËØ•Â≠óÊÆµËøáÊª§‰∏ÄÊâπÊï∞ÊçÆÔºåÁõ¥Ëá≥ËÅîÂêàÁ¥¢Âºï‰∏≠ÂÖ®ÈÉ®Â≠óÊÆµÂåπÈÖçÂÆåÊàêÔºåÊàñËÄÖÂú®ÊâßË°åËøáÁ®ã‰∏≠ÈÅáÂà∞ËåÉÂõ¥Êü•ËØ¢ÔºàÂ¶Ç **<code>&gt;</code><strong>„ÄÅ</strong><code>&lt;</code>**ÔºâÊâç‰ºöÂÅúÊ≠¢ÂåπÈÖç„ÄÇÂØπ‰∫é **<code>&gt;=</code><strong>„ÄÅ</strong><code>&lt;=</code>**„ÄÅ<code>BETWEEN</code><strong>„ÄÅ</strong><code>like</code> ÂâçÁºÄÂåπÈÖçÁöÑËåÉÂõ¥Êü•ËØ¢ÔºåÂπ∂‰∏ç‰ºöÂÅúÊ≠¢ÂåπÈÖç„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÊàë‰ª¨Âú®‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÊó∂ÔºåÂèØ‰ª•Â∞ÜÂå∫ÂàÜÂ∫¶È´òÁöÑÂ≠óÊÆµÊîæÂú®ÊúÄÂ∑¶ËæπÔºåËøô‰πüÂèØ‰ª•ËøáÊª§Êõ¥Â§öÊï∞ÊçÆÔºåÂå∫ÂàÜÂ∫¶‰ΩéÁöÑÂ≠óÊÆµÊîæÂêéÈù¢ÔºåÂÉèÊÄßÂà´„ÄÅÁä∂ÊÄÅËøôÁßçÂ≠óÊÆµÂå∫ÂàÜÂ∫¶Â∞±Âæà‰ΩéÔºåÊàë‰ª¨‰∏ÄËà¨ÊîæÂêéÈù¢„ÄÇ</p>
<hr>
<p>ÊØîÂ¶ÇÔºåÂØπ(a,b,c,d)Âª∫Á´ãÁ¥¢Âºï</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">where</span> <span class="token number">a</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token number">b</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">and</span> <span class="token number">c</span> <span class="token operator">></span> <span class="token number">3</span> <span class="token operator">and</span> <span class="token number">d</span> <span class="token operator">=</span> <span class="token number">4</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ÈÇ£‰πàÔºåa,b,c‰∏â‰∏™Â≠óÊÆµËÉΩÁî®Âà∞Á¥¢ÂºïÔºåËÄådÂ∞±ÂåπÈÖç‰∏çÂà∞„ÄÇÂõ†‰∏∫ÈÅáÂà∞‰∫ÜËåÉÂõ¥Êü•ËØ¢ÔºÅ</p>
<hr>
<p>ÊØîÂ¶ÇÔºåÂ¶ÇÊûúÂàõÂª∫‰∫Ü‰∏Ä‰∏™ <code>(a, b, c)</code> ËÅîÂêàÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊü•ËØ¢Êù°‰ª∂ÊòØ‰ª•‰∏ãËøôÂá†ÁßçÔºåÂ∞±ÂèØ‰ª•ÂåπÈÖç‰∏äËÅîÂêàÁ¥¢ÂºïÔºö</p>
<ul>
<li>where a&#x3D;1Ôºõ</li>
<li>where a&#x3D;1 and b&#x3D;2 and c&#x3D;3Ôºõ</li>
<li>where a&#x3D;1 and b&#x3D;2Ôºõ</li>
</ul>
<p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÊü•ËØ¢Êù°‰ª∂ÊòØ‰ª•‰∏ãËøôÂá†ÁßçÔºåÂõ†‰∏∫‰∏çÁ¨¶ÂêàÊúÄÂ∑¶ÂåπÈÖçÂéüÂàôÔºåÊâÄ‰ª•Â∞±Êó†Ê≥ïÂåπÈÖç‰∏äËÅîÂêàÁ¥¢ÂºïÔºåËÅîÂêàÁ¥¢ÂºïÂ∞±‰ºöÂ§±Êïà:</p>
<ul>
<li>where b&#x3D;2Ôºõ</li>
<li>where c&#x3D;3Ôºõ</li>
<li>where b&#x3D;2 and c&#x3D;3Ôºõ</li>
</ul>
<p>Êúâ‰∏Ä‰∏™ÊØîËæÉÁâπÊÆäÁöÑÊü•ËØ¢Êù°‰ª∂Ôºöwhere a &#x3D; 1 and c &#x3D; 3 ÔºåÁ¨¶ÂêàÊúÄÂ∑¶ÂåπÈÖçÂêóÔºü‰∏ãÈù¢‰ºöËÆ≤Ëß£</p>
<blockquote>
<p>‰∏∫‰ªÄ‰πàËÅîÂêàÁ¥¢Âºï‰∏çÈÅµÂæ™ÊúÄÂ∑¶ÂåπÈÖçÂéüÂàôÂ∞±‰ºöÂ§±ÊïàÔºü</p>
</blockquote>
<p>Âú®ËÅîÂêàÁ¥¢ÂºïÁöÑÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆÊòØÊåâÁÖßÁ¥¢ÂºïÁ¨¨‰∏ÄÂàóÊéíÂ∫èÔºåÁ¨¨‰∏ÄÂàóÊï∞ÊçÆÊª°Ë∂≥Êó∂Êâç‰ºöÊåâÁÖßÁ¨¨‰∫åÂàóÊéíÂ∫è„ÄÇ</p>
<p>‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï‰∏≠Â∞ΩÂèØËÉΩÂ§öÁöÑÂàóÔºåÊü•ËØ¢Êù°‰ª∂‰∏≠ÁöÑÂêÑ‰∏™ÂàóÂøÖÈ°ªÊòØËÅîÂêàÁ¥¢Âºï‰∏≠‰ªéÊúÄÂ∑¶ËæπÂºÄÂßãËøûÁª≠ÁöÑÂàó„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰ªÖ‰ªÖÊåâÁÖßÁ¨¨‰∫åÂàóÊêúÁ¥¢ÔºåËÇØÂÆöÊó†Ê≥ïËµ∞Á¥¢Âºï„ÄÇ</p>
<h2 id="üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï-a-b-c-Â¶ÇÊûúÂØπÂ≠óÊÆµ-b-Âíå-c-Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü"><a href="#üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï-a-b-c-Â¶ÇÊûúÂØπÂ≠óÊÆµ-b-Âíå-c-Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü" class="headerlink" title="üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï (a, b, c) Â¶ÇÊûúÂØπÂ≠óÊÆµ b Âíå c Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü"></a>üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï (a, b, c) Â¶ÇÊûúÂØπÂ≠óÊÆµ b Âíå c Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü</h2><p><strong>Â§ö‰∏™ÊôÆÈÄöÂ≠óÊÆµÁªÑÂêàÂú®‰∏ÄËµ∑ÂàõÂª∫ÁöÑÁ¥¢ÂºïÂ∞±Âè´ÂÅöËÅîÂêàÁ¥¢Âºï</strong>„ÄÇ</p>
<p><code>(a, b, c)</code> ËÅîÂêàÁ¥¢ÂºïÔºåÊòØÂÖàÊåâ a ÊéíÂ∫èÔºåÂú® a Áõ∏ÂêåÁöÑÊÉÖÂÜµÂÜçÊåâ b ÊéíÂ∫èÔºåÂú® b Áõ∏ÂêåÁöÑÊÉÖÂÜµÂÜçÊåâ c ÊéíÂ∫è„ÄÇÊâÄ‰ª•Ôºå<strong>b Âíå c ÊòØÂÖ®Â±ÄÊó†Â∫èÔºåÂ±ÄÈÉ®Áõ∏ÂØπÊúâÂ∫èÁöÑ</strong>ÔºåËøôÊ†∑Âú®Ê≤°ÊúâÈÅµÂæ™<strong>ÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàô</strong>ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòØÊó†Ê≥ïÂà©Áî®Âà∞Á¥¢ÂºïÁöÑ„ÄÇ<strong>Âà©Áî®Á¥¢ÂºïÁöÑÂâçÊèêÊòØÁ¥¢ÂºïÈáåÁöÑ key ÊòØÊúâÂ∫èÁöÑ</strong>„ÄÇ</p>
<h2 id="üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï-a-b-c-Â¶ÇÊûúÂØπÂ≠óÊÆµ-a-Âíå-c-Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü"><a href="#üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï-a-b-c-Â¶ÇÊûúÂØπÂ≠óÊÆµ-a-Âíå-c-Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü" class="headerlink" title="üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï (a, b, c) Â¶ÇÊûúÂØπÂ≠óÊÆµ a Âíå c Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü"></a>üåüÂÅáËÆæÂª∫Á´ãËÅîÂêàÁ¥¢Âºï (a, b, c) Â¶ÇÊûúÂØπÂ≠óÊÆµ a Âíå c Êü•ËØ¢Ôºå‰ºöÁî®Âà∞Ëøô‰∏™ËÅîÂêàÁ¥¢ÂºïÂêóÔºü</h2><p>MySQL 5.6 ‰πãÂâç aÂèØ‰ª•Áî®ÔºåcÁî®‰∏ç‰∫ÜÔºåMySQL 5.6  ÂºÄÂßãÂèØ‰ª•Áî®</p>
<p>MySQL 5.5 ÁöÑËØùÔºåÂâçÈù¢ a ‰ºöËµ∞Á¥¢ÂºïÔºåÂú®ËÅîÂêàÁ¥¢ÂºïÊâæÂà∞‰∏ªÈîÆÂÄºÂêéÔºåÂºÄÂßãÂõûË°®ÔºåÂà∞‰∏ªÈîÆÁ¥¢ÂºïËØªÂèñÊï∞ÊçÆË°åÔºåServer Â±Ç‰ªéÂ≠òÂÇ®ÂºïÊìéÂ±ÇËé∑ÂèñÂà∞Êï∞ÊçÆË°åÂêéÔºåÁÑ∂ÂêéÂú® Server Â±ÇÂÜçÊØîÂØπ c Â≠óÊÆµÁöÑÂÄº„ÄÇ</p>
<p>‰ªé MySQL 5.6 ‰πãÂêéÔºåÊúâ‰∏Ä‰∏™<strong>Á¥¢Âºï‰∏ãÊé®ÂäüËÉΩ</strong>ÔºåÂèØ‰ª•Âú®Â≠òÂÇ®ÂºïÊìéÂ±ÇËøõË°åÁ¥¢ÂºïÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÂØπÁ¥¢Âºï‰∏≠ÂåÖÂê´ÁöÑÂ≠óÊÆµÂÖàÂÅöÂà§Êñ≠ÔºåÁõ¥Êé•ËøáÊª§Êéâ‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÂÜçËøîËøòÁªô Server Â±ÇÔºå‰ªéËÄåÂáèÂ∞ëÂõûË°®Ê¨°Êï∞„ÄÇ</p>
<p>Á¥¢Âºï‰∏ãÊé®ÁöÑÂ§ßÊ¶ÇÂéüÁêÜÊòØÔºöÊà™Êñ≠ÁöÑÂ≠óÊÆµ‰∏ç‰ºöÂú® Server Â±ÇËøõË°åÊù°‰ª∂Âà§Êñ≠ÔºåËÄåÊòØ‰ºöË¢´‰∏ãÊé®Âà∞„ÄåÂ≠òÂÇ®ÂºïÊìéÂ±Ç„ÄçËøõË°åÊù°‰ª∂Âà§Êñ≠ÔºàÂõ†‰∏∫ c Â≠óÊÆµÁöÑÂÄºÊòØÂú® <code>(a, b, c)</code> ËÅîÂêàÁ¥¢ÂºïÈáåÁöÑÔºâÔºåÁÑ∂ÂêéËøáÊª§Âá∫Á¨¶ÂêàÊù°‰ª∂ÁöÑÊï∞ÊçÆÂêéÂÜçËøîÂõûÁªô Server Â±Ç„ÄÇÁî±‰∫éÂú®ÂºïÊìéÂ±ÇÂ∞±ËøáÊª§ÊéâÂ§ßÈáèÁöÑÊï∞ÊçÆÔºåÊó†ÈúÄÂÜçÂõûË°®ËØªÂèñÊï∞ÊçÆÊù•ËøõË°åÂà§Êñ≠ÔºåÂáèÂ∞ëÂõûË°®Ê¨°Êï∞Ôºå‰ªéËÄåÊèêÂçá‰∫ÜÊÄßËÉΩ„ÄÇ</p>
<h2 id="üåüÁ¥¢Âºï‰∏ãÊé®"><a href="#üåüÁ¥¢Âºï‰∏ãÊé®" class="headerlink" title="üåüÁ¥¢Âºï‰∏ãÊé®"></a>üåüÁ¥¢Âºï‰∏ãÊé®</h2><p><strong>Á¥¢Âºï‰∏ãÊé®ÔºàIndex Condition PushdownÔºâ</strong> ÊòØ <strong>MySQL 5.6</strong> ÁâàÊú¨‰∏≠Êèê‰æõÁöÑ‰∏ÄÈ°πÁ¥¢Âºï‰ºòÂåñÂäüËÉΩÔºåÂèØ‰ª•Âú®ÈùûËÅöÁ∞áÁ¥¢ÂºïÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÂØπÁ¥¢Âºï‰∏≠ÂåÖÂê´ÁöÑÂ≠óÊÆµÂÖàÂÅöÂà§Êñ≠ÔºåËøáÊª§Êéâ‰∏çÁ¨¶ÂêàÊù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÂáèÂ∞ëÂõûË°®Ê¨°Êï∞„ÄÇ</p>
<p>Á¥¢Âºï‰∏ãÊé®ÁöÑÂ§ßÊ¶ÇÂéüÁêÜÊòØÔºöÊà™Êñ≠ÁöÑÂ≠óÊÆµ‰∏ç‰ºöÂú® Server Â±ÇËøõË°åÊù°‰ª∂Âà§Êñ≠ÔºåËÄåÊòØ‰ºöË¢´‰∏ãÊé®Âà∞„ÄåÂ≠òÂÇ®ÂºïÊìéÂ±Ç„ÄçËøõË°åÊù°‰ª∂Âà§Êñ≠ÔºàÂõ†‰∏∫ c Â≠óÊÆµÁöÑÂÄºÊòØÂú® <code>(a, b, c)</code> ËÅîÂêàÁ¥¢ÂºïÈáåÁöÑÔºâÔºåÁÑ∂ÂêéËøáÊª§Âá∫Á¨¶ÂêàÊù°‰ª∂ÁöÑÊï∞ÊçÆÂêéÂÜçËøîÂõûÁªô Server Â±Ç„ÄÇÁî±‰∫éÂú®ÂºïÊìéÂ±ÇÂ∞±ËøáÊª§ÊéâÂ§ßÈáèÁöÑÊï∞ÊçÆÔºåÊó†ÈúÄÂÜçÂõûË°®ËØªÂèñÊï∞ÊçÆÊù•ËøõË°åÂà§Êñ≠ÔºåÂáèÂ∞ëÂõûË°®Ê¨°Êï∞Ôºå‰ªéËÄåÊèêÂçá‰∫ÜÊÄßËÉΩ„ÄÇ</p>
<p>Áªô‰Ω†Ëøô‰∏™SQLÔºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'Â∞è%'</span> <span class="token operator">and</span> age<span class="token operator">=</span><span class="token number">28</span> <span class="token operator">and</span> sex<span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">;</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ÂÖ∂‰∏≠Ôºå<code>name</code>Âíå<code>age</code>‰∏∫ËÅîÂêàÁ¥¢ÂºïÔºà<code>idx_name_age</code>Ôºâ„ÄÇ</p>
<p>Â¶ÇÊûúÊòØ<strong>Mysql5.6‰πãÂâç</strong>ÔºåÂú®<code>idx_name_age</code>Á¥¢ÂºïÊ†ëÔºåÊâæÂá∫ÊâÄÊúâÂêçÂ≠óÁ¨¨‰∏Ä‰∏™Â≠óÊòØ<code>‚ÄúÂ∞è‚Äù</code>ÁöÑ‰∫∫ÔºåÊãøÂà∞ÂÆÉ‰ª¨ÁöÑ<code>‰∏ªÈîÆid</code>ÔºåÁÑ∂ÂêéÂõûË°®ÊâæÂá∫Êï∞ÊçÆË°åÔºåÂÜçÂéªÂØπÊØîÂπ¥ÈæÑÂíåÊÄßÂà´Á≠âÂÖ∂‰ªñÂ≠óÊÆµ„ÄÇÂ¶ÇÂõæÔºö</p>
<img src="https://img.jwt1399.top/img/202302272041220.webp" style="zoom:50%;" />

<p>Êúâ‰∫õÊúãÂèãÂèØËÉΩËßâÂæóÂ•áÊÄ™Ôºå<code>idx_name_ageÔºàname,age)</code>‰∏çÊòØËÅîÂêàÁ¥¢ÂºïÂòõÔºü‰∏∫‰ªÄ‰πàÈÄâÂá∫ÂåÖÂê´<code>‚ÄúÂ∞è‚Äù</code>Â≠óÂêéÔºå‰∏çÂÜçÈ°∫‰æøÁúã‰∏ãÂπ¥ÈæÑ<code>age</code>ÂÜçÂõûË°®Âë¢Ôºå‰∏çÊòØÊõ¥È´òÊïàÂòõÔºüÊâÄ‰ª•ÂëÄÔºå<code>MySQL 5.6</code>Â∞±ÂºïÂÖ•‰∫Ü<strong>Á¥¢Âºï‰∏ãÊé®‰ºòÂåñ</strong>ÔºåÂèØ‰ª•Âú®Á¥¢ÂºïÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÂØπÁ¥¢Âºï‰∏≠ÂåÖÂê´ÁöÑÂ≠óÊÆµÂÖàÂÅöÂà§Êñ≠ÔºåÁõ¥Êé•ËøáÊª§Êéâ‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÂáèÂ∞ëÂõûË°®Ê¨°Êï∞„ÄÇÂõ†Ê≠§ÔºåMySQL5.6ÁâàÊú¨‰πãÂêéÔºåÈÄâÂá∫ÂåÖÂê´<code>‚ÄúÂ∞è‚Äù</code>Â≠óÂêéÔºåÈ°∫Ë°®ËøáÊª§<code>age=28</code></p>
<img src="https://img.jwt1399.top/img/202302272041130.webp" style="zoom:50%;" />



<h2 id="üåü‰ΩøÁî®Á¥¢Âºï‰ºöÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπ"><a href="#üåü‰ΩøÁî®Á¥¢Âºï‰ºöÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπ" class="headerlink" title="üåü‰ΩøÁî®Á¥¢Âºï‰ºöÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπ"></a>üåü‰ΩøÁî®Á¥¢Âºï‰ºöÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπ</h2><p><strong>‰ºòÁÇπ</strong> Ôºö</p>
<ul>
<li>‰ΩøÁî®Á¥¢ÂºïÂèØ‰ª•Â§ßÂ§ßÂä†Âø´Êï∞ÊçÆÁöÑÊ£ÄÁ¥¢ÈÄüÂ∫¶ÔºàÂ§ßÂ§ßÂáèÂ∞ëÊ£ÄÁ¥¢ÁöÑÊï∞ÊçÆÈáèÔºâ, Ëøô‰πüÊòØÂàõÂª∫Á¥¢ÂºïÁöÑÊúÄ‰∏ªË¶ÅÁöÑÂéüÂõ†„ÄÇ</li>
<li>Â∞ÜÈöèÊú∫I&#x2F;OÂèòÊàêÈ°∫Â∫èI&#x2F;O(Âõ†‰∏∫B+Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÊòØËøûÊé•Âú®‰∏ÄËµ∑ÁöÑ)</li>
<li>Âä†ÈÄüË°®‰∏éË°®‰πãÈó¥ÁöÑËøûÊé•</li>
</ul>
<p><strong>Áº∫ÁÇπ</strong> Ôºö</p>
<ul>
<li>ÂàõÂª∫Á¥¢ÂºïÂíåÁª¥Êä§Á¥¢ÂºïÈúÄË¶ÅËÄóË¥πËÆ∏Â§öÊó∂Èó¥„ÄÇÂΩìÂØπË°®‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂà†ÊîπÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊï∞ÊçÆÊúâÁ¥¢ÂºïÔºåÈÇ£‰πàÁ¥¢Âºï‰πüÈúÄË¶ÅÂä®ÊÄÅÁöÑ‰øÆÊîπÔºå‰ºöÈôç‰Ωé SQL ÊâßË°åÊïàÁéá„ÄÇ</li>
<li>Á¥¢ÂºïÈúÄË¶Å‰ΩøÁî®Áâ©ÁêÜÊñá‰ª∂Â≠òÂÇ®Ôºå‰πü‰ºöËÄóË¥π‰∏ÄÂÆöÁ©∫Èó¥„ÄÇ</li>
</ul>
<h2 id="üåü‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶Å-x2F-‰∏çÈúÄË¶ÅÂàõÂª∫Á¥¢Âºï"><a href="#üåü‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶Å-x2F-‰∏çÈúÄË¶ÅÂàõÂª∫Á¥¢Âºï" class="headerlink" title="üåü‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶Å&#x2F;‰∏çÈúÄË¶ÅÂàõÂª∫Á¥¢Âºï"></a>üåü‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶Å&#x2F;‰∏çÈúÄË¶ÅÂàõÂª∫Á¥¢Âºï</h2><p><strong>‰ΩøÁî®Á¥¢Âºï</strong>Ôºö</p>
<ul>
<li><p><strong>Â≠óÊÆµÊúâÂîØ‰∏ÄÊÄßÈôêÂà∂</strong>ÔºåÊØîÂ¶ÇÂïÜÂìÅÁºñÁ†Å</p>
</li>
<li><p><strong>ÁªèÂ∏∏Áî®‰∫éWHEREÊü•ËØ¢Êù°‰ª∂ÁöÑÂ≠óÊÆµ</strong>ÔºåËøôÊ†∑ËÉΩÂ§üÊèêÈ´òÊï¥‰∏™Ë°®ÁöÑÊü•ËØ¢ÈÄüÂ∫¶</p>
</li>
<li><p><strong>ÁªèÂ∏∏Áî®‰∫é GROUP BY Âíå ORDER BY ÁöÑÂ≠óÊÆµ</strong>ÔºåÂèØ‰ª•ÂàõÂª∫ËÅîÂêàÁ¥¢Âºï</p>
</li>
<li><p><strong>Êü•ËØ¢‰∏≠ÊéíÂ∫èÁöÑÂ≠óÊÆµ</strong>ÔºöÊéíÂ∫èÁöÑÂ≠óÊÆµÂ¶ÇÊûúÈÄöËøáÁ¥¢ÂºïÂéªËÆøÈóÆÂ∞ÜÂ§ßÂ§ßÊèêÈ´òÊéíÂ∫èÈÄüÂ∫¶</p>
</li>
<li><p><strong>Êü•ËØ¢‰∏≠‰∏éÂÖ∂ÂÆÉË°®ÂÖ≥ËÅîÁöÑÂ≠óÊÆµ</strong>Ôºö‰æãÂ¶ÇÂ≠óÊÆµÂª∫Á´ã‰∫ÜÂ§ñÈîÆÂÖ≥Á≥ª</p>
</li>
</ul>
<p><strong>‰∏çÁî®Á¥¢Âºï</strong>Ôºö</p>
<ul>
<li><strong>Ë°®ËÆ∞ÂΩïÂ§™Â∞ë</strong>ÔºöË°®Êï∞ÊçÆÂ§™Â∞ëÁöÑÊó∂ÂÄôÔºå‰∏çÈúÄË¶ÅÂàõÂª∫Á¥¢Âºï</li>
<li><strong>ÁªèÂ∏∏Â¢ûÂà†ÊîπÁöÑÂ≠óÊÆµ</strong>ÔºöÁªèÂ∏∏Êõ¥Êñ∞ÁöÑÂ≠óÊÆµ‰∏çÁî®ÂàõÂª∫Á¥¢ÂºïÔºåÁ¥¢ÂºïÂ≠óÊÆµÈ¢ëÁπÅ‰øÆÊîπÔºåÁî±‰∫éË¶ÅÁª¥Êä§ B+TreeÁöÑÊúâÂ∫èÊÄßÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÈ¢ëÁπÅÁöÑÈáçÂª∫Á¥¢ÂºïÔºå‰ºöÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÊÄßËÉΩ</li>
<li><strong>Êï∞ÊçÆÈáçÂ§ç‰∏îÂàÜÂ∏ÉÂπ≥ÂùáÁöÑË°®Â≠óÊÆµ</strong>ÔºöÂÅáÂ¶Ç‰∏Ä‰∏™Ë°®Êúâ10‰∏áË°åËÆ∞ÂΩïÔºåÊÄßÂà´Âè™ÊúâÁî∑ÂíåÂ•≥‰∏§ÁßçÂÄºÔºå‰∏îÊØè‰∏™ÂÄºÁöÑÂàÜÂ∏ÉÊ¶ÇÁéáÂ§ßÁ∫¶‰∏∫50%ÔºåÈÇ£‰πàÂØπËøôÁßçÂ≠óÊÆµÂª∫Á¥¢Âºï‰∏ÄËà¨‰∏ç‰ºöÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊü•ËØ¢ÈÄüÂ∫¶„ÄÇ</li>
<li><strong>where„ÄÅgroup by„ÄÅorder by ÈáåÁî®‰∏çÂà∞ÁöÑÂ≠óÊÆµ</strong></li>
</ul>
<h2 id="üåüMySQL-Á¥¢Âºï‰ΩøÁî®‰ªÄ‰πàÊï∞ÊçÆÁªìÊûÑ"><a href="#üåüMySQL-Á¥¢Âºï‰ΩøÁî®‰ªÄ‰πàÊï∞ÊçÆÁªìÊûÑ" class="headerlink" title="üåüMySQL Á¥¢Âºï‰ΩøÁî®‰ªÄ‰πàÊï∞ÊçÆÁªìÊûÑ"></a>üåüMySQL Á¥¢Âºï‰ΩøÁî®‰ªÄ‰πàÊï∞ÊçÆÁªìÊûÑ</h2><ul>
<li><p>ÂìàÂ∏åË°®ÁªìÊûÑ</p>
</li>
<li><p>B+Ê†ëÁªìÊûÑ</p>
</li>
</ul>
<p><strong>‰∏∫‰ªÄ‰πà MySQL Ê≤°Êúâ‰ΩøÁî®ÂÖ∂‰Ωú‰∏∫Á¥¢ÂºïÁöÑÊï∞ÊçÆÁªìÊûÑÂë¢Ôºü</strong></p>
<ul>
<li>Hash Á¥¢Âºï‰∏çÊîØÊåÅÈ°∫Â∫èÂíåËåÉÂõ¥Êü•ËØ¢</li>
<li>‰∏çÊîØÊåÅÊ®°Á≥äÊü•ËØ¢„ÄÅÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖç</li>
<li>Â≠òÂú®ÂìàÂ∏åÂÜ≤Á™Å</li>
</ul>
<h2 id="üåüÂ¶Ç‰ΩïËÆæËÆ°Á¥¢ÂºïÔºåÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢Ôºü"><a href="#üåüÂ¶Ç‰ΩïËÆæËÆ°Á¥¢ÂºïÔºåÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢Ôºü" class="headerlink" title="üåüÂ¶Ç‰ΩïËÆæËÆ°Á¥¢ÂºïÔºåÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢Ôºü"></a>üåüÂ¶Ç‰ΩïËÆæËÆ°Á¥¢ÂºïÔºåÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢Ôºü</h2><ul>
<li>ËÉΩÂú®Â∞ΩÂèØËÉΩÂ∞ëÁöÑÁ£ÅÁõòÁöÑ I&#x2F;O Êìç‰Ωú‰∏≠ÂÆåÊàêÊü•ËØ¢Â∑•‰ΩúÔºõ</li>
<li>Ë¶ÅËÉΩÈ´òÊïàÂú∞Êü•ËØ¢Êüê‰∏Ä‰∏™ËÆ∞ÂΩïÔºå‰πüË¶ÅËÉΩÈ´òÊïàÂú∞ÊâßË°åËåÉÂõ¥Êü•ÊâæÔºõ<ul>
<li>‰∏∫È¢ëÁπÅÊü•ËØ¢ÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÔºåÈ¢ëÁπÅÂ¢ûÂà†ÊîπÁöÑÂ≠óÊÆµ‰∏çË¶ÅÂª∫Á´ãÁ¥¢Âºï</li>
<li>ÈÅøÂÖç‰∏∫‚ÄùÂ§ßÂ≠óÊÆµ‚ÄùÂª∫Á´ãÁ¥¢Âºï</li>
<li>ÈÄâÊã©Âå∫ÂàÜÂ∫¶Â§ßÁöÑÂàó‰Ωú‰∏∫Á¥¢Âºï</li>
<li>Â∞ΩÈáè‰∏∫ORDER BY Âíå GROUP BY ÂêéÈù¢ÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢Âºï</li>
<li>‰∏çË¶ÅÂú®Êù°‰ª∂‰∏≠‰ΩøÁî®ÂáΩÊï∞</li>
<li>‰∏çË¶ÅÂª∫Á´ãÂ§™Â§öÁöÑÁ¥¢ÂºïÔºåÂç†Áî®Á©∫Èó¥</li>
</ul>
</li>
</ul>
<p><strong>‰ºòÂåñÁ¥¢ÂºïÁöÑÊñπÊ≥ïÔºü</strong></p>
<ul>
<li><p>ÂâçÁºÄÁ¥¢Âºï‰ºòÂåñÔºõ</p>
<ul>
<li>‰ΩøÁî®ÂâçÁºÄÁ¥¢ÂºïÊòØ‰∏∫‰∫ÜÂáèÂ∞èÁ¥¢ÂºïÂ≠óÊÆµÂ§ßÂ∞èÔºåÂèØ‰ª•Â¢ûÂä†‰∏Ä‰∏™Á¥¢ÂºïÈ°µ‰∏≠Â≠òÂÇ®ÁöÑÁ¥¢ÂºïÂÄºÔºåÊúâÊïàÊèêÈ´òÁ¥¢ÂºïÁöÑÊü•ËØ¢ÈÄüÂ∫¶„ÄÇÂú®‰∏Ä‰∫õÂ§ßÂ≠óÁ¨¶‰∏≤ÁöÑÂ≠óÊÆµ‰Ωú‰∏∫Á¥¢ÂºïÊó∂Ôºå‰ΩøÁî®ÂâçÁºÄÁ¥¢ÂºïÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂáèÂ∞èÁ¥¢ÂºïÈ°πÁöÑÂ§ßÂ∞è„ÄÇ</li>
<li>order by Â∞±Êó†Ê≥ï‰ΩøÁî®ÂâçÁºÄÁ¥¢ÂºïÔºõ</li>
<li>Êó†Ê≥ïÊääÂâçÁºÄÁ¥¢ÂºïÁî®‰ΩúË¶ÜÁõñÁ¥¢ÂºïÔºõ</li>
</ul>
</li>
<li><p>Ë¶ÜÁõñÁ¥¢Âºï‰ºòÂåñÔºõ</p>
<ul>
<li>‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØÔºå‰∏çÈúÄË¶ÅÊü•ËØ¢Âá∫ÂåÖÂê´Êï¥Ë°åËÆ∞ÂΩïÁöÑÊâÄÊúâ‰ø°ÊÅØÔºå‰πüÂ∞±ÂáèÂ∞ë‰∫ÜÂ§ßÈáèÁöÑ I&#x2F;O Êìç‰Ωú„ÄÇ</li>
</ul>
</li>
<li><p>‰∏ªÈîÆÁ¥¢ÂºïÊúÄÂ•ΩÊòØËá™Â¢ûÁöÑÔºõ</p>
<ul>
<li><strong>Â¶ÇÊûúÊàë‰ª¨‰ΩøÁî®Ëá™Â¢û‰∏ªÈîÆ</strong>ÔºåÈÇ£‰πàÊØèÊ¨°ÊèíÂÖ•ÁöÑÊñ∞Êï∞ÊçÆÂ∞±‰ºöÊåâÈ°∫Â∫èÊ∑ªÂä†Âà∞ÂΩìÂâçÁ¥¢ÂºïËäÇÁÇπÁöÑ‰ΩçÁΩÆÔºå‰∏çÈúÄË¶ÅÁßªÂä®Â∑≤ÊúâÁöÑÊï∞ÊçÆÔºåÂΩìÈ°µÈù¢ÂÜôÊª°ÔºåÂ∞±‰ºöËá™Âä®ÂºÄËæü‰∏Ä‰∏™Êñ∞È°µÈù¢„ÄÇÂõ†‰∏∫ÊØèÊ¨°<strong>ÊèíÂÖ•‰∏ÄÊù°Êñ∞ËÆ∞ÂΩïÔºåÈÉΩÊòØËøΩÂä†Êìç‰ΩúÔºå‰∏çÈúÄË¶ÅÈáçÊñ∞ÁßªÂä®Êï∞ÊçÆ</strong>ÔºåÂõ†Ê≠§ËøôÁßçÊèíÂÖ•Êï∞ÊçÆÁöÑÊñπÊ≥ïÊïàÁéáÈùûÂ∏∏È´ò„ÄÇ</li>
</ul>
</li>
<li><p>Èò≤Ê≠¢Á¥¢ÂºïÂ§±ÊïàÔºõ</p>
</li>
<li><p>ËÅîÂêàÁ¥¢ÂºïÊúÄÂ∑¶ÂâçÁºÄÂéüÂàô</p>
</li>
<li><p>Á¥¢ÂºïÊúÄÂ•ΩËÆæÁΩÆ‰∏∫ NOT NULL</p>
<ul>
<li>Á¨¨‰∏ÄÂéüÂõ†ÔºöÁ¥¢ÂºïÂàóÂ≠òÂú® NULL Â∞±‰ºöÂØºËá¥‰ºòÂåñÂô®Âú®ÂÅöÁ¥¢ÂºïÈÄâÊã©ÁöÑÊó∂ÂÄôÊõ¥Âä†Â§çÊùÇÔºåÊõ¥Âä†Èöæ‰ª•‰ºòÂåñ„ÄÇ</li>
<li>Á¨¨‰∫å‰∏™ÂéüÂõ†ÔºöNULL ÂÄºÊòØ‰∏Ä‰∏™Ê≤°ÊÑè‰πâÁöÑÂÄºÔºå‰ΩÜÊòØÂÆÉ‰ºöÂç†Áî®Áâ©ÁêÜÁ©∫Èó¥„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="üåüÁ¥¢Âºï‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂ§±ÊïàÔºü"><a href="#üåüÁ¥¢Âºï‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂ§±ÊïàÔºü" class="headerlink" title="üåüÁ¥¢Âºï‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂ§±ÊïàÔºü"></a>üåüÁ¥¢Âºï‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂ§±ÊïàÔºü</h2><ul>
<li><strong>ÂΩìÁ¥¢Âºï‰ΩøÁî®Â∑¶ÊàñËÄÖÂ∑¶Âè≥Ê®°Á≥äÂåπÈÖçÁöÑÊó∂ÂÄô</strong>Ôºå‰πüÂ∞±ÊòØ <code>like %xx</code> ÊàñËÄÖ <code>like %xx%</code>Ëøô‰∏§ÁßçÊñπÂºèÈÉΩ‰ºöÈÄ†ÊàêÁ¥¢ÂºïÂ§±ÊïàÔºõ<ul>
<li>Âõ†‰∏∫Á¥¢Âºï B+ Ê†ëÊòØÊåâÁÖß„ÄåÁ¥¢ÂºïÂÄº„ÄçÊúâÂ∫èÊéíÂàóÂ≠òÂÇ®ÁöÑÔºå<strong>Âè™ËÉΩÊ†πÊçÆÂâçÁºÄËøõË°åÊØîËæÉ</strong>„ÄÇ</li>
</ul>
</li>
<li><strong>ÂΩìÂØπÁ¥¢ÂºïÂàó‰ΩøÁî®ÂáΩÊï∞</strong>ÔºåÂ∞±‰ºöÂØºËá¥Á¥¢ÂºïÂ§±Êïà„ÄÇ<ul>
<li>Âõ†‰∏∫Á¥¢Âºï‰øùÂ≠òÁöÑÊòØÁ¥¢ÂºïÂ≠óÊÆµÁöÑÂéüÂßãÂÄºÔºåËÄå‰∏çÊòØÁªèËøáÂáΩÊï∞ËÆ°ÁÆóÂêéÁöÑÂÄºÔºåËá™ÁÑ∂Â∞±Ê≤°ÂäûÊ≥ïËµ∞Á¥¢Âºï‰∫Ü„ÄÇ</li>
</ul>
</li>
<li><strong>ÂØπÁ¥¢ÂºïÂàóËøõË°åË°®ËææÂºèËÆ°ÁÆó</strong>Ôºå‰πüÊòØÊó†Ê≥ïËµ∞Á¥¢ÂºïÁöÑ„ÄÇ<ul>
<li>ÂéüÂõ†Ë∑üÂØπÁ¥¢Âºï‰ΩøÁî®ÂáΩÊï∞Â∑Æ‰∏çÂ§ö„ÄÇ</li>
</ul>
</li>
<li><strong>ÂØπÁ¥¢ÂºïÈöêÂºèÁ±ªÂûãËΩ¨Êç¢</strong>Ôºå‰πüÊòØÊó†Ê≥ïËµ∞Á¥¢ÂºïÁöÑ„ÄÇ<ul>
<li>MySQL Âú®ÈÅáÂà∞Â≠óÁ¨¶‰∏≤ÂíåÊï∞Â≠óÊØîËæÉÁöÑÊó∂ÂÄôÔºå‰ºöËá™Âä®ÊääÂ≠óÁ¨¶‰∏≤ËΩ¨‰∏∫Êï∞Â≠óÔºåÁÑ∂ÂêéÂÜçËøõË°åÊØîËæÉ„ÄÇ</li>
<li>Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÊòØÁ¥¢ÂºïÂàóÔºåËÄåÊù°‰ª∂ËØ≠Âè•‰∏≠ÁöÑËæìÂÖ•ÂèÇÊï∞ÊòØÊï∞Â≠óÁöÑËØùÔºåÈÇ£‰πàÁ¥¢ÂºïÂàó‰ºöÂèëÁîüÈöêÂºèÁ±ªÂûãËΩ¨Êç¢ÔºåÁî±‰∫éÈöêÂºèÁ±ªÂûãËΩ¨Êç¢ÊòØÈÄöËøá CAST ÂáΩÊï∞ÂÆûÁé∞ÁöÑÔºåÁ≠âÂêå‰∫éÂØπÁ¥¢ÂºïÂàó‰ΩøÁî®‰∫ÜÂáΩÊï∞ÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥Á¥¢ÂºïÂ§±Êïà„ÄÇ</li>
</ul>
</li>
<li><strong>ËÅîÂêàÁ¥¢Âºï‰∏çÈÅµÂæ™ÊúÄÂ∑¶ÂåπÈÖçÂéüÂàô</strong>ÔºåÂ∞±‰ºöÂØºËá¥Á¥¢ÂºïÂ§±Êïà„ÄÇ<ul>
<li>ÂéüÂõ†ÊòØÂú®ËÅîÂêàÁ¥¢ÂºïÁöÑÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆÊòØÊåâÁÖßÁ¥¢ÂºïÁ¨¨‰∏ÄÂàóÊéíÂ∫èÔºåÁ¨¨‰∏ÄÂàóÊï∞ÊçÆÁõ∏ÂêåÊó∂Êâç‰ºöÊåâÁÖßÁ¨¨‰∫åÂàóÊéíÂ∫è„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï‰∏≠Â∞ΩÂèØËÉΩÂ§öÁöÑÂàóÔºåÊü•ËØ¢Êù°‰ª∂‰∏≠ÁöÑÂêÑ‰∏™ÂàóÂøÖÈ°ªÊòØËÅîÂêàÁ¥¢Âºï‰∏≠‰ªéÊúÄÂ∑¶ËæπÂºÄÂßãËøûÁª≠ÁöÑÂàó„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰ªÖ‰ªÖÊåâÁÖßÁ¨¨‰∫åÂàóÊêúÁ¥¢ÔºåËÇØÂÆöÊó†Ê≥ïËµ∞Á¥¢Âºï</li>
</ul>
</li>
<li><strong>Âú® WHERE Â≠êÂè•‰∏≠ÔºåÂ¶ÇÊûúÂú® OR ÂâçÁöÑÊù°‰ª∂ÂàóÊòØÁ¥¢ÂºïÂàóÔºåËÄåÂú® OR ÂêéÁöÑÊù°‰ª∂Âàó‰∏çÊòØÁ¥¢ÂºïÂàó</strong>ÔºåÈÇ£‰πàÁ¥¢Âºï‰ºöÂ§±Êïà„ÄÇ<ul>
<li>ËøôÊòØÂõ†‰∏∫ OR ÁöÑÂê´‰πâÂ∞±ÊòØ‰∏§‰∏™Âè™Ë¶ÅÊª°Ë∂≥‰∏Ä‰∏™Âç≥ÂèØÔºåÂõ†Ê≠§Âè™Êúâ‰∏Ä‰∏™Êù°‰ª∂ÂàóÊòØÁ¥¢ÂºïÂàóÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºåÂè™Ë¶ÅÊúâÊù°‰ª∂Âàó‰∏çÊòØÁ¥¢ÂºïÂàóÔºåÂ∞±‰ºöËøõË°åÂÖ®Ë°®Êâ´Êèè„ÄÇ</li>
</ul>
</li>
</ul>
<h1 id="‚ë¢‰∫ãÂä°"><a href="#‚ë¢‰∫ãÂä°" class="headerlink" title="‚ë¢‰∫ãÂä°"></a>‚ë¢‰∫ãÂä°</h1><h2 id="üåü‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°"><a href="#üåü‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°" class="headerlink" title="üåü‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°"></a>üåü‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°</h2><blockquote>
<p>MySQL ‰∏∫‰ªÄ‰πà‰ºö‰ΩøÁî® InnoDB ‰Ωú‰∏∫ÈªòËÆ§ÈÄâÈ°π</p>
</blockquote>
<p>Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÂèØ‰ª•‰øùËØÅÂ§ö‰∏™ÂØπÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÔºà‰πüÂ∞±ÊòØ SQL ËØ≠Âè•ÔºâÊûÑÊàê‰∏Ä‰∏™ÈÄªËæë‰∏äÁöÑÊï¥‰Ωì„ÄÇËøô‰∏™Êï¥‰ΩìÔºö<strong>Ë¶Å‰πàÂÖ®ÈÉ®ÊâßË°åÊàêÂäü,Ë¶Å‰πàÂÖ®ÈÉ®‰∏çÊâßË°å</strong> „ÄÇ</p>
<p>‰∏çËøáÂπ∂‰∏çÊòØÊâÄÊúâÁöÑÂºïÊìéÈÉΩËÉΩÊîØÊåÅ‰∫ãÂä°ÔºåÊØîÂ¶Ç MySQL ÂéüÁîüÁöÑ MyISAM ÂºïÊìéÂ∞±‰∏çÊîØÊåÅ‰∫ãÂä°Ôºå‰πüÊ≠£ÊòØËøôÊ†∑ÔºåÊâÄ‰ª•Â§ßÂ§öÊï∞ MySQL ÁöÑÂºïÊìéÈÉΩÊòØÁî® InnoDB„ÄÇ</p>
<h2 id="üåüÁÆÄËø∞‰∫ãÂä°ÁöÑACIDÁâπÊÄß"><a href="#üåüÁÆÄËø∞‰∫ãÂä°ÁöÑACIDÁâπÊÄß" class="headerlink" title="üåüÁÆÄËø∞‰∫ãÂä°ÁöÑACIDÁâπÊÄß"></a>üåüÁÆÄËø∞‰∫ãÂä°ÁöÑACIDÁâπÊÄß</h2><p><strong>ÂéüÂ≠êÊÄß</strong>Ôºà<code>Atomicity</code>Ôºâ ÔºöÁ°Æ‰øùÊìç‰ΩúË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•Ôºõ‚Äî‚ÄîÈÄöËøá undo logÔºàÂõûÊªöÊó•ÂøóÔºâ Êù•‰øùËØÅ</p>
<p><strong>‰∏ÄËá¥ÊÄß</strong>Ôºà<code>Consistency</code>ÔºâÔºö ÊâßË°å‰∫ãÂä°ÂâçÂêéÔºåÊï∞ÊçÆ‰øùÊåÅ‰∏ÄËá¥Ôºå‰æãÂ¶ÇËΩ¨Ë¥¶‰∏öÂä°‰∏≠ÔºåÊó†ËÆ∫‰∫ãÂä°ÊòØÂê¶ÊàêÂäüÔºåËΩ¨Ë¥¶ËÄÖÂíåÊî∂Ê¨æ‰∫∫ÁöÑÊÄªÈ¢ùÂ∫îËØ•ÊòØ‰∏çÂèòÁöÑÔºõ‚Äî‚ÄîÈÄöËøáÊåÅ‰πÖÊÄß+ÂéüÂ≠êÊÄß+ÈöîÁ¶ªÊÄßÊù•‰øùËØÅ</p>
<p><strong>ÈöîÁ¶ªÊÄß</strong>Ôºà<code>Isolation</code>ÔºâÔºö Âπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÂ∫ìÊó∂Ôºå‰∏Ä‰∏™Áî®Êà∑ÁöÑ‰∫ãÂä°‰∏çË¢´ÂÖ∂‰ªñ‰∫ãÂä°ÊâÄÂπ≤Êâ∞ÔºåÂêÑÂπ∂Âèë‰∫ãÂä°‰πãÈó¥Êï∞ÊçÆÂ∫ìÊòØÁã¨Á´ãÁöÑÔºõ‚Äî‚ÄîÈÄöËøá MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ ÊàñÈîÅÊú∫Âà∂Êù•‰øùËØÅ</p>
<p><strong>ÊåÅ‰πÖÊÄß</strong>Ôºà<code>Durability</code>ÔºâÔºö ‰∏Ä‰∏™‰∫ãÂä°Ë¢´Êèê‰∫§‰πãÂêé„ÄÇÂÆÉÂØπÊï∞ÊçÆÁöÑÊîπÂèòÊòØÊåÅ‰πÖÁöÑÔºåÂç≥‰ΩøÊï∞ÊçÆÂ∫ìÂèëÁîüÊïÖÈöú‰πü‰∏çÂ∫îËØ•ÂØπÂÖ∂Êúâ‰ªª‰ΩïÂΩ±Âìç„ÄÇ‚Äî‚ÄîÈÄöËøá redo log ÔºàÈáçÂÅöÊó•ÂøóÔºâÊù•‰øùËØÅ</p>
<img src="https://img.jwt1399.top/img/202303241653672.png" style="zoom: 33%;" />

<h2 id="üåüÂ¶Ç‰ΩïÂºÄÂêØ„ÄÅÊèê‰∫§„ÄÅÂõûÊªö‰∏Ä‰∏™‰∫ãÂä°Ôºü"><a href="#üåüÂ¶Ç‰ΩïÂºÄÂêØ„ÄÅÊèê‰∫§„ÄÅÂõûÊªö‰∏Ä‰∏™‰∫ãÂä°Ôºü" class="headerlink" title="üåüÂ¶Ç‰ΩïÂºÄÂêØ„ÄÅÊèê‰∫§„ÄÅÂõûÊªö‰∏Ä‰∏™‰∫ãÂä°Ôºü"></a>üåüÂ¶Ç‰ΩïÂºÄÂêØ„ÄÅÊèê‰∫§„ÄÅÂõûÊªö‰∏Ä‰∏™‰∫ãÂä°Ôºü</h2><pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># ÂºÄÂêØ‰∏Ä‰∏™‰∫ãÂä°</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true"># Â§öÊù° SQL ËØ≠Âè•</span>
SQL1<span class="token punctuation">,</span>SQL2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment" spellcheck="true">## Êèê‰∫§‰∫ãÂä°</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">### ÂõûÊªö‰∫ãÂä°</span>
<span class="token keyword">rollback</span>Ôºõ
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="üåüInnoDB-ÊÄé‰πà‰øùËØÅ‰∫ãÂä°ÁöÑACIDÁâπÊÄßÔºü"><a href="#üåüInnoDB-ÊÄé‰πà‰øùËØÅ‰∫ãÂä°ÁöÑACIDÁâπÊÄßÔºü" class="headerlink" title="üåüInnoDB ÊÄé‰πà‰øùËØÅ‰∫ãÂä°ÁöÑACIDÁâπÊÄßÔºü"></a>üåüInnoDB ÊÄé‰πà‰øùËØÅ‰∫ãÂä°ÁöÑACIDÁâπÊÄßÔºü</h2><ul>
<li><strong>ÂéüÂ≠êÊÄß</strong>ÊòØÈÄöËøá undo logÔºàÂõûÊªöÊó•ÂøóÔºâ Êù•‰øùËØÅÁöÑÔºõ</li>
</ul>
<p>InnoDBÂØπ‰∏ÄÊù°ËÆ∞ÂΩïËøõË°åÊìç‰ΩúÔºàÂ¢û„ÄÅÂà†„ÄÅÊîπÔºâÊó∂ÔºåÂÖàÂ∞ÜÂõûÊªöÈúÄË¶ÅÁöÑ‰ø°ÊÅØËÆ∞ÂΩïÂà∞undo logÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠ÔºåÂ¶ÇÊûúÂ§±Ë¥•‰∫ÜÊàñËÄÖ‰∏ªÂä®rollbackÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáundo logÁöÑÂÜÖÂÆπÔºåÂ∞Ü‰∫ãÂä°ÂõûÊªö„ÄÇ</p>
<ul>
<li><strong>ÊåÅ‰πÖÊÄß</strong>ÊòØÈÄöËøá redo log ÔºàÈáçÂÅöÊó•ÂøóÔºâÊù•‰øùËØÅÁöÑÔºõ</li>
</ul>
<p>ÂΩìÊï∞ÊçÆ‰øÆÊîπÊó∂Ôºå‰ºöÂÖàÂú®redo logËÆ∞ÂΩïËøôÊ¨°Êìç‰ΩúÔºåÁÑ∂ÂêéÂÜç‰øÆÊîπÁºìÂÜ≤Ê±†Ôºàbuffer poolÔºâ‰∏≠ÁöÑÊï∞ÊçÆÔºåÂΩì‰∫ãÂä°Êèê‰∫§Êó∂Ôºå‰ºöË∞ÉÁî®fsyncÊé•Âè£ÂØπ redo log ËøõË°åÂà∑Áõò„ÄÇÔºàredo logÊòØÈ¢ÑÂÜôÂºè(WAL)Êó•ÂøóÔºåÊâÄÊúâ‰øÆÊîπÊòØÂÖàÂÜôÂÖ•Êó•ÂøóÂÜçÊâßË°åÔºåÊâÄ‰ª•‰øùËØÅ‰∫ÜÊï∞ÊçÆ‰∏ç‰ºöÂõ†MySQLÂÆïÊú∫ËÄå‰∏¢Â§±Ôºå‰ªéËÄåÊª°Ë∂≥‰∫ÜÊåÅ‰πÖÊÄßË¶ÅÊ±Ç„ÄÇÔºâ</p>
<img src="https://img.jwt1399.top/img/202303241851957.png" style="zoom: 50%;" />

<ul>
<li><strong>ÈöîÁ¶ªÊÄß</strong>ÊòØÈÄöËøá MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ ÊàñÈîÅÊú∫Âà∂Êù•‰øùËØÅÁöÑÔºõ</li>
<li><strong>‰∏ÄËá¥ÊÄß</strong>ÂàôÊòØÈÄöËøáÊåÅ‰πÖÊÄß+ÂéüÂ≠êÊÄß+ÈöîÁ¶ªÊÄßÊù•‰øùËØÅÔºõ</li>
</ul>
<h2 id="üåüÂπ∂Ë°å‰∫ãÂä°‰ºöÂºïÂèë‰ªÄ‰πàÈóÆÈ¢òÔºü"><a href="#üåüÂπ∂Ë°å‰∫ãÂä°‰ºöÂºïÂèë‰ªÄ‰πàÈóÆÈ¢òÔºü" class="headerlink" title="üåüÂπ∂Ë°å‰∫ãÂä°‰ºöÂºïÂèë‰ªÄ‰πàÈóÆÈ¢òÔºü"></a>üåüÂπ∂Ë°å‰∫ãÂä°‰ºöÂºïÂèë‰ªÄ‰πàÈóÆÈ¢òÔºü</h2><p>MySQL ÊúçÂä°Á´ØÊòØÂÖÅËÆ∏Â§ö‰∏™ÂÆ¢Êà∑Á´ØËøûÊé•ÁöÑÔºåËøôÊÑèÂë≥ÁùÄ MySQL ‰ºöÂá∫Áé∞ÂêåÊó∂Â§ÑÁêÜÂ§ö‰∏™‰∫ãÂä°ÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>ÈÇ£‰πàÂú®ÂêåÊó∂Â§ÑÁêÜÂ§ö‰∏™‰∫ãÂä°ÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØËÉΩÂá∫Áé∞<strong>ËÑèËØªÔºàdirty readÔºâ</strong>„ÄÅ<strong>‰∏çÂèØÈáçÂ§çËØªÔºànon-repeatable readÔºâ</strong>„ÄÅ<strong>ÂπªËØªÔºàphantom readÔºâ</strong>ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p><strong>ËÑèËØª</strong>Ôºö‰∏Ä‰∏™‰∫ãÂä°„ÄåËØªÂà∞„Äç‰∫ÜÂè¶‰∏Ä‰∏™„ÄåÊú™Êèê‰∫§‰∫ãÂä°‰øÆÊîπËøáÁöÑÊï∞ÊçÆ„Äç</p>
<p><strong>‰∏çÂèØÈáçÂ§çËØª</strong>Ôºö‰∏Ä‰∏™‰∫ãÂä°ÂÜÖÂ§öÊ¨°ËØªÂèñÂêå‰∏Ä‰∏™Êï∞ÊçÆÔºåÂá∫Áé∞ÂâçÂêé‰∏§Ê¨°ËØªÂà∞ÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄÊ†∑ÁöÑÊÉÖÂÜµ</p>
<p><strong>ÂπªËØª</strong>Ôºö‰∏Ä‰∏™‰∫ãÂä°ÂÜÖÂ§öÊ¨°Êü•ËØ¢Êüê‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑ„ÄåËÆ∞ÂΩïÊï∞Èáè„ÄçÔºåÂá∫Áé∞ÂâçÂêé‰∏§Ê¨°Êü•ËØ¢Âà∞ÁöÑËÆ∞ÂΩïÊï∞Èáè‰∏ç‰∏ÄÊ†∑ÁöÑÊÉÖÂÜµ</p>
<p><strong>‰∏çÂèØÈáçÂ§çËØªÂíåÂπªËØªÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü</strong></p>
<ul>
<li>‰∏çÂèØÈáçÂ§çËØªÁöÑÈáçÁÇπÊòØÂÜÖÂÆπ‰øÆÊîπÊàñËÄÖËÆ∞ÂΩïÂáèÂ∞ë„ÄÇ </li>
<li>ÂπªËØªÁöÑÈáçÁÇπÂú®‰∫éËÆ∞ÂΩïÂ¢ûÂä†„ÄÇ</li>
</ul>
<p><strong>ÊÄªÁªìÔºö</strong></p>
<ul>
<li>ËÑèËØªÔºöËØªÂà∞ÂÖ∂‰ªñ‰∫ãÂä°Êú™Êèê‰∫§ÁöÑÊï∞ÊçÆÔºõ</li>
<li>‰∏çÂèØÈáçÂ§çËØªÔºöÂâçÂêéËØªÂèñÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºõ</li>
<li>ÂπªËØªÔºöÂâçÂêéËØªÂèñÁöÑËÆ∞ÂΩïÊï∞Èáè‰∏ç‰∏ÄËá¥„ÄÇ</li>
</ul>
<p>Ëøô‰∏â‰∏™Áé∞Ë±°ÁöÑ‰∏•ÈáçÊÄßÊéíÂ∫èÂ¶Ç‰∏ãÔºöËÑèËØª &gt; ‰∏çÂèØÈáçÂ§çËØª &gt; ÂπªËØª</p>
<h2 id="üåüÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÊúâÂì™‰∫õÔºü‰ºòÁº∫ÁÇπÔºü"><a href="#üåüÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÊúâÂì™‰∫õÔºü‰ºòÁº∫ÁÇπÔºü" class="headerlink" title="üåüÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÊúâÂì™‰∫õÔºü‰ºòÁº∫ÁÇπÔºü"></a>üåüÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÊúâÂì™‰∫õÔºü‰ºòÁº∫ÁÇπÔºü</h2><p>SQL Ê†áÂáÜÊèêÂá∫‰∫ÜÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´Êù•ËßÑÈÅøËøô‰∫õÁé∞Ë±°ÔºåÈöîÁ¶ªÁ∫ßÂà´Ë∂äÈ´òÔºåÊÄßËÉΩÊïàÁéáÂ∞±Ë∂ä‰ΩéÔºåËøôÂõõ‰∏™ÈöîÁ¶ªÁ∫ßÂà´Â¶Ç‰∏ãÔºö</p>
<ul>
<li><strong>ËØªÊú™Êèê‰∫§Ôºàread uncommittedÔºâ</strong>ÔºåÊåá‰∏Ä‰∏™‰∫ãÂä°ËøòÊ≤°Êèê‰∫§Êó∂ÔºåÂÆÉÂÅöÁöÑÂèòÊõ¥Â∞±ËÉΩË¢´ÂÖ∂‰ªñ‰∫ãÂä°ÁúãÂà∞Ôºõ</li>
<li><strong>ËØªÊèê‰∫§Ôºàread committedÔºâ</strong>ÔºåÊåá‰∏Ä‰∏™‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºåÂÆÉÂÅöÁöÑÂèòÊõ¥ÊâçËÉΩË¢´ÂÖ∂‰ªñ‰∫ãÂä°ÁúãÂà∞Ôºõ</li>
<li><strong>ÂèØÈáçÂ§çËØªÔºàrepeatable readÔºâ</strong>ÔºåÊåá‰∏Ä‰∏™‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÁúãÂà∞ÁöÑÊï∞ÊçÆÔºå‰∏ÄÁõ¥Ë∑üËøô‰∏™‰∫ãÂä°ÂêØÂä®Êó∂ÁúãÂà∞ÁöÑÊï∞ÊçÆÊòØ‰∏ÄËá¥ÁöÑÔºå**InnoDB ÈªòËÆ§ÈöîÁ¶ªÁ∫ßÂà´ **Ôºõ</li>
<li><strong>‰∏≤Ë°åÂåñÔºàserializable Ôºâ</strong>Ôºõ‰ºöÂØπËÆ∞ÂΩïÂä†‰∏äËØªÂÜôÈîÅÔºåÂú®Â§ö‰∏™‰∫ãÂä°ÂØπËøôÊù°ËÆ∞ÂΩïËøõË°åËØªÂÜôÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúÂèëÁîü‰∫ÜËØªÂÜôÂÜ≤Á™ÅÁöÑÊó∂ÂÄôÔºåÂêéËÆøÈóÆÁöÑ‰∫ãÂä°ÂøÖÈ°ªÁ≠âÂâç‰∏Ä‰∏™‰∫ãÂä°ÊâßË°åÂÆåÊàêÔºåÊâçËÉΩÁªßÁª≠ÊâßË°åÔºõ</li>
</ul>
<p>ÊåâÈöîÁ¶ªÊ∞¥Âπ≥È´ò‰ΩéÊéíÂ∫èÂ¶Ç‰∏ãÔºö‰∏≤Ë°åÂåñ &gt; ÂèØÈáçÂ§çËØª &gt; ËØªÊèê‰∫§ &gt; ËØªÊú™Êèê‰∫§</p>
<p>ÈíàÂØπ‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÂπ∂Âèë‰∫ãÂä°Êó∂ÂèØËÉΩÂèëÁîüÁöÑÁé∞Ë±°‰πü‰ºö‰∏çÂêå„ÄÇ</p>
<img src="https://img.jwt1399.top/img/202308061457950.png" style="zoom:50%;" />

<p><strong>ÂêÑÂ§ß‰ºÅ‰∏öÈÄöÂ∏∏‰∏∫‰ªÄ‰πàÈááÁî®rcÈöîÁ¶ªÁ∫ßÂà´?</strong></p>
<p>rrÈöîÁ¶ªÁ∫ßÂà´ÊúâgapÈîÅÔºåÂú®Âπ∂ÂèëÁöÑÂú∫ÊôØÔºåÂæàÂÆπÊòì‰∫ßÁîüÊ≠ªÈîÅÔºåÊ≠ªÈîÅÈóÆÈ¢òÁöÑÂèëÁîüÊØîÂá∫Áé∞ÂπªËØªÁöÑÈóÆÈ¢òÊàêÊú¨Êõ¥Â§ß</p>
<h2 id="üåüÂ¶Ç‰ΩïËß£ÂÜ≥ËÑèËØª„ÄÅÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁöÑÔºü"><a href="#üåüÂ¶Ç‰ΩïËß£ÂÜ≥ËÑèËØª„ÄÅÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁöÑÔºü" class="headerlink" title="üåüÂ¶Ç‰ΩïËß£ÂÜ≥ËÑèËØª„ÄÅÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁöÑÔºü"></a>üåüÂ¶Ç‰ΩïËß£ÂÜ≥ËÑèËØª„ÄÅÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁöÑÔºü</h2><p>Ë¶Å<strong>Ëß£ÂÜ≥ËÑèËØª</strong>Áé∞Ë±°ÔºåÂ∞±Ë¶Å<strong>ÂçáÁ∫ßÂà∞„ÄåËØªÊèê‰∫§„Äç‰ª•‰∏ä</strong>ÁöÑÈöîÁ¶ªÁ∫ßÂà´Ôºõ</p>
<p>Ë¶Å<strong>Ëß£ÂÜ≥‰∏çÂèØÈáçÂ§çËØª</strong>Áé∞Ë±°ÔºåÂ∞±Ë¶Å<strong>ÂçáÁ∫ßÂà∞„ÄåÂèØÈáçÂ§çËØª„Äç</strong>ÁöÑÈöîÁ¶ªÁ∫ßÂà´Ôºå</p>
<p>Ë¶Å<strong>Ëß£ÂÜ≥ÂπªËØª</strong>Áé∞Ë±°‰∏çÂª∫ËÆÆÂ∞ÜÈöîÁ¶ªÁ∫ßÂà´ÂçáÁ∫ßÂà∞„Äå‰∏≤Ë°åÂåñ„ÄçÔºàÂΩ±ÂìçÊÄßËÉΩÔºâ„ÄÇ</p>
<p>MySQL Âú®„ÄåÂèØÈáçÂ§çËØª„ÄçÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂèØ‰ª•ÂæàÂ§ßÁ®ãÂ∫¶‰∏äÈÅøÂÖçÂπªËØªÁé∞Ë±°ÁöÑÂèëÁîüÔºàÊ≥®ÊÑèÊòØÂæàÂ§ßÁ®ãÂ∫¶ÈÅøÂÖçÔºåÂπ∂‰∏çÊòØÂΩªÂ∫ïÈÅøÂÖçÔºâÔºåËß£ÂÜ≥ÁöÑÊñπÊ°àÊúâ‰∏§ÁßçÔºö</p>
<ul>
<li>ÈíàÂØπ<strong>Âø´ÁÖßËØª</strong>ÔºàÊôÆÈÄö select ËØ≠Âè•ÔºâÔºåÊòØ<strong>ÈÄöËøá MVCC ÊñπÂºèËß£ÂÜ≥‰∫ÜÂπªËØª</strong>ÔºåÂõ†‰∏∫ÂèØÈáçÂ§çËØªÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºå‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÁúãÂà∞ÁöÑÊï∞ÊçÆÔºå‰∏ÄÁõ¥Ë∑üËøô‰∏™‰∫ãÂä°ÂêØÂä®Êó∂ÁúãÂà∞ÁöÑÊï∞ÊçÆÊòØ‰∏ÄËá¥ÁöÑÔºåÂç≥‰Ωø‰∏≠ÈÄîÊúâÂÖ∂‰ªñ‰∫ãÂä°ÊèíÂÖ•‰∫Ü‰∏ÄÊù°Êï∞ÊçÆÔºåÊòØÊü•ËØ¢‰∏çÂá∫Êù•ËøôÊù°Êï∞ÊçÆÁöÑÔºåÊâÄ‰ª•Â∞±ÂæàÂ•Ω‰∫ÜÈÅøÂÖçÂπªËØªÈóÆÈ¢ò„ÄÇ</li>
<li>ÈíàÂØπ<strong>ÂΩìÂâçËØª</strong>Ôºàupdate„ÄÅinsert„ÄÅdelete„ÄÅselect ‚Ä¶ for updateÁ≠âËØ≠Âè•ÔºâÔºåÊòØ<strong>ÈÄöËøá next-key lockÔºàËÆ∞ÂΩïÈîÅ+Èó¥ÈöôÈîÅÔºâÊñπÂºèËß£ÂÜ≥‰∫ÜÂπªËØª</strong>ÔºåÂõ†‰∏∫ÂΩìÊâßË°å select ‚Ä¶ for update ËØ≠Âè•ÁöÑÊó∂ÂÄôÔºå‰ºöÂä†‰∏ä next-key lockÔºåÂ¶ÇÂÖ∂‰ªñ‰∫ãÂä°Âú® next-key lock ÈîÅËåÉÂõ¥ÂÜÖÊèíÂÖ•‰∫Ü‰∏ÄÊù°ËÆ∞ÂΩïÔºåÈÇ£‰πàËøô‰∏™ÊèíÂÖ•ËØ≠Âè•Â∞±‰ºöË¢´ÈòªÂ°ûÔºåÊó†Ê≥ïÊàêÂäüÊèíÂÖ•ÔºåÊâÄ‰ª•Â∞±ÂæàÂ•ΩÈÅøÂÖçÂπªËØªÈóÆÈ¢ò„ÄÇ</li>
</ul>
<h2 id="üåüÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´ÂÖ∑‰ΩìÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢Ôºü"><a href="#üåüÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´ÂÖ∑‰ΩìÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢Ôºü" class="headerlink" title="üåüÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´ÂÖ∑‰ΩìÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢Ôºü"></a>üåüÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´ÂÖ∑‰ΩìÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢Ôºü</h2><p>‰∫ãÂä°ÁöÑÈöîÁ¶ªÊú∫Âà∂‰∏ªË¶ÅÊòØ‰æùÈù†<strong>ÈîÅÊú∫Âà∂</strong>Âíå<strong>MVCC</strong>(Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂)ÂÆûÁé∞ÁöÑÔºåËØªÊèê‰∫§ÂíåÂèØÈáçÂ§çËØªÂèØ‰ª•ÈÄöËøáMVCC&#x2F;ÈîÅÂÆûÁé∞Ôºå‰∏≤Ë°åÂåñÂèØ‰ª•ÈÄöËøáÈîÅÊú∫Âà∂ÂÆûÁé∞„ÄÇ</p>
<ul>
<li><strong>ÂØπ‰∫é„ÄåËØªÊú™Êèê‰∫§„ÄçÈöîÁ¶ªÁ∫ßÂà´</strong>ÔºåÂõ†‰∏∫ÂèØ‰ª•ËØªÂà∞Êú™Êèê‰∫§‰∫ãÂä°‰øÆÊîπÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•Áõ¥Êé•ËØªÂèñÊúÄÊñ∞ÁöÑÊï∞ÊçÆÂ∞±Â•Ω‰∫ÜÔºõ</li>
<li><strong>ÂØπ‰∫é„Äå‰∏≤Ë°åÂåñ„ÄçÈöîÁ¶ªÁ∫ßÂà´ÁöÑ‰∫ãÂä°Êù•ËØ¥</strong>ÔºåÈÄöËøáÂä†ËØªÂÜôÈîÅÁöÑÊñπÂºèÊù•ÈÅøÂÖçÂπ∂Ë°åËÆøÈóÆÔºõ</li>
<li><strong>ÂØπ‰∫é„ÄåËØªÊèê‰∫§„ÄçÂíå„ÄåÂèØÈáçÂ§çËØª„ÄçÈöîÁ¶ªÁ∫ßÂà´</strong></li>
</ul>
<p><code>Âø´ÁÖßËØª</code>ÈÄöËøá<code>MVCCÔºàRead View + undolog + ÈöêËóèÂàóÔºâ</code>Êù•ÂÆûÁé∞ÁöÑÔºå‰∏§ÁßçÈöîÁ¶ªÁ∫ßÂà´ÁöÑÂå∫Âà´Âú®‰∫éÂàõÂª∫ Read View ÁöÑÊó∂Êú∫‰∏çÂêåÔºàÂèØ‰ª•Êää Read View ÁêÜËß£Êàê‰∏Ä‰∏™Êï∞ÊçÆÂø´ÁÖßÔºåÂ∞±ÂÉèÁõ∏Êú∫ÊãçÁÖßÈÇ£Ê†∑ÔºåÂÆöÊ†ºÊüê‰∏ÄÊó∂ÂàªÁöÑÈ£éÊôØ„ÄÇÔºâ</p>
<ul>
<li><strong>„ÄåËØªÊèê‰∫§„Äç</strong>ÈöîÁ¶ªÁ∫ßÂà´ÊòØ<strong>Âú®„ÄåÊØè‰∏™ËØ≠Âè•ÊâßË°åÂâç„ÄçÈÉΩ‰ºöÈáçÊñ∞ÁîüÊàê‰∏Ä‰∏™ Read View</strong>Ôºå‰πüÊÑèÂë≥ÁùÄÔºå‰∫ãÂä°ÊúüÈó¥ÁöÑÂ§öÊ¨°ËØªÂèñÂêå‰∏ÄÊù°Êï∞ÊçÆÔºåÂâçÂêé‰∏§Ê¨°ËØªÁöÑÊï∞ÊçÆÂèØËÉΩ‰ºöÂá∫Áé∞‰∏ç‰∏ÄËá¥ÔºåÂõ†‰∏∫ÂèØËÉΩËøôÊúüÈó¥Âè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°‰øÆÊîπ‰∫ÜËØ•ËÆ∞ÂΩïÔºåÂπ∂Êèê‰∫§‰∫Ü‰∫ãÂä°„ÄÇ</li>
<li><strong>„ÄåÂèØÈáçÂ§çËØª„Äç</strong>ÈöîÁ¶ªÁ∫ßÂà´ÊòØ<strong>Âú®„ÄåÂêØÂä®‰∫ãÂä°Êó∂„ÄçÁîüÊàê‰∏Ä‰∏™ Read View</strong>ÔºåÁÑ∂ÂêéÊï¥‰∏™‰∫ãÂä°ÊúüÈó¥ÈÉΩÂú®Áî®Ëøô‰∏™ Read ViewÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÂú®‰∫ãÂä°ÊúüÈó¥ËØªÂà∞ÁöÑÊï∞ÊçÆÈÉΩÊòØ‰∫ãÂä°ÂêØÂä®ÂâçÁöÑËÆ∞ÂΩï„ÄÇ</li>
<li>Ëøô‰∏§‰∏™ÈöîÁ¶ªÁ∫ßÂà´ÂÆûÁé∞ÊòØÈÄöËøá„Äå‰∫ãÂä°ÁöÑ Read View ÈáåÁöÑÂ≠óÊÆµ„ÄçÂíå„ÄåËÆ∞ÂΩï‰∏≠ÁöÑ‰∏§‰∏™ÈöêËóèÂàó„ÄçÁöÑÊØîÂØπÔºåÊù•ÊéßÂà∂Âπ∂Âèë‰∫ãÂä°ËÆøÈóÆÂêå‰∏Ä‰∏™ËÆ∞ÂΩïÊó∂ÁöÑË°å‰∏∫ÔºåËøôÂ∞±Âè´ MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ„ÄÇ</li>
</ul>
<p><code>ÂΩìÂâçËØª</code>ÈÄöËøá<code>Âä†ÈîÅ</code>Êù•ÂÆûÁé∞ÁöÑÔºå‰πüÂ∞±ÊòØÊØèÊ¨°ËØªÈÉΩÊòØÊãøÂà∞ÊúÄÊñ∞ÁâàÊú¨ÁöÑÊï∞ÊçÆÔºå‰ΩÜÊòØÂÆÉ‰ºöÂØπËØªÂà∞ÁöÑËÆ∞ÂΩïÂä†‰∏ä next-key lock ÈîÅ„ÄÇ</p>
<h2 id="üåüÁÆÄËø∞-MVCC-ÁöÑÂÆûÁé∞ÂéüÁêÜ"><a href="#üåüÁÆÄËø∞-MVCC-ÁöÑÂÆûÁé∞ÂéüÁêÜ" class="headerlink" title="üåüÁÆÄËø∞ MVCC ÁöÑÂÆûÁé∞ÂéüÁêÜ"></a>üåüÁÆÄËø∞ MVCC ÁöÑÂÆûÁé∞ÂéüÁêÜ</h2><p><strong>MVCC</strong> ÊòØÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂ÊñπÊ≥ïÔºåÂç≥ÂØπ‰∏Ä‰ªΩÊï∞ÊçÆ‰ºöÂ≠òÂÇ®Â§ö‰∏™ÁâàÊú¨ÔºåÈÄöËøá‰∫ãÂä°ÁöÑÂèØËßÅÊÄßÊù•‰øùËØÅ‰∫ãÂä°ËÉΩÁúãÂà∞Ëá™Â∑±Â∫îËØ•ÁúãÂà∞ÁöÑÁâàÊú¨„ÄÇÈÄöÂ∏∏‰ºöÊúâ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÁâàÊú¨ÂàÜÈÖçÂô®Êù•‰∏∫ÊØè‰∏ÄË°åÊï∞ÊçÆËÆæÁΩÆÁâàÊú¨Âè∑ÔºåÁâàÊú¨Âè∑ÊòØÂîØ‰∏ÄÁöÑ„ÄÇ</p>
<p>Âú®ËØªÊèê‰∫§ÂíåÂèØÈáçÂ§çËØªÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂø´ÁÖßËØªÊòØÈÄöËøá<code>MVCCÔºàRead View + undolog + ÈöêËóèÂàóÔºâ</code>Êù•ÂÆûÁé∞ÁöÑ</p>
<p>ÈÄöËøá**‰∫ãÂä°ÁöÑ Read View Â≠óÊÆµÂíåËÆ∞ÂΩï‰∏≠ÁöÑ‰∏§‰∏™ÈöêËóèÂàó(trx_id Âíå roll_pointer)**ÁöÑÊØîÂØπÔºåÂ¶ÇÊûú‰∏çÊª°Ë∂≥ÂèØËßÅË°åÔºåÂ∞±‰ºöÈ°∫ÁùÄ undo log ÁâàÊú¨ÈìæÈáåÊâæÂà∞Êª°Ë∂≥ÂÖ∂ÂèØËßÅÊÄßÁöÑËÆ∞ÂΩïÔºå‰ªéËÄåÊéßÂà∂Âπ∂Âèë‰∫ãÂä°ËÆøÈóÆÂêå‰∏Ä‰∏™ËÆ∞ÂΩïÊó∂ÁöÑË°å‰∏∫„ÄÇ</p>
<hr>
<p>MVCC Âú® MySQL ‰∏≠ÂÆûÁé∞ÊâÄ‰æùËµñÁöÑÊâãÊÆµ‰∏ªË¶ÅÊòØ: **Read View „ÄÅÈöêËóèÂàó„ÄÅundo log **„ÄÇ</p>
<ul>
<li>undo log : undo log Áî®‰∫éËÆ∞ÂΩïÊüêË°åÊï∞ÊçÆÁöÑÂ§ö‰∏™ÁâàÊú¨ÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li>Read View  Âíå ÈöêËóèÂàó : Áî®Êù•Âà§Êñ≠ÂΩìÂâçÁâàÊú¨Êï∞ÊçÆÁöÑÂèØËßÅÊÄß„ÄÇ</li>
</ul>
<p>Read View ÊúâÂõõ‰∏™ÈáçË¶ÅÁöÑÂ≠óÊÆµÔºö</p>
<ul>
<li>m_ids ÔºöÊåáÁöÑÊòØÂú®ÂàõÂª∫ Read View Êó∂ÔºåÂΩìÂâçÊï∞ÊçÆÂ∫ì‰∏≠„ÄåÊ¥ªË∑É‰∫ãÂä°„ÄçÁöÑ<strong>‰∫ãÂä° id ÂàóË°®</strong>ÔºåÊ≥®ÊÑèÊòØ‰∏Ä‰∏™ÂàóË°®Ôºå<strong>‚ÄúÊ¥ªË∑É‰∫ãÂä°‚ÄùÊåáÁöÑÂ∞±ÊòØÔºåÂêØÂä®‰∫Ü‰ΩÜËøòÊ≤°Êèê‰∫§ÁöÑ‰∫ãÂä°</strong>„ÄÇ</li>
<li>min_trx_id ÔºöÊåáÁöÑÊòØÂú®ÂàõÂª∫ Read View Êó∂ÔºåÂΩìÂâçÊï∞ÊçÆÂ∫ì‰∏≠„ÄåÊ¥ªË∑É‰∫ãÂä°„Äç‰∏≠‰∫ãÂä° <strong>id ÊúÄÂ∞èÁöÑ‰∫ãÂä°</strong>Ôºå‰πüÂ∞±ÊòØ m_ids ÁöÑÊúÄÂ∞èÂÄº„ÄÇ</li>
<li>max_trx_id ÔºöËøô‰∏™Âπ∂‰∏çÊòØ m_ids ÁöÑÊúÄÂ§ßÂÄºÔºåËÄåÊòØ<strong>ÂàõÂª∫ Read View Êó∂ÂΩìÂâçÊï∞ÊçÆÂ∫ì‰∏≠Â∫îËØ•Áªô‰∏ã‰∏Ä‰∏™‰∫ãÂä°ÁöÑ id ÂÄº</strong>Ôºå‰πüÂ∞±ÊòØÂÖ®Â±Ä‰∫ãÂä°‰∏≠ÊúÄÂ§ßÁöÑ‰∫ãÂä° id ÂÄº + 1Ôºõ</li>
<li>creator_trx_id ÔºöÊåáÁöÑÊòØ<strong>ÂàõÂª∫ËØ• Read View ÁöÑ‰∫ãÂä°ÁöÑ‰∫ãÂä° id</strong>„ÄÇ</li>
</ul>
<table>
<thead>
<tr>
<th align="center"><img src="https://img.jwt1399.top/img/202308061458247.png" style="zoom: 33%;" /></th>
<th><img src="https://img.jwt1399.top/img/202308061458304.png" style="zoom:50%;" /></th>
</tr>
</thead>
</table>
<p>ËÅöÁ∞áÁ¥¢ÂºïËÆ∞ÂΩï‰∏≠ÁöÑ‰∏§‰∏™ÈöêËóèÂàóÔºö</p>
<ul>
<li>trx_idÔºåÂΩì‰∏Ä‰∏™‰∫ãÂä°ÂØπÊüêÊù°ËÅöÁ∞áÁ¥¢ÂºïËÆ∞ÂΩïËøõË°åÊîπÂä®Êó∂ÔºåÂ∞±‰ºö<strong>ÊääËØ•‰∫ãÂä°ÁöÑ‰∫ãÂä° id ËÆ∞ÂΩïÂú® trx_id ÈöêËóèÂàóÈáå</strong>Ôºõ</li>
<li>roll_pointerÔºåÊØèÊ¨°ÂØπÊüêÊù°ËÅöÁ∞áÁ¥¢ÂºïËÆ∞ÂΩïËøõË°åÊîπÂä®Êó∂ÔºåÈÉΩ‰ºöÊääÊóßÁâàÊú¨ÁöÑËÆ∞ÂΩïÂÜôÂÖ•Âà∞ undo Êó•Âøó‰∏≠ÔºåÁÑ∂Âêé<strong>Ëøô‰∏™ÈöêËóèÂàóÊòØ‰∏™ÊåáÈíàÔºåÊåáÂêëÊØè‰∏Ä‰∏™ÊóßÁâàÊú¨ËÆ∞ÂΩï</strong>Ôºå‰∫éÊòØÂ∞±ÂèØ‰ª•ÈÄöËøáÂÆÉÊâæÂà∞‰øÆÊîπÂâçÁöÑËÆ∞ÂΩï„ÄÇ</li>
</ul>
<img src="https://img.jwt1399.top/img/202308061458716.png" style="zoom:50%;" />

<p>ÈöîÁ¶ªÁ∫ßÂà´ÂÆûÁé∞ÊòØÈÄöËøá„Äå‰∫ãÂä°ÁöÑ Read View ÈáåÁöÑÂ≠óÊÆµ„ÄçÂíå„ÄåËÆ∞ÂΩï‰∏≠ÁöÑ‰∏§‰∏™ÈöêËóèÂàó„ÄçÁöÑÊØîÂØπÔºåÊù•ÊéßÂà∂Âπ∂Âèë‰∫ãÂä°ËÆøÈóÆÂêå‰∏Ä‰∏™ËÆ∞ÂΩïÊó∂ÁöÑË°å‰∏∫ÔºåËøôÂ∞±Âè´ MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ„ÄÇ</p>
<h2 id="üåüÂàÜÂ∏ÉÂºè‰∫ãÂä°"><a href="#üåüÂàÜÂ∏ÉÂºè‰∫ãÂä°" class="headerlink" title="üåüÂàÜÂ∏ÉÂºè‰∫ãÂä°"></a>üåüÂàÜÂ∏ÉÂºè‰∫ãÂä°</h2><p> ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰ºöÊää‰∏Ä‰∏™Â∫îÁî®Á≥ªÁªüÊãÜÂàÜ‰∏∫Â§ö‰∏™ÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊúçÂä°ÔºåÂõ†Ê≠§ÈúÄË¶ÅÊúçÂä°‰∏éÊúçÂä°‰πãÈó¥ËøúÁ®ãÂçè‰ΩúÊâçËÉΩÂÆåÊàê‰∫ãÂä°Êìç‰ΩúÔºåËøôÁßç<strong>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁéØÂ¢É‰∏ãÁî±‰∏çÂêåÁöÑÊúçÂä°‰πãÈó¥ÈÄöËøáÁΩëÁªúËøúÁ®ãÂçè‰ΩúÂÆåÊàê‰∫ãÂä°Áß∞‰πã‰∏∫ÂàÜÂ∏ÉÂºè‰∫ãÂä°</strong>Ôºå‰æãÂ¶ÇÁî®Êà∑Ê≥®ÂÜåÈÄÅÁßØÂàÜ‰∫ãÂä°„ÄÅÂàõÂª∫ËÆ¢ÂçïÂáèÂ∫ìÂ≠ò‰∫ãÂä°ÔºåÈì∂Ë°åËΩ¨Ë¥¶‰∫ãÂä°Á≠âÈÉΩÊòØÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇ</p>
<p><strong>CAPÁêÜËÆ∫</strong></p>
<ul>
<li><strong>‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâ</strong> : ÊâÄÊúâËäÇÁÇπËÆøÈóÆÂêå‰∏Ä‰ªΩÊúÄÊñ∞ÁöÑÊï∞ÊçÆÂâØÊú¨</li>
<li><strong>ÂèØÁî®ÊÄßÔºàAvailabilityÔºâ</strong>: ÈùûÊïÖÈöúÁöÑËäÇÁÇπÂú®ÂêàÁêÜÁöÑÊó∂Èó¥ÂÜÖËøîÂõûÂêàÁêÜÁöÑÂìçÂ∫îÔºà‰∏çÊòØÈîôËØØÊàñËÄÖË∂ÖÊó∂ÁöÑÂìçÂ∫îÔºâ„ÄÇ</li>
<li><strong>ÂàÜÂå∫ÂÆπÈîôÊÄßÔºàPartition ToleranceÔºâ</strong> : ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂá∫Áé∞ÁΩëÁªúÂàÜÂå∫ÁöÑÊó∂ÂÄôÔºå‰ªçÁÑ∂ËÉΩÂ§üÂØπÂ§ñÊèê‰æõÊúçÂä°„ÄÇ</li>
</ul>
<p>Â¶ÇÊûúÁ≥ªÁªüÊ≤°ÊúâÂèëÁîü‚ÄúÂàÜÂå∫‚ÄùÔºåËäÇÁÇπÈó¥ÁöÑÁΩëÁªúËøûÊé•ÈÄö‰ø°Ê≠£Â∏∏Ôºå‰πüÂ∞±‰∏çÂ≠òÂú® P ‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôÔºåÂèØ‰ª•ÂêåÊó∂‰øùËØÅ C Âíå A ‰∫Ü„ÄÇÂ¶ÇÊûúÁ≥ªÁªüÂèëÁîü‚ÄúÂàÜÂå∫‚ÄùÔºåË¶ÅËÄÉËôëÈÄâÊã© CP ËøòÊòØ AP„ÄÇ</p>
<p>CAP ÁêÜËÆ∫‰∏≠ÂàÜÂå∫ÂÆπÈîôÊÄß P ÊòØ‰∏ÄÂÆöË¶ÅÊª°Ë∂≥ÁöÑÔºåÂú®Ê≠§Âü∫Á°Ä‰∏äÔºåÂè™ËÉΩÊª°Ë∂≥ÂèØÁî®ÊÄß A ÊàñËÄÖ‰∏ÄËá¥ÊÄß C„ÄÇ</p>
<p>Âõ†Ê≠§Ôºå<strong>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁêÜËÆ∫‰∏ä‰∏çÂèØËÉΩÈÄâÊã© CA Êû∂ÊûÑÔºåÂè™ËÉΩÈÄâÊã© CP ÊàñËÄÖ AP Êû∂ÊûÑ„ÄÇ</strong> ÊØîÂ¶Ç ZooKeeper„ÄÅHBase Â∞±ÊòØ CP Êû∂ÊûÑÔºåCassandra„ÄÅEureka Â∞±ÊòØ AP Êû∂ÊûÑÔºåNacos ‰∏ç‰ªÖÊîØÊåÅ CP Êû∂ÊûÑ‰πüÊîØÊåÅ AP Êû∂ÊûÑ„ÄÇ</p>
<p><strong>‰∏∫Âï•‰∏çÂèØËÉΩÈÄâÊã© CA Êû∂ÊûÑÂë¢Ôºü</strong> ‰∏æ‰∏™‰æãÂ≠êÔºöËã•Á≥ªÁªüÂá∫Áé∞‚ÄúÂàÜÂå∫‚ÄùÔºåÁ≥ªÁªü‰∏≠ÁöÑÊüê‰∏™ËäÇÁÇπÂú®ËøõË°åÂÜôÊìç‰Ωú„ÄÇ‰∏∫‰∫Ü‰øùËØÅ CÔºå ÂøÖÈ°ªË¶ÅÁ¶ÅÊ≠¢ÂÖ∂‰ªñËäÇÁÇπÁöÑËØªÂÜôÊìç‰ΩúÔºåËøôÂ∞±Âíå A ÂèëÁîüÂÜ≤Á™Å‰∫Ü„ÄÇÂ¶ÇÊûú‰∏∫‰∫Ü‰øùËØÅ AÔºåÂÖ∂‰ªñËäÇÁÇπÁöÑËØªÂÜôÊìç‰ΩúÊ≠£Â∏∏ÁöÑËØùÔºåÈÇ£Â∞±Âíå C ÂèëÁîüÂÜ≤Á™Å‰∫Ü„ÄÇ</p>
<p><strong>BASEÁêÜËÆ∫</strong></p>
<p>‰πüÂ∞±ÊòØÁâ∫Áâ≤Êï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÊù•Êª°Ë∂≥Á≥ªÁªüÁöÑÈ´òÂèØÁî®ÊÄßÔºåÁ≥ªÁªü‰∏≠‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆ‰∏çÂèØÁî®ÊàñËÄÖ‰∏ç‰∏ÄËá¥Êó∂Ôºå‰ªçÈúÄË¶Å‰øùÊåÅÁ≥ªÁªüÊï¥‰Ωì‚Äú‰∏ªË¶ÅÂèØÁî®‚Äù„ÄÇ</p>
<ul>
<li><strong>Basically AvailableÔºàÂü∫Êú¨ÂèØÁî®Ôºâ</strong> ÔºöÊåáÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂú®Âá∫Áé∞‰∏çÂèØÈ¢ÑÁü•ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÂÖÅËÆ∏ÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄß„ÄÇ<ul>
<li><strong>ÂìçÂ∫îÊó∂Èó¥‰∏äÁöÑÊçüÂ§±</strong>: Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ§ÑÁêÜÁî®Êà∑ËØ∑Ê±ÇÈúÄË¶Å 0.5s ËøîÂõûÁªìÊûúÔºå‰ΩÜÊòØÁî±‰∫éÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöúÔºåÂ§ÑÁêÜÁî®Êà∑ËØ∑Ê±ÇÁöÑÊó∂Èó¥Âèò‰∏∫ 3 s„ÄÇ</li>
<li><strong>Á≥ªÁªüÂäüËÉΩ‰∏äÁöÑÊçüÂ§±</strong>ÔºöÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÁî®Êà∑ÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüÁöÑÂÖ®ÈÉ®ÂäüËÉΩÔºå‰ΩÜÊòØÁî±‰∫éÁ≥ªÁªüËÆøÈóÆÈáèÁ™ÅÁÑ∂ÂâßÂ¢ûÔºåÁ≥ªÁªüÁöÑÈÉ®ÂàÜÈùûÊ†∏ÂøÉÂäüËÉΩÊó†Ê≥ï‰ΩøÁî®„ÄÇ</li>
</ul>
</li>
<li><strong>Soft-stateÔºàËΩØÁä∂ÊÄÅÔºâ</strong> ÔºöÊåáÂÖÅËÆ∏Á≥ªÁªü‰∏≠ÁöÑÊï∞ÊçÆÂ≠òÂú®‰∏≠Èó¥Áä∂ÊÄÅÔºà<strong>CAP ÁêÜËÆ∫‰∏≠ÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥</strong>ÔºâÔºåÂπ∂ËÆ§‰∏∫ËØ•‰∏≠Èó¥Áä∂ÊÄÅÁöÑÂ≠òÂú®‰∏ç‰ºöÂΩ±ÂìçÁ≥ªÁªüÁöÑÊï¥‰ΩìÂèØÁî®ÊÄß„ÄÇ</li>
<li><strong>Eventually ConsistentÔºàÊúÄÁªà‰∏ÄËá¥ÊÄßÔºâ</strong> ÔºöÊúÄÁªà‰∏ÄËá¥ÊÄßÂº∫Ë∞ÉÁöÑÊòØÁ≥ªÁªü‰∏≠ÊâÄÊúâÁöÑÊï∞ÊçÆÂâØÊú¨ÔºåÂú®ÁªèËøá‰∏ÄÊÆµÊó∂Èó¥ÁöÑÂêåÊ≠•ÂêéÔºåÊúÄÁªàËÉΩÂ§üËææÂà∞‰∏Ä‰∏™‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
</ul>
<p>BASE ÁêÜËÆ∫ÊòØÂØπ CAP ‰∏≠‰∏ÄËá¥ÊÄß C ÂíåÂèØÁî®ÊÄß A ÊùÉË°°ÁöÑÁªìÊûúÔºåÂÖ∂Êù•Ê∫ê‰∫éÂØπÂ§ßËßÑÊ®°‰∫íËÅîÁΩëÁ≥ªÁªüÂàÜÂ∏ÉÂºèÂÆûË∑µÁöÑÊÄªÁªìÔºåÊòØÂü∫‰∫é CAP ÂÆöÁêÜÈÄêÊ≠•ÊºîÂåñËÄåÊù•ÁöÑÔºåÂÆÉÂ§ßÂ§ßÈôç‰Ωé‰∫ÜÊàë‰ª¨ÂØπÁ≥ªÁªüÁöÑË¶ÅÊ±Ç„ÄÇ</p>
<p><strong>BASE ÁêÜËÆ∫Êú¨Ë¥®‰∏äÊòØÂØπ CAP ÁöÑÂª∂‰º∏ÂíåË°•ÂÖÖÔºåÊõ¥ÂÖ∑‰ΩìÂú∞ËØ¥ÔºåÊòØÂØπ CAP ‰∏≠ AP ÊñπÊ°àÁöÑ‰∏Ä‰∏™Ë°•ÂÖÖ„ÄÇ</strong></p>
<p>AP ÊñπÊ°àÂè™ÊòØÂú®Á≥ªÁªüÂèëÁîüÂàÜÂå∫ÁöÑÊó∂ÂÄôÊîæÂºÉ‰∏ÄËá¥ÊÄßÔºåËÄå‰∏çÊòØÊ∞∏ËøúÊîæÂºÉ‰∏ÄËá¥ÊÄß„ÄÇÂú®ÂàÜÂå∫ÊïÖÈöúÊÅ¢Â§çÂêéÔºåÁ≥ªÁªüÂ∫îËØ•ËææÂà∞ÊúÄÁªà‰∏ÄËá¥ÊÄß„ÄÇËøô‰∏ÄÁÇπÂÖ∂ÂÆûÂ∞±ÊòØ BASE ÁêÜËÆ∫Âª∂‰º∏ÁöÑÂú∞Êñπ„ÄÇ</p>
<p>ÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÁöÑ 3 ÁßçÁ∫ßÂà´Ôºö</p>
<ol>
<li><strong>Âº∫‰∏ÄËá¥ÊÄß</strong> ÔºöÁ≥ªÁªüÂÜôÂÖ•‰∫Ü‰ªÄ‰πàÔºåËØªÂá∫Êù•ÁöÑÂ∞±ÊòØ‰ªÄ‰πà„ÄÇ</li>
<li><strong>Âº±‰∏ÄËá¥ÊÄß</strong> Ôºö‰∏ç‰∏ÄÂÆöÂèØ‰ª•ËØªÂèñÂà∞ÊúÄÊñ∞ÂÜôÂÖ•ÁöÑÂÄºÔºå‰πü‰∏ç‰øùËØÅÂ§öÂ∞ëÊó∂Èó¥‰πãÂêéËØªÂèñÂà∞ÁöÑÊï∞ÊçÆÊòØÊúÄÊñ∞ÁöÑÔºåÂè™ÊòØ‰ºöÂ∞ΩÈáè‰øùËØÅÊüê‰∏™Êó∂ÂàªËææÂà∞Êï∞ÊçÆ‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
<li><strong>ÊúÄÁªà‰∏ÄËá¥ÊÄß</strong> ÔºöÂº±‰∏ÄËá¥ÊÄßÁöÑÂçáÁ∫ßÁâàÔºåÁ≥ªÁªü‰ºö‰øùËØÅÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖËææÂà∞Êï∞ÊçÆ‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
</ol>
<p><strong>‰∏öÁïåÊØîËæÉÊé®Â¥áÊòØÊúÄÁªà‰∏ÄËá¥ÊÄßÁ∫ßÂà´Ôºå‰ΩÜÊòØÊüê‰∫õÂØπÊï∞ÊçÆ‰∏ÄËá¥Ë¶ÅÊ±ÇÂçÅÂàÜ‰∏•Ê†ºÁöÑÂú∫ÊôØÊØîÂ¶ÇÈì∂Ë°åËΩ¨Ë¥¶ËøòÊòØË¶Å‰øùËØÅÂº∫‰∏ÄËá¥ÊÄß„ÄÇ</strong></p>
<p>ÈÇ£ÂÆûÁé∞ÊúÄÁªà‰∏ÄËá¥ÊÄßÁöÑÂÖ∑‰ΩìÊñπÂºèÊòØ‰ªÄ‰πàÂë¢? </p>
<ul>
<li><p><strong>ËØªÊó∂‰øÆÂ§ç</strong> : Âú®ËØªÂèñÊï∞ÊçÆÊó∂ÔºåÊ£ÄÊµãÊï∞ÊçÆÁöÑ‰∏ç‰∏ÄËá¥ÔºåËøõË°å‰øÆÂ§ç„ÄÇÔºàÊé®ËçêÔºåÊÄßËÉΩÊ∂àËÄóÊØîËæÉ‰ΩéÔºâ</p>
</li>
<li><p><strong>ÂÜôÊó∂‰øÆÂ§ç</strong> : Âú®ÂÜôÂÖ•Êï∞ÊçÆÔºåÊ£ÄÊµãÊï∞ÊçÆÁöÑ‰∏ç‰∏ÄËá¥Êó∂ÔºåËøõË°å‰øÆÂ§ç„ÄÇ</p>
</li>
<li><p><strong>ÂºÇÊ≠•‰øÆÂ§ç</strong> : Ëøô‰∏™ÊòØÊúÄÂ∏∏Áî®ÁöÑÊñπÂºèÔºåÈÄöËøáÂÆöÊó∂Ê£ÄÊµãÂâØÊú¨Êï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÂπ∂‰øÆÂ§ç„ÄÇ</p>
</li>
</ul>
<p><strong>ACID ÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°ÂÆåÊï¥ÊÄßÁöÑÁêÜËÆ∫ÔºåCAP ÊòØÂàÜÂ∏ÉÂºèÁ≥ªÁªüËÆæËÆ°ÁêÜËÆ∫ÔºåBASE ÊòØ CAP ÁêÜËÆ∫‰∏≠ AP ÊñπÊ°àÁöÑÂª∂‰º∏„ÄÇ</strong></p>
<h1 id="‚ë£ÈîÅ"><a href="#‚ë£ÈîÅ" class="headerlink" title="‚ë£ÈîÅ"></a>‚ë£ÈîÅ</h1><h2 id="üåüË°®Á∫ßÈîÅÂíåË°åÁ∫ßÈîÅ‰∫ÜËß£ÂêóÔºüÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"><a href="#üåüË°®Á∫ßÈîÅÂíåË°åÁ∫ßÈîÅ‰∫ÜËß£ÂêóÔºüÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü" class="headerlink" title="üåüË°®Á∫ßÈîÅÂíåË°åÁ∫ßÈîÅ‰∫ÜËß£ÂêóÔºüÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"></a>üåüË°®Á∫ßÈîÅÂíåË°åÁ∫ßÈîÅ‰∫ÜËß£ÂêóÔºüÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü</h2><ul>
<li>MyISAM ‰ªÖ‰ªÖÊîØÊåÅË°®Á∫ßÈîÅÔºå‰∏ÄÈîÅÂ∞±ÈîÅÊï¥Âº†Ë°®ÔºåËøôÂú®Âπ∂ÂèëÂÜôÁöÑÊÉÖÂÜµ‰∏ãÊÄßÈùûÂ∏∏Â∑Æ„ÄÇ</li>
<li>InnoDB ‰∏çÂÖâÊîØÊåÅË°®Á∫ßÈîÅÔºåËøòÊîØÊåÅË°åÁ∫ßÈîÅÔºåÈªòËÆ§‰∏∫Ë°åÁ∫ßÈîÅ„ÄÇ</li>
</ul>
<p><strong>Ë°®Á∫ßÈîÅÂíåË°åÁ∫ßÈîÅÂØπÊØî</strong> Ôºö</p>
<ul>
<li><strong>Ë°®Á∫ßÈîÅÔºö</strong> MySQL ‰∏≠ÈîÅÂÆöÁ≤íÂ∫¶ÊúÄÂ§ßÁöÑ‰∏ÄÁßçÈîÅÔºàÂÖ®Â±ÄÈîÅÈô§Â§ñÔºâÔºåÊòØÈíàÂØπ<strong>ÈùûÁ¥¢ÂºïÂ≠óÊÆµÂä†ÁöÑÈîÅ</strong>ÔºåÂØπÂΩìÂâçÊìç‰ΩúÁöÑÊï¥Âº†Ë°®Âä†ÈîÅÔºåÂÆûÁé∞ÁÆÄÂçïÔºåËµÑÊ∫êÊ∂àËÄó‰πüÊØîËæÉÂ∞ëÔºåÂä†ÈîÅÂø´Ôºå‰∏ç‰ºöÂá∫Áé∞Ê≠ªÈîÅ„ÄÇ‰∏çËøáÔºåËß¶ÂèëÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄÈ´òÔºåÈ´òÂπ∂Âèë‰∏ãÊïàÁéáÊûÅ‰Ωé„ÄÇË°®Á∫ßÈîÅÂíåÂ≠òÂÇ®ÂºïÊìéÊó†ÂÖ≥ÔºåMyISAM Âíå InnoDB ÂºïÊìéÈÉΩÊîØÊåÅË°®Á∫ßÈîÅ„ÄÇ</li>
<li><strong>Ë°åÁ∫ßÈîÅÔºö</strong> MySQL ‰∏≠ÈîÅÂÆöÁ≤íÂ∫¶ÊúÄÂ∞èÁöÑ‰∏ÄÁßçÈîÅÔºåÊòØ <strong>ÈíàÂØπÁ¥¢ÂºïÂ≠óÊÆµÂä†ÁöÑÈîÅ</strong> ÔºåÂè™ÈíàÂØπÂΩìÂâçÊìç‰ΩúÁöÑË°åËÆ∞ÂΩïËøõË°åÂä†ÈîÅ„ÄÇ Ë°åÁ∫ßÈîÅËÉΩÂ§ßÂ§ßÂáèÂ∞ëÊï∞ÊçÆÂ∫ìÊìç‰ΩúÁöÑÂÜ≤Á™Å„ÄÇÂÖ∂Âä†ÈîÅÁ≤íÂ∫¶ÊúÄÂ∞èÔºåÂπ∂ÂèëÂ∫¶È´òÔºå‰ΩÜÂä†ÈîÅÁöÑÂºÄÈîÄ‰πüÊúÄÂ§ßÔºåÂä†ÈîÅÊÖ¢Ôºå‰ºöÂá∫Áé∞Ê≠ªÈîÅ„ÄÇË°åÁ∫ßÈîÅÂíåÂ≠òÂÇ®ÂºïÊìéÊúâÂÖ≥ÔºåÊòØÂú®Â≠òÂÇ®ÂºïÊìéÂ±ÇÈù¢ÂÆûÁé∞ÁöÑ„ÄÇ</li>
</ul>
<h2 id="üåüË°åÁ∫ßÈîÅÁöÑ‰ΩøÁî®Êúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°πÔºü"><a href="#üåüË°åÁ∫ßÈîÅÁöÑ‰ΩøÁî®Êúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°πÔºü" class="headerlink" title="üåüË°åÁ∫ßÈîÅÁöÑ‰ΩøÁî®Êúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°πÔºü"></a>üåüË°åÁ∫ßÈîÅÁöÑ‰ΩøÁî®Êúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°πÔºü</h2><p>InnoDB ÁöÑË°åÈîÅÊòØÈíàÂØπÁ¥¢ÂºïÂ≠óÊÆµÂä†ÁöÑÈîÅÔºåË°®Á∫ßÈîÅÊòØÈíàÂØπÈùûÁ¥¢ÂºïÂ≠óÊÆµÂä†ÁöÑÈîÅ„ÄÇÂΩìÊàë‰ª¨ÊâßË°å <code>UPDATE</code>„ÄÅ<code>DELETE</code> ËØ≠Âè•Êó∂ÔºåÂ¶ÇÊûú <code>WHERE</code>Êù°‰ª∂‰∏≠Â≠óÊÆµÊ≤°ÊúâÂëΩ‰∏≠ÂîØ‰∏ÄÁ¥¢ÂºïÊàñËÄÖÁ¥¢ÂºïÂ§±ÊïàÁöÑËØùÔºåÂ∞±‰ºöÂØºËá¥Êâ´ÊèèÂÖ®Ë°®ÂØπË°®‰∏≠ÁöÑÊâÄÊúâË°åËÆ∞ÂΩïËøõË°åÂä†‰∏ä next-key ÈîÅÔºàËÆ∞ÂΩïÈîÅ + Èó¥ÈöôÈîÅÔºâÔºåÁõ∏ÂΩì‰∫éÊääÊï¥‰∏™Ë°®ÈîÅ‰Ωè‰∫Ü„ÄÇ</p>
<p><strong>ÈÇ£ update ËØ≠Âè•ÁöÑ where Â∏¶‰∏äÁ¥¢ÂºïÂ∞±ËÉΩÈÅøÂÖçÂÖ®Ë°®ËÆ∞ÂΩïÂä†ÈîÅ‰∫ÜÂêóÔºü</strong></p>
<p>Âπ∂‰∏çÊòØ„ÄÇÂÖ≥ÈîÆËøòÂæóÁúãËøôÊù°ËØ≠Âè•Âú®ÊâßË°åËøáÁ®ã‰∏≠Ôºå‰ºòÂåñÂô®ÊúÄÁªàÈÄâÊã©ÁöÑÊòØÁ¥¢ÂºïÊâ´ÊèèÔºåËøòÊòØÂÖ®Ë°®Êâ´ÊèèÔºåÂ¶ÇÊûúËµ∞‰∫ÜÂÖ®Ë°®Êâ´ÊèèÔºåÂ∞±‰ºöÂØπÂÖ®Ë°®ÁöÑËÆ∞ÂΩïÂä†ÈîÅ‰∫Ü„ÄÇ</p>
<p><strong>Ëß£ÂÜ≥ÂäûÊ≥ï</strong></p>
<p>ÂΩìÊàë‰ª¨Ë¶ÅÊâßË°å update ËØ≠Âè•ÁöÑÊó∂ÂÄôÔºåÁ°Æ‰øù where Êù°‰ª∂‰∏≠Â∏¶‰∏ä‰∫ÜÁ¥¢ÂºïÂàóÔºåÂπ∂‰∏îÂú®ÊµãËØïÊú∫Á°ÆËÆ§ËØ•ËØ≠Âè•ÊòØÂê¶Ëµ∞ÁöÑÊòØÁ¥¢ÂºïÊâ´ÊèèÔºåÈò≤Ê≠¢Âõ†‰∏∫Êâ´ÊèèÂÖ®Ë°®ÔºåËÄåÂØπË°®‰∏≠ÁöÑÊâÄÊúâËÆ∞ÂΩïÂä†‰∏äÈîÅ„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•ÊâìÂºÄ MySQL <code>sql_safe_updates</code> ÂèÇÊï∞ÔºåËøôÊ†∑ÂèØ‰ª•È¢ÑÈò≤ update Êìç‰ΩúÊó∂ where Êù°‰ª∂Ê≤°ÊúâÂ∏¶‰∏äÁ¥¢ÂºïÂàó„ÄÇ</p>
<p>Â¶ÇÊûúÂèëÁé∞Âç≥‰ΩøÂú® where Êù°‰ª∂‰∏≠Â∏¶‰∏ä‰∫ÜÂàóÁ¥¢ÂºïÂàóÔºå‰ºòÂåñÂô®Ëµ∞ÁöÑËøòÊòØÂÖ®Ë°®Êâ´ÊèèÔºåËøôÊó∂Êàë‰ª¨Â∞±Ë¶Å‰ΩøÁî® <code>force index([index_name])</code> ÂèØ‰ª•ÂëäËØâ‰ºòÂåñÂô®‰ΩøÁî®Âì™‰∏™Á¥¢Âºï„ÄÇ</p>
<h2 id="üåüselect-‚Ä¶-for-updateÂä†‰ªÄ‰πàÈîÅ"><a href="#üåüselect-‚Ä¶-for-updateÂä†‰ªÄ‰πàÈîÅ" class="headerlink" title="üåüselect ‚Ä¶ for updateÂä†‰ªÄ‰πàÈîÅ"></a>üåüselect ‚Ä¶ for updateÂä†‰ªÄ‰πàÈîÅ</h2><p>Â¶ÇÊûú <code>WHERE</code>Êù°‰ª∂‰∏≠Â≠óÊÆµÂëΩ‰∏≠ÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂç≥ÂΩìÊü•ËØ¢Áî®Âà∞Á¥¢ÂºïÊó∂ÊòØË°åÈîÅ</p>
<p>Â¶ÇÊûú <code>WHERE</code>Êù°‰ª∂‰∏≠Â≠óÊÆµÊ≤°ÊúâÂëΩ‰∏≠ÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂç≥ÂΩìÊü•ËØ¢Ê≤°Áî®Âà∞Á¥¢ÂºïÊó∂ÊòØË°®ÈîÅ</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32565537/article/details/126439743">select ‚Ä¶ for updateÂ≠¶‰π†</a></p>
<h2 id="üåüInnoDB-ÊúâÂì™Âá†Á±ªË°åÈîÅÔºü"><a href="#üåüInnoDB-ÊúâÂì™Âá†Á±ªË°åÈîÅÔºü" class="headerlink" title="üåüInnoDB ÊúâÂì™Âá†Á±ªË°åÈîÅÔºü"></a>üåüInnoDB ÊúâÂì™Âá†Á±ªË°åÈîÅÔºü</h2><p>InnoDB Ë°åÈîÅÊòØÈÄöËøáÂØπÁ¥¢ÂºïÊï∞ÊçÆÈ°µ‰∏äÁöÑËÆ∞ÂΩïÂä†ÈîÅÂÆûÁé∞ÁöÑÔºåMySQL InnoDB ÊîØÊåÅ‰∏âÁßçË°åÈîÅÂÆöÊñπÂºèÔºö</p>
<ul>
<li><strong>ËÆ∞ÂΩïÈîÅÔºàRecord LockÔºâ</strong> Ôºö‰πüË¢´Áß∞‰∏∫ËÆ∞ÂΩïÈîÅÔºåÂ±û‰∫éÂçï‰∏™Ë°åËÆ∞ÂΩï‰∏äÁöÑÈîÅ„ÄÇ</li>
<li><strong>Èó¥ÈöôÈîÅÔºàGap LockÔºâ</strong> ÔºöÈîÅÂÆö‰∏Ä‰∏™ËåÉÂõ¥Ôºå‰∏çÂåÖÊã¨ËÆ∞ÂΩïÊú¨Ë∫´„ÄÇ</li>
<li><strong>‰∏¥ÈîÆÈîÅÔºàNext-Key LockÔºâ</strong> ÔºöRecord Lock+Gap LockÔºåÈîÅÂÆö‰∏Ä‰∏™ËåÉÂõ¥ÔºåÂåÖÂê´ËÆ∞ÂΩïÊú¨Ë∫´Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ÂπªËØªÈóÆÈ¢òÔºàMySQL ‰∫ãÂä°ÈÉ®ÂàÜÊèêÂà∞ËøáÔºâ„ÄÇËÆ∞ÂΩïÈîÅÂè™ËÉΩÈîÅ‰ΩèÂ∑≤ÁªèÂ≠òÂú®ÁöÑËÆ∞ÂΩïÔºå‰∏∫‰∫ÜÈÅøÂÖçÊèíÂÖ•Êñ∞ËÆ∞ÂΩïÔºåÈúÄË¶Å‰æùËµñÈó¥ÈöôÈîÅ„ÄÇ</li>
</ul>
<p>Âú® InnoDB ÈªòËÆ§ÁöÑÈöîÁ¶ªÁ∫ßÂà´ REPEATABLE-READ ‰∏ãÔºåË°åÈîÅÈªòËÆ§‰ΩøÁî®ÁöÑÊòØ Next-Key Lock„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÊìç‰ΩúÁöÑÁ¥¢ÂºïÊòØÂîØ‰∏ÄÁ¥¢ÂºïÊàñ‰∏ªÈîÆÔºåInnoDB ‰ºöÂØπ Next-Key Lock ËøõË°å‰ºòÂåñÔºåÂ∞ÜÂÖ∂ÈôçÁ∫ß‰∏∫ Record LockÔºåÂç≥‰ªÖÈîÅ‰ΩèÁ¥¢ÂºïÊú¨Ë∫´ÔºåËÄå‰∏çÊòØËåÉÂõ¥„ÄÇ</p>
<h2 id="üåüËÆ∞ÂΩïÈîÅ"><a href="#üåüËÆ∞ÂΩïÈîÅ" class="headerlink" title="üåüËÆ∞ÂΩïÈîÅ"></a>üåüËÆ∞ÂΩïÈîÅ</h2><p>Record Lock Áß∞‰∏∫ËÆ∞ÂΩïÈîÅÔºåÈîÅ‰ΩèÁöÑÊòØ‰∏ÄÊù°ËÆ∞ÂΩï„ÄÇËÄå‰∏îËÆ∞ÂΩïÈîÅÊòØÊúâ S ÈîÅÂíå X ÈîÅ‰πãÂàÜÁöÑÔºö</p>
<ul>
<li>ÂΩì‰∏Ä‰∏™‰∫ãÂä°ÂØπ‰∏ÄÊù°ËÆ∞ÂΩïÂä†‰∫Ü S ÂûãËÆ∞ÂΩïÈîÅÂêéÔºåÂÖ∂‰ªñ‰∫ãÂä°‰πüÂèØ‰ª•ÁªßÁª≠ÂØπËØ•ËÆ∞ÂΩïÂä† S ÂûãËÆ∞ÂΩïÈîÅÔºàS Âûã‰∏é S ÈîÅÂÖºÂÆπÔºâÔºå‰ΩÜÊòØ‰∏çÂèØ‰ª•ÂØπËØ•ËÆ∞ÂΩïÂä† X ÂûãËÆ∞ÂΩïÈîÅÔºàS Âûã‰∏é X ÈîÅ‰∏çÂÖºÂÆπÔºâ;</li>
<li>ÂΩì‰∏Ä‰∏™‰∫ãÂä°ÂØπ‰∏ÄÊù°ËÆ∞ÂΩïÂä†‰∫Ü X ÂûãËÆ∞ÂΩïÈîÅÂêéÔºåÂÖ∂‰ªñ‰∫ãÂä°Êó¢‰∏çÂèØ‰ª•ÂØπËØ•ËÆ∞ÂΩïÂä† S ÂûãËÆ∞ÂΩïÈîÅÔºàS Âûã‰∏é X ÈîÅ‰∏çÂÖºÂÆπÔºâÔºå‰πü‰∏çÂèØ‰ª•ÂØπËØ•ËÆ∞ÂΩïÂä† X ÂûãËÆ∞ÂΩïÈîÅÔºàX Âûã‰∏é X ÈîÅ‰∏çÂÖºÂÆπÔºâ„ÄÇ</li>
</ul>
<p>‰∏æ‰∏™‰æãÂ≠êÔºåÂΩì‰∏Ä‰∏™‰∫ãÂä°ÊâßË°å‰∫Ü‰∏ãÈù¢ËøôÊù°ËØ≠Âè•Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql">mysql <span class="token operator">></span> <span class="token keyword">begin</span><span class="token punctuation">;</span>
mysql <span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Â∞±ÊòØÂØπ test Ë°®‰∏≠‰∏ªÈîÆ id ‰∏∫ 1 ÁöÑËøôÊù°ËÆ∞ÂΩïÂä†‰∏ä X ÂûãÁöÑËÆ∞ÂΩïÈîÅÔºåËøôÊ†∑ÂÖ∂‰ªñ‰∫ãÂä°Â∞±Êó†Ê≥ïÂØπËøôÊù°ËÆ∞ÂΩïËøõË°å‰øÆÊîπ‰∫Ü„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202308061458735.png"></p>
<p>ÂΩì‰∫ãÂä°ÊâßË°å commit ÂêéÔºå‰∫ãÂä°ËøáÁ®ã‰∏≠ÁîüÊàêÁöÑÈîÅÈÉΩ‰ºöË¢´ÈáäÊîæ„ÄÇ</p>
<h2 id="üåüÈó¥ÈöôÈîÅ"><a href="#üåüÈó¥ÈöôÈîÅ" class="headerlink" title="üåüÈó¥ÈöôÈîÅ"></a>üåüÈó¥ÈöôÈîÅ</h2><p>Gap Lock Áß∞‰∏∫Èó¥ÈöôÈîÅÔºåÈîÅÂÆö‰∏Ä‰∏™ËåÉÂõ¥Ôºå‰∏çÂåÖÊã¨ËÆ∞ÂΩïÊú¨Ë∫´„ÄÇÂè™Â≠òÂú®‰∫éÂèØÈáçÂ§çËØªÈöîÁ¶ªÁ∫ßÂà´ÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ÂèØÈáçÂ§çËØªÈöîÁ¶ªÁ∫ßÂà´‰∏ãÂπªËØªÁöÑÁé∞Ë±°„ÄÇ</p>
<p>ÂÅáËÆæÔºåË°®‰∏≠Êúâ‰∏Ä‰∏™ËåÉÂõ¥ id ‰∏∫Ôºà3Ôºå5ÔºâÈó¥ÈöôÈîÅÔºåÈÇ£‰πàÂÖ∂‰ªñ‰∫ãÂä°Â∞±Êó†Ê≥ïÊèíÂÖ• id &#x3D; 4 ËøôÊù°ËÆ∞ÂΩï‰∫ÜÔºåËøôÊ†∑Â∞±ÊúâÊïàÁöÑÈò≤Ê≠¢ÂπªËØªÁé∞Ë±°ÁöÑÂèëÁîü„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202308061458214.png"></p>
<p>Èó¥ÈöôÈîÅËôΩÁÑ∂Â≠òÂú® X ÂûãÈó¥ÈöôÈîÅÂíå S ÂûãÈó¥ÈöôÈîÅÔºå‰ΩÜÊòØÂπ∂Ê≤°Êúâ‰ªÄ‰πàÂå∫Âà´Ôºå<strong>Èó¥ÈöôÈîÅ‰πãÈó¥ÊòØÂÖºÂÆπÁöÑÔºåÂç≥‰∏§‰∏™‰∫ãÂä°ÂèØ‰ª•ÂêåÊó∂ÊåÅÊúâÂåÖÂê´ÂÖ±ÂêåÈó¥ÈöôËåÉÂõ¥ÁöÑÈó¥ÈöôÈîÅÔºåÂπ∂‰∏çÂ≠òÂú®‰∫íÊñ•ÂÖ≥Á≥ªÔºåÂõ†‰∏∫Èó¥ÈöôÈîÅÁöÑÁõÆÁöÑÊòØÈò≤Ê≠¢ÊèíÂÖ•ÂπªËØªËÆ∞ÂΩïËÄåÊèêÂá∫ÁöÑ</strong>„ÄÇ</p>
<h2 id="üåü‰∏¥ÈîÆÈîÅ"><a href="#üåü‰∏¥ÈîÆÈîÅ" class="headerlink" title="üåü‰∏¥ÈîÆÈîÅ"></a>üåü‰∏¥ÈîÆÈîÅ</h2><p>Next-Key Lock Áß∞‰∏∫‰∏¥ÈîÆÈîÅÔºåÊòØ Record Lock + Gap Lock ÁöÑÁªÑÂêàÔºåÈîÅÂÆö‰∏Ä‰∏™ËåÉÂõ¥ÔºåÂπ∂‰∏îÈîÅÂÆöËÆ∞ÂΩïÊú¨Ë∫´„ÄÇ</p>
<p>ÂÅáËÆæÔºåË°®‰∏≠Êúâ‰∏Ä‰∏™ËåÉÂõ¥ id ‰∏∫Ôºà3Ôºå5] ÁöÑ next-key lockÔºåÈÇ£‰πàÂÖ∂‰ªñ‰∫ãÂä°Âç≥‰∏çËÉΩÊèíÂÖ• id &#x3D; 4 ËÆ∞ÂΩïÔºå‰πü‰∏çËÉΩ‰øÆÊîπ id &#x3D; 5 ËøôÊù°ËÆ∞ÂΩï„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202308061458205.png"></p>
<p>ÊâÄ‰ª•Ôºånext-key lock Âç≥ËÉΩ‰øùÊä§ËØ•ËÆ∞ÂΩïÔºåÂèàËÉΩÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Â∞ÜÊñ∞Á∫™ÂΩïÊèíÂÖ•Âà∞Ë¢´‰øùÊä§ËÆ∞ÂΩïÂâçÈù¢ÁöÑÈó¥Èöô‰∏≠„ÄÇ</p>
<p><strong>next-key lock ÊòØÂåÖÂê´Èó¥ÈöôÈîÅ+ËÆ∞ÂΩïÈîÅÁöÑÔºåÂ¶ÇÊûú‰∏Ä‰∏™‰∫ãÂä°Ëé∑Âèñ‰∫Ü X ÂûãÁöÑ next-key lockÔºåÈÇ£‰πàÂè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°Âú®Ëé∑ÂèñÁõ∏ÂêåËåÉÂõ¥ÁöÑ X ÂûãÁöÑ next-key lock Êó∂ÔºåÊòØ‰ºöË¢´ÈòªÂ°ûÁöÑ</strong>„ÄÇ</p>
<h2 id="üåüÂΩìÂâçËØªÂíåÂø´ÁÖßËØªÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"><a href="#üåüÂΩìÂâçËØªÂíåÂø´ÁÖßËØªÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü" class="headerlink" title="üåüÂΩìÂâçËØªÂíåÂø´ÁÖßËØªÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü"></a>üåüÂΩìÂâçËØªÂíåÂø´ÁÖßËØªÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü</h2><p><strong>Âø´ÁÖßËØª</strong>Ôºà‰∏ÄËá¥ÊÄßÈùûÈîÅÂÆöËØªÔºâÂ∞±ÊòØÂçïÁ∫ØÁöÑ <code>SELECT</code> ËØ≠Âè•Ôºå‰ΩÜ‰∏çÂåÖÊã¨‰∏ãÈù¢Ëøô‰∏§Á±ª <code>SELECT</code> ËØ≠Âè•Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">LOCK</span> <span class="token operator">IN</span> <span class="token keyword">SHARE MODE</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Âø´ÁÖßÂç≥ËÆ∞ÂΩïÁöÑÂéÜÂè≤ÁâàÊú¨ÔºåÊØèË°åËÆ∞ÂΩïÂèØËÉΩÂ≠òÂú®Â§ö‰∏™ÂéÜÂè≤ÁâàÊú¨ÔºàÂ§öÁâàÊú¨ÊäÄÊúØÔºâ„ÄÇ</p>
<p>Âø´ÁÖßËØªÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúËØªÂèñÁöÑËÆ∞ÂΩïÊ≠£Âú®ÊâßË°å UPDATE&#x2F;DELETE Êìç‰ΩúÔºåËØªÂèñÊìç‰Ωú‰∏ç‰ºöÂõ†Ê≠§ÂéªÁ≠âÂæÖËÆ∞ÂΩï‰∏ä X ÈîÅÁöÑÈáäÊîæÔºåËÄåÊòØ‰ºöÂéªËØªÂèñË°åÁöÑ‰∏Ä‰∏™Âø´ÁÖß„ÄÇ</p>
<p>Âè™ÊúâÂú®‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ RC(ËØªÂèñÂ∑≤Êèê‰∫§) Âíå RRÔºàÂèØÈáçËØªÔºâ‰∏ãÔºåInnoDB Êâç‰ºö‰ΩøÁî®‰∏ÄËá¥ÊÄßÈùûÈîÅÂÆöËØªÔºö</p>
<ul>
<li>Âú® RC Á∫ßÂà´‰∏ãÔºåÂØπ‰∫éÂø´ÁÖßÊï∞ÊçÆÔºå‰∏ÄËá¥ÊÄßÈùûÈîÅÂÆöËØªÊÄªÊòØËØªÂèñË¢´ÈîÅÂÆöË°åÁöÑÊúÄÊñ∞‰∏Ä‰ªΩÂø´ÁÖßÊï∞ÊçÆ„ÄÇ</li>
<li>Âú® RR Á∫ßÂà´‰∏ãÔºåÂØπ‰∫éÂø´ÁÖßÊï∞ÊçÆÔºå‰∏ÄËá¥ÊÄßÈùûÈîÅÂÆöËØªÊÄªÊòØËØªÂèñÊú¨‰∫ãÂä°ÂºÄÂßãÊó∂ÁöÑË°åÊï∞ÊçÆÁâàÊú¨„ÄÇ</li>
</ul>
<p>Âø´ÁÖßËØªÊØîËæÉÈÄÇÂêàÂØπ‰∫éÊï∞ÊçÆ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰∏çÊòØÁâπÂà´È´ò‰∏îËøΩÊ±ÇÊûÅËá¥ÊÄßËÉΩÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ</p>
<p><strong>ÂΩìÂâçËØª</strong> Ôºà‰∏ÄËá¥ÊÄßÈîÅÂÆöËØªÔºâÂ∞±ÊòØÁªôË°åËÆ∞ÂΩïÂä† X ÈîÅÊàñ S ÈîÅ„ÄÇ</p>
<p>ÂΩìÂâçËØªÁöÑ‰∏Ä‰∫õÂ∏∏ËßÅ SQL ËØ≠Âè•Á±ªÂûãÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># ÂØπËØªÁöÑËÆ∞ÂΩïÂä†‰∏Ä‰∏™XÈîÅ</span>
<span class="token keyword">SELECT</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span>
<span class="token comment" spellcheck="true"># ÂØπËØªÁöÑËÆ∞ÂΩïÂä†‰∏Ä‰∏™SÈîÅ</span>
<span class="token keyword">SELECT</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">LOCK</span> <span class="token operator">IN</span> <span class="token keyword">SHARE MODE</span>
<span class="token comment" spellcheck="true"># ÂØπ‰øÆÊîπÁöÑËÆ∞ÂΩïÂä†‰∏Ä‰∏™XÈîÅ</span>
<span class="token keyword">INSERT</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">UPDATE</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">DELETE</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="üåüÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅÂë¢Ôºü"><a href="#üåüÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅÂë¢Ôºü" class="headerlink" title="üåüÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅÂë¢Ôºü"></a>üåüÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅÂë¢Ôºü</h2><p>‰∏çËÆ∫ÊòØË°®Á∫ßÈîÅËøòÊòØË°åÁ∫ßÈîÅÔºåÈÉΩÂ≠òÂú®ÂÖ±‰∫´ÈîÅÔºàShare LockÔºåS ÈîÅÔºâÂíåÊéí‰ªñÈîÅÔºàExclusive LockÔºåX ÈîÅÔºâËøô‰∏§Á±ªÔºö</p>
<ul>
<li><strong>ÂÖ±‰∫´ÈîÅÔºàS ÈîÅÔºâ</strong> ÔºöÂèàÁß∞ËØªÈîÅÔºå‰∫ãÂä°Âú®ËØªÂèñËÆ∞ÂΩïÁöÑÊó∂ÂÄôËé∑ÂèñÂÖ±‰∫´ÈîÅÔºåÂÖÅËÆ∏Â§ö‰∏™‰∫ãÂä°ÂêåÊó∂Ëé∑ÂèñÔºàÈîÅÂÖºÂÆπÔºâ„ÄÇ</li>
<li><strong>Êéí‰ªñÈîÅÔºàX ÈîÅÔºâ</strong> ÔºöÂèàÁß∞ÂÜôÈîÅ&#x2F;Áã¨Âç†ÈîÅÔºå‰∫ãÂä°Âú®‰øÆÊîπËÆ∞ÂΩïÁöÑÊó∂ÂÄôËé∑ÂèñÊéí‰ªñÈîÅÔºå‰∏çÂÖÅËÆ∏Â§ö‰∏™‰∫ãÂä°ÂêåÊó∂Ëé∑Âèñ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ËÆ∞ÂΩïÂ∑≤ÁªèË¢´Âä†‰∫ÜÊéí‰ªñÈîÅÔºåÈÇ£ÂÖ∂‰ªñ‰∫ãÂä°‰∏çËÉΩÂÜçÂØπËøôÊù°‰∫ãÂä°Âä†‰ªª‰ΩïÁ±ªÂûãÁöÑÈîÅÔºàÈîÅ‰∏çÂÖºÂÆπÔºâ„ÄÇ</li>
</ul>
<p>Êéí‰ªñÈîÅ‰∏é‰ªª‰ΩïÁöÑÈîÅÈÉΩ‰∏çÂÖºÂÆπÔºåÂÖ±‰∫´ÈîÅ‰ªÖÂíåÂÖ±‰∫´ÈîÅÂÖºÂÆπ„ÄÇ</p>
<p>ÂÖ±‰∫´ÈîÅÔºàSÈîÅÔºâÊª°Ë∂≥ËØªËØªÂÖ±‰∫´ÔºåËØªÂÜô‰∫íÊñ•„ÄÇÁã¨Âç†ÈîÅÔºàXÈîÅÔºâÊª°Ë∂≥ÂÜôÂÜô‰∫íÊñ•„ÄÅËØªÂÜô‰∫íÊñ•„ÄÇ</p>
<p>ÊôÆÈÄöÁöÑ select ËØ≠Âè•ÊòØ‰∏ç‰ºöÂØπËÆ∞ÂΩïÂä†ÈîÅÁöÑÔºåÂõ†‰∏∫ÂÆÉÂ±û‰∫éÂø´ÁÖßËØªÔºàÁî±‰∫é MVCC ÁöÑÂ≠òÂú®Ôºâ„ÄÇÂ¶ÇÊûúË¶ÅÂú®Êü•ËØ¢Êó∂ÂØπËÆ∞ÂΩïÂä†Ë°åÈîÅÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢Ëøô‰∏§‰∏™ÊñπÂºèÔºåËøôÁßçÊü•ËØ¢‰ºöÂä†ÈîÅÁöÑËØ≠Âè•Áß∞‰∏∫<strong>ÈîÅÂÆöËØª</strong>„ÄÇ</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">//ÂØπËØªÂèñÁöÑËÆ∞ÂΩïÂä†ÂÖ±‰∫´ÈîÅ</span>
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">lock</span> <span class="token operator">in</span> <span class="token keyword">share mode</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//ÂØπËØªÂèñÁöÑËÆ∞ÂΩïÂä†Áã¨Âç†ÈîÅ</span>
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>‰∏äÈù¢Ëøô‰∏§Êù°ËØ≠Âè•ÂøÖÈ°ªÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠Ôºå<strong>Âõ†‰∏∫ÂΩì‰∫ãÂä°Êèê‰∫§‰∫ÜÔºåÈîÅÂ∞±‰ºöË¢´ÈáäÊîæ</strong>ÔºåÊâÄ‰ª•Âú®‰ΩøÁî®Ëøô‰∏§Êù°ËØ≠Âè•ÁöÑÊó∂ÂÄôÔºåË¶ÅÂä†‰∏ä begin„ÄÅstart transaction ÊàñËÄÖ set autocommit &#x3D; 0„ÄÇ</p>
<h2 id="üåüÊÑèÂêëÈîÅÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºü"><a href="#üåüÊÑèÂêëÈîÅÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºü" class="headerlink" title="üåüÊÑèÂêëÈîÅÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºü"></a>üåüÊÑèÂêëÈîÅÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºü</h2><p>Â¶ÇÊûúÈúÄË¶ÅÁî®Âà∞Ë°®ÈîÅÁöÑËØùÔºåÂ¶Ç‰ΩïÂà§Êñ≠Ë°®‰∏≠ÁöÑËÆ∞ÂΩïÊ≤°ÊúâË°åÈîÅÂë¢Ôºå‰∏ÄË°å‰∏ÄË°åÈÅçÂéÜËÇØÂÆöÊòØ‰∏çË°åÔºåÊÄßËÉΩÂ§™Â∑Æ„ÄÇÊàë‰ª¨ÈúÄË¶ÅÁî®Âà∞‰∏Ä‰∏™Âè´ÂÅö<strong>ÊÑèÂêëÈîÅÊù•Âø´ÈÄüÂà§Êñ≠ÊòØÂê¶ÂèØ‰ª•ÂØπÊüê‰∏™Ë°®‰ΩøÁî®Ë°®ÈîÅ</strong>„ÄÇ</p>
<p>ÊÑèÂêëÈîÅÊòØË°®Á∫ßÈîÅÔºåÂÖ±Êúâ‰∏§ÁßçÔºö</p>
<ul>
<li>Âú®‰ΩøÁî® InnoDB ÂºïÊìéÁöÑË°®ÈáåÂØπÊüê‰∫õËÆ∞ÂΩïÂä†‰∏ä„ÄåÂÖ±‰∫´ÈîÅ„Äç‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂú®Ë°®Á∫ßÂà´Âä†‰∏ä‰∏Ä‰∏™„ÄåÊÑèÂêëÂÖ±‰∫´ÈîÅ-IS ÈîÅ„ÄçÔºõ</li>
<li>Âú®‰ΩøÁî® InnoDB ÂºïÊìéÁöÑË°®ÈáåÂØπÊüê‰∫õÁ∫™ÂΩïÂä†‰∏ä„ÄåÁã¨Âç†ÈîÅ„Äç‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂú®Ë°®Á∫ßÂà´Âä†‰∏ä‰∏Ä‰∏™„ÄåÊÑèÂêëÁã¨Âç†ÈîÅ-IX ÈîÅ„ÄçÔºõ</li>
</ul>
<p>ÊÑèÂêëÈîÅÊòØÊúâÊï∞ÊçÆÂºïÊìéËá™Â∑±Áª¥Êä§ÁöÑÔºåÁî®Êà∑Êó†Ê≥ïÊâãÂä®Êìç‰ΩúÊÑèÂêëÈîÅÔºåÂú®‰∏∫Êï∞ÊçÆË°åÂä†ÂÖ±‰∫´&#x2F;Êéí‰ªñÈîÅ‰πãÂâçÔºåInooDB ‰ºöÂÖàËé∑ÂèñËØ•Êï∞ÊçÆË°åÊâÄÂú®Âú®Êï∞ÊçÆË°®ÁöÑÂØπÂ∫îÊÑèÂêëÈîÅ„ÄÇ</p>
<p>‰πüÂ∞±ÊòØÔºåÂΩìÊâßË°åÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§Êìç‰ΩúÔºåÈúÄË¶ÅÂÖàÂØπË°®Âä†‰∏ä„ÄåÊÑèÂêëÁã¨Âç†ÈîÅ„ÄçÔºåÁÑ∂ÂêéÂØπËØ•ËÆ∞ÂΩïÂä†Áã¨Âç†ÈîÅ„ÄÇ</p>
<p>ËÄåÊôÆÈÄöÁöÑ select ÊòØ‰∏ç‰ºöÂä†Ë°åÁ∫ßÈîÅÁöÑÔºåÊôÆÈÄöÁöÑ select ËØ≠Âè•ÊòØÂà©Áî® MVCC ÂÆûÁé∞‰∏ÄËá¥ÊÄßËØªÔºåÊòØÊó†ÈîÅÁöÑ„ÄÇ‰∏çËøáÔºåselect ‰πüÊòØÂèØ‰ª•ÂØπËÆ∞ÂΩïÂä†ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅÁöÑÔºåÂÖ∑‰ΩìÊñπÂºèÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">//ÂÖàÂú®Ë°®‰∏äÂä†‰∏äÊÑèÂêëÂÖ±‰∫´ÈîÅÔºåÁÑ∂ÂêéÂØπËØªÂèñÁöÑËÆ∞ÂΩïÂä†ÂÖ±‰∫´ÈîÅ</span>
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">lock</span> <span class="token operator">in</span> <span class="token keyword">share mode</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//ÂÖàË°®‰∏äÂä†‰∏äÊÑèÂêëÁã¨Âç†ÈîÅÔºåÁÑ∂ÂêéÂØπËØªÂèñÁöÑËÆ∞ÂΩïÂä†Áã¨Âç†ÈîÅ</span>
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ÊÑèÂêëÂÖ±‰∫´ÈîÅÂíåÊÑèÂêëÁã¨Âç†ÈîÅÊòØË°®Á∫ßÈîÅÔºå‰∏ç‰ºöÂíåË°åÁ∫ßÁöÑÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅÂèëÁîüÂÜ≤Á™ÅÔºåËÄå‰∏îÊÑèÂêëÈîÅ‰πãÈó¥‰πü‰∏ç‰ºöÂèëÁîüÂÜ≤Á™ÅÔºåÂè™‰ºöÂíåÂÖ±‰∫´Ë°®ÈîÅÂíåÁã¨Âç†Ë°®ÈîÅÂèëÁîüÂÜ≤Á™Å„ÄÇ</p>
<h2 id="üåüMySQLÊÄé‰πàÂä†ÈîÅÁöÑÔºü"><a href="#üåüMySQLÊÄé‰πàÂä†ÈîÅÁöÑÔºü" class="headerlink" title="üåüMySQLÊÄé‰πàÂä†ÈîÅÁöÑÔºü"></a>üåüMySQLÊÄé‰πàÂä†ÈîÅÁöÑÔºü</h2><p>ÂΩìÊü•ËØ¢ÁöÑËÆ∞ÂΩïÊòØÂ≠òÂú®ÁöÑÔºåÂú®Áî®„ÄåÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÊü•ËØ¢„ÄçÊó∂Ôºånext-key lock ‰ºöÈÄÄÂåñÊàê„ÄåËÆ∞ÂΩïÈîÅ„Äç„ÄÇ</p>
<p>ÂΩìÊü•ËØ¢ÁöÑËÆ∞ÂΩïÊòØ‰∏çÂ≠òÂú®ÁöÑÔºåÂú®Áî®„ÄåÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÊü•ËØ¢„ÄçÊó∂Ôºånext-key lock ‰ºöÈÄÄÂåñÊàê„ÄåÈó¥ÈöôÈîÅ„Äç„ÄÇ</p>
<p>ÂΩìÊü•ËØ¢ÁöÑËÆ∞ÂΩïÂ≠òÂú®Êó∂ÔºåÁî®ÈùûÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÊü•ËØ¢Èô§‰∫Ü‰ºöÂä† next-key lock Â§ñÔºåËøòÈ¢ùÂ§ñÂä†Èó¥ÈöôÈîÅ„ÄÇ</p>
<p>ÂΩìÊü•ËØ¢ÁöÑËÆ∞ÂΩï‰∏çÂ≠òÂú®Êó∂ÔºåÁî®ÈùûÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÊü•ËØ¢Âè™‰ºöÂä† next-key lockÔºåÁÑ∂Âêé‰ºöÈÄÄÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</p>
<p>ÈùûÂîØ‰∏ÄÁ¥¢ÂºïËåÉÂõ¥Êü•Ôºånext-key lock ‰∏ç‰ºöÈÄÄÂåñ‰∏∫Èó¥ÈöôÈîÅÂíåËÆ∞ÂΩïÈîÅ„ÄÇ</p>
<h2 id="üåü‰∏∫‰ªÄ‰πà‰ºöÂèëÁîüÊ≠ªÈîÅÔºåÂ¶Ç‰ΩïÈÅøÂÖçÊ≠ªÈîÅ"><a href="#üåü‰∏∫‰ªÄ‰πà‰ºöÂèëÁîüÊ≠ªÈîÅÔºåÂ¶Ç‰ΩïÈÅøÂÖçÊ≠ªÈîÅ" class="headerlink" title="üåü‰∏∫‰ªÄ‰πà‰ºöÂèëÁîüÊ≠ªÈîÅÔºåÂ¶Ç‰ΩïÈÅøÂÖçÊ≠ªÈîÅ"></a>üåü‰∏∫‰ªÄ‰πà‰ºöÂèëÁîüÊ≠ªÈîÅÔºåÂ¶Ç‰ΩïÈÅøÂÖçÊ≠ªÈîÅ</h2><blockquote>
<p>Ê≠ªÈîÅÊòØÊåá‰∏§‰∏™Êàñ‰∏§‰∏™‰ª•‰∏äÁöÑÁ∫øÁ®ãÂú®ÊâßË°åËøáÁ®ã‰∏≠ÔºåÂõ†‰∫âÂ§∫ËµÑÊ∫êËÄåÈÄ†ÊàêÁöÑ‰∏ÄÁßç‰∫íÁõ∏Á≠âÂæÖÁöÑÁé∞Ë±°„ÄÇËã•Êó†Â§ñÂäõ‰ΩúÁî®ÔºåÂÆÉ‰ª¨ÈÉΩÂ∞ÜÊó†Ê≥ïÊé®Ëøõ‰∏ãÂéª„ÄÇMySQL‰∏≠Ë°åÈîÅ‰ºöÂèëÁîüÊ≠ªÈîÅÔºåË°®ÈîÅ‰∏ç‰ºö„ÄÇ</p>
</blockquote>
<p>Â¶ÇÊûú‰∏§‰∏™‰∫ãÂä°ÂàÜÂà´ÂêëÂØπÊñπÊåÅÊúâÁöÑÈó¥ÈöôÈîÅËåÉÂõ¥ÂÜÖÊèíÂÖ•‰∏ÄÊù°ËÆ∞ÂΩïÔºåËÄåÊèíÂÖ•Êìç‰Ωú‰∏∫‰∫ÜËé∑ÂèñÂà∞ÊèíÂÖ•ÊÑèÂêëÈîÅÔºåÈÉΩÂú®Á≠âÂæÖÂØπÊñπ‰∫ãÂä°ÁöÑÈó¥ÈöôÈîÅÈáäÊîæÔºå‰∫éÊòØÂ∞±ÈÄ†Êàê‰∫ÜÂæ™ÁéØÁ≠âÂæÖÔºåÊª°Ë∂≥‰∫ÜÊ≠ªÈîÅÁöÑÂõõ‰∏™Êù°‰ª∂Ôºö<strong>‰∫íÊñ•„ÄÅÂç†Êúâ‰∏îÁ≠âÂæÖ„ÄÅ‰∏çÂèØÂº∫Âç†Áî®„ÄÅÂæ™ÁéØÁ≠âÂæÖ</strong>ÔºåÂõ†Ê≠§ÂèëÁîü‰∫ÜÊ≠ªÈîÅ„ÄÇ</p>
<p><strong>Â¶Ç‰ΩïÈÅøÂÖçÊ≠ªÈîÅÔºü</strong></p>
<p>Ê≠ªÈîÅÁöÑÂõõ‰∏™ÂøÖË¶ÅÊù°‰ª∂Ôºö<strong>‰∫íÊñ•„ÄÅÂç†Êúâ‰∏îÁ≠âÂæÖ„ÄÅ‰∏çÂèØÂº∫Âç†Áî®„ÄÅÂæ™ÁéØÁ≠âÂæÖ</strong>„ÄÇÂè™Ë¶ÅÁ≥ªÁªüÂèëÁîüÊ≠ªÈîÅÔºåËøô‰∫õÊù°‰ª∂ÂøÖÁÑ∂ÊàêÁ´ãÔºå‰ΩÜÊòØÂè™Ë¶ÅÁ†¥Âùè‰ªªÊÑè‰∏Ä‰∏™Êù°‰ª∂Â∞±Ê≠ªÈîÅÂ∞±‰∏ç‰ºöÊàêÁ´ã„ÄÇ</p>
<p>Âú®Êï∞ÊçÆÂ∫ìÂ±ÇÈù¢ÔºåÊúâ‰∏§ÁßçÁ≠ñÁï•ÈÄöËøá„ÄåÊâìÁ†¥Âæ™ÁéØÁ≠âÂæÖÊù°‰ª∂„ÄçÊù•Ëß£Èô§Ê≠ªÈîÅÁä∂ÊÄÅÔºö</p>
<ul>
<li><p><strong>ËÆæÁΩÆ‰∫ãÂä°Á≠âÂæÖÈîÅÁöÑË∂ÖÊó∂Êó∂Èó¥</strong>„ÄÇÂΩì‰∏Ä‰∏™‰∫ãÂä°ÁöÑÁ≠âÂæÖÊó∂Èó¥Ë∂ÖËøáËØ•ÂÄºÂêéÔºåÂ∞±ÂØπËøô‰∏™‰∫ãÂä°ËøõË°åÂõûÊªöÔºå‰∫éÊòØÈîÅÂ∞±ÈáäÊîæ‰∫ÜÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°Â∞±ÂèØ‰ª•ÁªßÁª≠ÊâßË°å‰∫Ü„ÄÇ</p>
<ul>
<li>Âú® InnoDB ‰∏≠ÔºåÂèÇÊï∞ <code>innodb_lock_wait_timeout</code> ÊòØÁî®Êù•ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥ÁöÑÔºåÈªòËÆ§ÂÄºÊó∂ 50 Áßí„ÄÇÂΩìÂèëÁîüË∂ÖÊó∂ÂêéÔºåÂ∞±Âá∫Áé∞‰∏ãÈù¢Ëøô‰∏™ÊèêÁ§∫Ôºö<img src="https://img.jwt1399.top/img/202308061458477.png"></li>
</ul>
</li>
<li><p><strong>ÂºÄÂêØ‰∏ªÂä®Ê≠ªÈîÅÊ£ÄÊµã</strong>„ÄÇ‰∏ªÂä®Ê≠ªÈîÅÊ£ÄÊµãÂú®ÂèëÁé∞Ê≠ªÈîÅÂêéÔºå‰∏ªÂä®ÂõûÊªöÊ≠ªÈîÅÈìæÊù°‰∏≠ÁöÑÊüê‰∏Ä‰∏™‰∫ãÂä°ÔºåËÆ©ÂÖ∂‰ªñ‰∫ãÂä°Âæó‰ª•ÁªßÁª≠ÊâßË°å„ÄÇ</p>
<ul>
<li>Â∞ÜÂèÇÊï∞ <code>innodb_deadlock_detect</code> ËÆæÁΩÆ‰∏∫ onÔºåË°®Á§∫ÂºÄÂêØËøô‰∏™ÈÄªËæëÔºåÈªòËÆ§Â∞±ÂºÄÂêØ„ÄÇÂΩìÊ£ÄÊµãÂà∞Ê≠ªÈîÅÂêéÔºåÂ∞±‰ºöÂá∫Áé∞‰∏ãÈù¢Ëøô‰∏™ÊèêÁ§∫Ôºö<img src="https://img.jwt1399.top/img/202308061458186.png"></li>
</ul>
</li>
</ul>
<p>‰∏äÈù¢Ëøô‰∏™‰∏§ÁßçÁ≠ñÁï•ÊòØ„ÄåÂΩìÊúâÊ≠ªÈîÅÂèëÁîüÊó∂„ÄçÁöÑÈÅøÂÖçÊñπÂºè„ÄÇ</p>
<h1 id="‚ë§Êó•Âøó"><a href="#‚ë§Êó•Âøó" class="headerlink" title="‚ë§Êó•Âøó"></a>‚ë§Êó•Âøó</h1><ul>
<li><p><code>undo log</code>ÔºàÂõûÊªöÊó•ÂøóÔºâÔºöËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂâçÁöÑÊ†∑Â≠êÔºåÂÆÉ‰øùËØÅ‰∫Ü‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄßÔºåÂÆûÁé∞‰∫ãÂä°ÂõûÊªöÔºåÂÆûÁé∞ MVCC ÂÖ≥ÈîÆÂõ†Á¥†‰πã‰∏Ä„ÄÇInnodb Â≠òÂÇ®ÂºïÊìéÁîüÊàêÁöÑ</p>
</li>
<li><p>‰∫ãÂä°Êó•Âøó <code>redo log</code>ÔºàÈáçÂÅöÊó•ÂøóÔºâÔºöËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂêéÁöÑÊ†∑Â≠êÔºåÂÆÉ‰øùËØÅ‰∫Ü‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄßÔºåËÆ© MySQL Êúâ Â¥©Ê∫ÉÊÅ¢Â§ç ÁöÑËÉΩÂäõ„ÄÇInnodb Â≠òÂÇ®ÂºïÊìéÁîüÊàêÁöÑ</p>
</li>
<li><p>‰∫åËøõÂà∂Êó•Âøó <code>binlog</code>ÔºàÂΩíÊ°£Êó•ÂøóÔºâÔºöËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÂèòÊõ¥ÂíåË°®Êï∞ÊçÆ‰øÆÊîπÁöÑÊó•ÂøóÔºå‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß„ÄÇServer Â±ÇÁîüÊàêÁöÑ</p>
</li>
</ul>
<h2 id="Buffer-Pool"><a href="#Buffer-Pool" class="headerlink" title="Buffer Pool"></a>Buffer Pool</h2><h3 id="üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å-Buffer-PoolÔºü"><a href="#üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å-Buffer-PoolÔºü" class="headerlink" title="üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å Buffer PoolÔºü"></a>üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å Buffer PoolÔºü</h3><p>‰∏∫‰∫Ü<strong>ÊèêÈ´òËØªÂÜôMySQLÁöÑËØªÂÜôÊÄßËÉΩ</strong>ÔºåËÆæËÆ°‰∫ÜBuffer Pool</p>
<ul>
<li>ÂΩìËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ≠òÂú®‰∫é Buffer Pool ‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂ∞±‰ºöÁõ¥Êé•ËØªÂèñ Buffer Pool ‰∏≠ÁöÑÊï∞ÊçÆÔºåÂê¶ÂàôÂÜçÂéªÁ£ÅÁõò‰∏≠ËØªÂèñ„ÄÇ</li>
<li>ÂΩì‰øÆÊîπÊï∞ÊçÆÊó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ≠òÂú®‰∫é Buffer Pool ‰∏≠ÔºåÈÇ£Áõ¥Êé•‰øÆÊîπ Buffer Pool ‰∏≠Êï∞ÊçÆÊâÄÂú®ÁöÑÈ°µÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂È°µËÆæÁΩÆ‰∏∫<strong>ËÑèÈ°µ</strong>ÔºàËØ•È°µÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂíåÁ£ÅÁõò‰∏äÁöÑÊï∞ÊçÆÂ∑≤Áªè‰∏ç‰∏ÄËá¥ÔºâÔºå‰∏∫‰∫ÜÂáèÂ∞ëÁ£ÅÁõòI&#x2F;OÔºå‰∏ç‰ºöÁ´ãÂç≥Â∞ÜËÑèÈ°µÂÜôÂÖ•Á£ÅÁõòÔºåÂêéÁª≠Áî±ÂêéÂè∞Á∫øÁ®ãÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊó∂Êú∫Â∞ÜËÑèÈ°µÂÜôÂÖ•Âà∞Á£ÅÁõò„ÄÇ</li>
</ul>
<h3 id="üåüBuffer-Pool-ÁºìÂ≠ò‰ªÄ‰πàÔºü"><a href="#üåüBuffer-Pool-ÁºìÂ≠ò‰ªÄ‰πàÔºü" class="headerlink" title="üåüBuffer Pool ÁºìÂ≠ò‰ªÄ‰πàÔºü"></a>üåüBuffer Pool ÁºìÂ≠ò‰ªÄ‰πàÔºü</h3><p>Âú® MySQL ÂêØÂä®ÁöÑÊó∂ÂÄôÔºå<strong>InnoDB ‰ºö‰∏∫ Buffer Pool Áî≥ËØ∑‰∏ÄÁâáËøûÁª≠ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÁÑ∂ÂêéÊåâÁÖßÈªòËÆ§ÁöÑ<code>16KB</code>ÁöÑÂ§ßÂ∞èÂàíÂàÜÂá∫‰∏Ä‰∏™‰∏™ÁöÑÈ°µÔºå Buffer Pool ‰∏≠ÁöÑÈ°µÂ∞±Âè´ÂÅöÁºìÂ≠òÈ°µ</strong>„ÄÇÊ≠§Êó∂Ëøô‰∫õÁºìÂ≠òÈ°µÈÉΩÊòØÁ©∫Èó≤ÁöÑÔºå‰πãÂêéÈöèÁùÄÁ®ãÂ∫èÁöÑËøêË°åÔºåÊâç‰ºöÊúâÁ£ÅÁõò‰∏äÁöÑÈ°µË¢´ÁºìÂ≠òÂà∞ Buffer Pool ‰∏≠„ÄÇ</p>
<p>Buffer Pool Èô§‰∫Ü<strong>ÁºìÂ≠òÁ¥¢ÂºïÈ°µÂíåÊï∞ÊçÆÈ°µÔºåËøòÂåÖÊã¨‰∫Ü Undo È°µÔºåÊèíÂÖ•ÁºìÂ≠ò„ÄÅËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï„ÄÅÈîÅ‰ø°ÊÅØ</strong>Á≠âÁ≠â„ÄÇ</p>
<p>ÂºÄÂêØ‰∫ãÂä°ÂêéÔºåInnoDB Â±ÇÊõ¥Êñ∞ËÆ∞ÂΩïÂâçÔºåÈ¶ñÂÖàË¶ÅËÆ∞ÂΩïÁõ∏Â∫îÁöÑ undo logÔºåundo log ‰ºöÂÜôÂÖ• Buffer Pool ‰∏≠ÁöÑ Undo È°µÈù¢„ÄÇ</p>
<h2 id="undo-log"><a href="#undo-log" class="headerlink" title="undo log"></a>undo log</h2><h3 id="üåü‰ªÄ‰πàÊòØ-undo-log"><a href="#üåü‰ªÄ‰πàÊòØ-undo-log" class="headerlink" title="üåü‰ªÄ‰πàÊòØ undo log"></a>üåü‰ªÄ‰πàÊòØ undo log</h3><p>undo logÔºàÂõûÊªöÊó•ÂøóÔºâÔºåËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂâçÁöÑÊ†∑Â≠êÔºåÂÆÉ‰øùËØÅ‰∫Ü‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄß„ÄÇ</p>
<p>InnoDBÂØπ‰∏ÄÊù°ËÆ∞ÂΩïËøõË°åÊìç‰ΩúÔºàÂ¢û„ÄÅÂà†„ÄÅÊîπÔºâÊó∂ÔºåÂÖàÂ∞ÜÂõûÊªöÈúÄË¶ÅÁöÑ‰ø°ÊÅØËÆ∞ÂΩïÂà∞undo logÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠ÔºåÂ¶ÇÊûúÂ§±Ë¥•‰∫ÜÊàñËÄÖ‰∏ªÂä®rollbackÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáundo logÁöÑÂÜÖÂÆπÔºåÂ∞Ü‰∫ãÂä°ÂõûÊªö„ÄÇ</p>
<h3 id="üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®-undo-log"><a href="#üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®-undo-log" class="headerlink" title="üåü‰∏∫‰ªÄ‰πàË¶ÅÁî® undo log"></a>üåü‰∏∫‰ªÄ‰πàË¶ÅÁî® undo log</h3><ul>
<li><strong>ÂÆûÁé∞‰∫ãÂä°ÂõûÊªöÔºå‰øùÈöú‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄß</strong>„ÄÇ‰∫ãÂä°Â§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÂá∫Áé∞‰∫ÜÈîôËØØÊàñËÄÖÁî®Êà∑ÊâßË°å‰∫Ü ROLLBACK ËØ≠Âè•ÔºåMySQL ÂèØ‰ª•Âà©Áî® undo log ‰∏≠ÁöÑÂéÜÂè≤Êï∞ÊçÆÂ∞ÜÊï∞ÊçÆÊÅ¢Â§çÂà∞‰∫ãÂä°ÂºÄÂßã‰πãÂâçÁöÑÁä∂ÊÄÅ„ÄÇ</li>
<li><strong>ÂÆûÁé∞ MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂ÔºâÂÖ≥ÈîÆÂõ†Á¥†‰πã‰∏Ä</strong>„ÄÇMVCC ÊòØÈÄöËøá ReadView + undo log ÂÆûÁé∞ÁöÑ„ÄÇundo log ‰∏∫ÊØèÊù°ËÆ∞ÂΩï‰øùÂ≠òÂ§ö‰ªΩÂéÜÂè≤Êï∞ÊçÆÔºåMySQL Âú®ÊâßË°åÂø´ÁÖßËØªÔºàÊôÆÈÄö select ËØ≠Âè•ÔºâÁöÑÊó∂ÂÄôÔºå‰ºöÊ†πÊçÆ‰∫ãÂä°ÁöÑ Read View ÈáåÁöÑ‰ø°ÊÅØÔºåÈ°∫ÁùÄ undo log ÁöÑÁâàÊú¨ÈìæÊâæÂà∞Êª°Ë∂≥ÂÖ∂ÂèØËßÅÊÄßÁöÑËÆ∞ÂΩï„ÄÇ</li>
</ul>
<h3 id="üåüundo-logÈáåÈù¢ÂÖ∑‰ΩìËÆ∞ÂΩï‰∫Ü‰ªÄ‰πà‰ø°ÊÅØÂë¢Ôºü"><a href="#üåüundo-logÈáåÈù¢ÂÖ∑‰ΩìËÆ∞ÂΩï‰∫Ü‰ªÄ‰πà‰ø°ÊÅØÂë¢Ôºü" class="headerlink" title="üåüundo logÈáåÈù¢ÂÖ∑‰ΩìËÆ∞ÂΩï‰∫Ü‰ªÄ‰πà‰ø°ÊÅØÂë¢Ôºü"></a><strong>üåüundo logÈáåÈù¢ÂÖ∑‰ΩìËÆ∞ÂΩï‰∫Ü‰ªÄ‰πà‰ø°ÊÅØÂë¢Ôºü</strong></h3><p>‰∏çÂêåÁöÑÊìç‰ΩúÔºåÈúÄË¶ÅËÆ∞ÂΩïÁöÑÂÜÖÂÆπ‰πüÊòØ‰∏çÂêåÁöÑÔºåÊâÄ‰ª•‰∏çÂêåÁ±ªÂûãÁöÑÊìç‰ΩúÔºà‰øÆÊîπ„ÄÅÂà†Èô§„ÄÅÊñ∞Â¢ûÔºâ‰∫ßÁîüÁöÑ undo log ÁöÑÊ†ºÂºè‰πüÊòØ‰∏çÂêåÁöÑ</p>
<ul>
<li><p>Âú®<strong>ÊèíÂÖ•</strong>‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåË¶ÅÊääËøôÊù°ËÆ∞ÂΩïÁöÑ‰∏ªÈîÆÂÄºËÆ∞‰∏ãÊù•ÔºåËøôÊ†∑‰πãÂêéÂõûÊªöÊó∂Âè™ÈúÄË¶ÅÊääËøô‰∏™‰∏ªÈîÆÂÄºÂØπÂ∫îÁöÑËÆ∞ÂΩï<strong>Âà†Êéâ</strong>Â∞±Â•Ω‰∫ÜÔºõ</p>
</li>
<li><p>Âú®<strong>Âà†Èô§</strong>‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåË¶ÅÊääËøôÊù°ËÆ∞ÂΩï‰∏≠ÁöÑÂÜÖÂÆπÈÉΩËÆ∞‰∏ãÊù•ÔºåËøôÊ†∑‰πãÂêéÂõûÊªöÊó∂ÂÜçÊääÁî±Ëøô‰∫õÂÜÖÂÆπÁªÑÊàêÁöÑËÆ∞ÂΩï<strong>ÊèíÂÖ•</strong>Âà∞Ë°®‰∏≠Â∞±Â•Ω‰∫ÜÔºõ</p>
</li>
<li><p>Âú®<strong>Êõ¥Êñ∞</strong>‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåË¶ÅÊääË¢´Êõ¥Êñ∞ÁöÑÂàóÁöÑÊóßÂÄºËÆ∞‰∏ãÊù•ÔºåËøôÊ†∑‰πãÂêéÂõûÊªöÊó∂ÂÜçÊääËøô‰∫õÂàó<strong>Êõ¥Êñ∞‰∏∫ÊóßÂÄº</strong>Â∞±Â•Ω‰∫Ü„ÄÇ</p>
</li>
</ul>
<p>Âú®ÂèëÁîüÂõûÊªöÊó∂ÔºåÂ∞±ËØªÂèñ undo log ÈáåÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂÅöÂéüÂÖàÁõ∏ÂèçÊìç‰Ωú„ÄÇÊØîÂ¶ÇÂΩì delete ‰∏ÄÊù°ËÆ∞ÂΩïÊó∂Ôºåundo log ‰∏≠‰ºöÊääËÆ∞ÂΩï‰∏≠ÁöÑÂÜÖÂÆπÈÉΩËÆ∞‰∏ãÊù•ÔºåÁÑ∂ÂêéÊâßË°åÂõûÊªöÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂ∞±ËØªÂèñ undo log ÈáåÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéËøõË°å insert Êìç‰Ωú„ÄÇ</p>
<h2 id="redo-log"><a href="#redo-log" class="headerlink" title="redo log"></a>redo log</h2><h3 id="üåü‰ªÄ‰πàÊòØredo-log"><a href="#üåü‰ªÄ‰πàÊòØredo-log" class="headerlink" title="üåü‰ªÄ‰πàÊòØredo log"></a>üåü‰ªÄ‰πàÊòØredo log</h3><p>redo log ÔºàÈáçÂÅöÊó•ÂøóÔºâÊòØÁâ©ÁêÜÊó•ÂøóÔºåËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂêéÁöÑÊ†∑Â≠êÔºåÂÆÉ‰øùËØÅ‰∫Ü‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß„ÄÇ</p>
<p>Âú®Êàë‰ª¨ÊâßË°åCRUDÊìç‰ΩúÊó∂ÔºåÈ¶ñÂÖà‰ºöÂú®buffer pool‰∏≠Êõ¥Êñ∞ÁºìÂ≠òÈ°µÔºåÊõ¥Êñ∞ÂÆåbuffer pool‰∏≠ÁöÑÁºìÂ≠òÈ°µ‰πãÂêéÔºåÂøÖÈ°ªË¶ÅÂÜô‰∏ÄÊù°redo logÔºåËøôÊ†∑ÊâçËÉΩËÆ∞ÂΩï‰∏ãÊù•Êàë‰ª¨ÂØπÊï∞ÊçÆÂ∫ìÂÅöÁöÑ‰øÆÊîπ</p>
<p><strong>redo logÊú¨Ë¥®ÊòØ‰øùËØÅ‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºå‰øÆÊîπÁöÑÊï∞ÊçÆÁªùÂØπ‰∏ç‰ºö‰∏¢Â§±</strong></p>
<h3 id="üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®redo-log"><a href="#üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®redo-log" class="headerlink" title="üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®redo log"></a>üåü‰∏∫‰ªÄ‰πàË¶ÅÁî®redo log</h3><p>redo logÂèØ‰ª•‰øùËØÅÊàë‰ª¨‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºåÂ¶ÇÊûú‰∫ãÂä°‰∏≠ÁöÑÂ¢ûÂà†ÊîπSQLËØ≠Âè•Êõ¥Êñ∞ÁöÑÁºìÂ≠òÈ°µËøòÊ≤°ÊúâÂà∑Âà∞Á£ÅÁõò‰∏äÂéªÔºåÊ≠§Êó∂MySQLÂÆïÊú∫‰∫ÜÔºåÂ∞±ÂèØ‰ª•Êääredo logÈáçÂÅö‰∏ÄÈÅçÔºåÊÅ¢Â§çÂá∫Êù•‰∫ãÂä°ÂΩìÂâçÊõ¥Êñ∞ÁöÑÁºìÂ≠òÈ°µÔºåÁÑ∂ÂêéÂÜçÊääÁºìÂ≠òÈ°µÂà∑Âà∞Á£ÅÁõòÂ∞±ÂèØ‰ª•‰∫Ü</p>
<p>ËøôÂ∞±ÊòØ <strong>WAL ÔºàWrite-Ahead LoggingÔºâÊäÄÊúØ</strong>„ÄÇ<strong>WAL ÊäÄÊúØÊåáÁöÑÊòØÔºå MySQL ÁöÑÂÜôÊìç‰ΩúÂπ∂‰∏çÊòØÁ´ãÂàªÂÜôÂà∞Á£ÅÁõò‰∏äÔºåËÄåÊòØÂÖàÂÜôÊó•ÂøóÔºåÁÑ∂ÂêéÂú®ÂêàÈÄÇÁöÑÊó∂Èó¥ÂÜçÂÜôÂà∞Á£ÅÁõò‰∏ä</strong>„ÄÇ</p>
<img src="https://img.jwt1399.top/img/202303252152643.png" style="zoom: 33%;" />

<p><img src="https://img.jwt1399.top/img/202303242237958.png"></p>
<h3 id="üåüredo-logÊØîÁõ¥Êé•ËêΩÁõòÁöÑ‰ºòÁÇπÔºü"><a href="#üåüredo-logÊØîÁõ¥Êé•ËêΩÁõòÁöÑ‰ºòÁÇπÔºü" class="headerlink" title="üåüredo logÊØîÁõ¥Êé•ËêΩÁõòÁöÑ‰ºòÁÇπÔºü"></a>üåüredo logÊØîÁõ¥Êé•ËêΩÁõòÁöÑ‰ºòÁÇπÔºü</h3><blockquote>
<p>redo log Ë¶ÅÂÜôÂà∞Á£ÅÁõòÔºåÊï∞ÊçÆ‰πüË¶ÅÂÜôÁ£ÅÁõòÔºå‰∏∫‰ªÄ‰πàË¶ÅÂ§öÊ≠§‰∏Ä‰∏æÔºü</p>
</blockquote>
<ul>
<li><strong>ÂÆûÁé∞‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄßÔºåËÆ© MySQL Êúâ Â¥©Ê∫ÉÊÅ¢Â§ç ÁöÑËÉΩÂäõ</strong>ÔºåËÉΩÂ§ü‰øùËØÅ MySQL Âú®‰ªª‰ΩïÊó∂Èó¥ÊÆµÁ™ÅÁÑ∂Â¥©Ê∫ÉÔºåÈáçÂêØÂêé‰πãÂâçÂ∑≤Êèê‰∫§ÁöÑËÆ∞ÂΩïÈÉΩ‰∏ç‰ºö‰∏¢Â§±Ôºõ</li>
<li><strong>Â∞ÜÂÜôÊìç‰Ωú‰ªé„ÄåÈöèÊú∫ÂÜô„ÄçÂèòÊàê‰∫Ü„ÄåÈ°∫Â∫èÂÜô„Äç</strong>Ôºåredo log ÁöÑÂÜôÊñπÂºè‰ΩøÁî®‰∫ÜËøΩÂä†ÔºåÊó•ÂøóÊìç‰ΩúÊòØ<strong>È°∫Â∫èÂÜô</strong>ÔºåÁ£ÅÁõòÊìç‰ΩúÊòØ<strong>ÈöèÊú∫ÂÜô</strong>ÔºåÊèêÂçá MySQL ÂÜôÂÖ•Á£ÅÁõòÁöÑÊÄßËÉΩ„ÄÇ</li>
</ul>
<h3 id="üåüredo-log-‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü"><a href="#üåüredo-log-‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü" class="headerlink" title="üåüredo log ‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü"></a>üåüredo log ‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü</h3><p>ÊâßË°å‰∏Ä‰∏™‰∫ãÂä°ÁöÑËøáÁ®ã‰∏≠Ôºå‰∫ßÁîüÁöÑ redo log ‰πü‰∏çÊòØÁõ¥Êé•ÂÜôÂÖ•Á£ÅÁõòÁöÑÔºåÂõ†‰∏∫ËøôÊ†∑‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑ I&#x2F;O Êìç‰ΩúÔºåËÄå‰∏îÁ£ÅÁõòÁöÑËøêË°åÈÄüÂ∫¶ËøúÊÖ¢‰∫éÂÜÖÂ≠ò„ÄÇ</p>
<p>redo log ‰πüÊúâËá™Â∑±ÁöÑÁºìÂ≠ò‚Äî‚Äî <strong>redo log buffer</strong>ÔºåÊØèÂΩì‰∫ßÁîü‰∏ÄÊù° redo log Êó∂Ôºå‰ºöÂÖàÂÜôÂÖ•Âà∞ redo log bufferÔºåÂêéÁª≠Âú®ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇredo log buffer ÈªòËÆ§Â§ßÂ∞è 16 MBÔºåÂèØ‰ª•ÈÄöËøá <code>innodb_log_Buffer_size</code> ÂèÇÊï∞Âä®ÊÄÅÁöÑË∞ÉÊï¥Â§ßÂ∞èÔºåÂ¢ûÂ§ßÂÆÉÁöÑÂ§ßÂ∞èÂèØ‰ª•ËÆ© MySQL Â§ÑÁêÜ„ÄåÂ§ß‰∫ãÂä°„ÄçÊòØ‰∏çÂøÖÂÜôÂÖ•Á£ÅÁõòÔºåËøõËÄåÊèêÂçáÂÜô IO ÊÄßËÉΩ„ÄÇ</p>
<p>Âà∑ÁõòÊó∂Êú∫Ôºö</p>
<ul>
<li>MySQL Ê≠£Â∏∏ÂÖ≥Èó≠Êó∂Ôºõ</li>
<li>ÂΩì redo log buffer ‰∏≠ËÆ∞ÂΩïÁöÑÂÜôÂÖ•ÈáèÂ§ß‰∫é redo log buffer ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑ‰∏ÄÂçäÊó∂Ôºå‰ºöËß¶ÂèëËêΩÁõòÔºõ</li>
<li>InnoDB ÁöÑÂêéÂè∞Á∫øÁ®ãÊØèÈöî 1 ÁßíÔºåÂ∞Ü redo log buffer ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇ</li>
<li>ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÊ†πÊçÆÈÖçÁΩÆÂèÇÊï∞ <code>innodb_flush_log_at_trx_commit</code>Êù•Á°ÆÂÆöÂà∑ÁõòÊó∂Êú∫</li>
</ul>
<p>ÂèÇÊï∞ <code>innodb_flush_log_at_trx_commit</code> ÂèÇÊï∞ÊéßÂà∂ÔºåÂèØÂèñÁöÑÂÄºÊúâÔºö0„ÄÅ1„ÄÅ2ÔºåÈªòËÆ§ÂÄº‰∏∫ 1ÔºåËøô‰∏â‰∏™ÂÄºÂàÜÂà´‰ª£Ë°®ÁöÑÁ≠ñÁï•Â¶Ç‰∏ãÔºö</p>
<ul>
<li>ÂΩìËÆæÁΩÆËØ•<strong>ÂèÇÊï∞‰∏∫ 0 Êó∂</strong>ÔºåË°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ ÔºåËøòÊòØ<strong>Â∞Ü redo log ÁïôÂú® redo log buffer ‰∏≠</strong> ÔºåËØ•Ê®°Âºè‰∏ãÂú®‰∫ãÂä°Êèê‰∫§Êó∂‰∏ç‰ºö‰∏ªÂä®Ëß¶ÂèëÂÜôÂÖ•Á£ÅÁõòÁöÑÊìç‰Ωú„ÄÇ<ul>
<li>ÈíàÂØπÂèÇÊï∞ 0 Ôºö‰ºöÊääÁºìÂ≠òÂú® redo log buffer ‰∏≠ÁöÑ redo log ÔºåÈÄöËøáË∞ÉÁî® <code>write()</code> ÂÜôÂà∞Êìç‰ΩúÁ≥ªÁªüÁöÑ Page CacheÔºåÁÑ∂ÂêéË∞ÉÁî® <code>fsync()</code> ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇ<strong>ÊâÄ‰ª•ÂèÇÊï∞‰∏∫ 0 ÁöÑÁ≠ñÁï•ÔºåMySQL ËøõÁ®ãÁöÑÂ¥©Ê∫É‰ºöÂØºËá¥‰∏ä‰∏ÄÁßíÈíüÊâÄÊúâ‰∫ãÂä°Êï∞ÊçÆÁöÑ‰∏¢Â§±</strong>;</li>
</ul>
</li>
<li>ÂΩìËÆæÁΩÆËØ•<strong>ÂèÇÊï∞‰∏∫ 1 Êó∂</strong>ÔºåË°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÈÉΩ<strong>Â∞ÜÁºìÂ≠òÂú® redo log buffer ÈáåÁöÑ redo log Áõ¥Êé•ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò</strong>ÔºåËøôÊ†∑ÂèØ‰ª•‰øùËØÅ MySQL ÂºÇÂ∏∏ÈáçÂêØ‰πãÂêéÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±„ÄÇ</li>
<li>ÂΩìËÆæÁΩÆËØ•<strong>ÂèÇÊï∞‰∏∫ 2 Êó∂</strong>ÔºåË°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÈÉΩÂè™ÊòØÁºìÂ≠òÂú® redo log buffer ÈáåÁöÑ redo log <strong>ÂÜôÂà∞ redo log Êñá‰ª∂ÔºåÊ≥®ÊÑèÂÜôÂÖ•Âà∞„Äå redo log Êñá‰ª∂„ÄçÂπ∂‰∏çÊÑèÂë≥ÁùÄÂÜôÂÖ•Âà∞‰∫ÜÁ£ÅÁõò</strong>ÔºåÂõ†‰∏∫Êìç‰ΩúÁ≥ªÁªüÁöÑÊñá‰ª∂Á≥ªÁªü‰∏≠Êúâ‰∏™ Page CacheÔºàPage Cache ÊòØ‰∏ìÈó®Áî®Êù•ÁºìÂ≠òÊñá‰ª∂Êï∞ÊçÆÁöÑÔºåÊâÄ‰ª•ÂÜôÂÖ•„Äå redo logÊñá‰ª∂„ÄçÊÑèÂë≥ÁùÄÂÜôÂÖ•Âà∞‰∫ÜÊìç‰ΩúÁ≥ªÁªüÁöÑÊñá‰ª∂ÁºìÂ≠ò„ÄÇ<ul>
<li>ÈíàÂØπÂèÇÊï∞ 2 ÔºöË∞ÉÁî® fsyncÔºåÂ∞ÜÁºìÂ≠òÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠ Page Cache ÈáåÁöÑ redo log ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇ<strong>ÊâÄ‰ª•ÂèÇÊï∞‰∏∫ 2 ÁöÑÁ≠ñÁï•ÔºåËæÉÂèñÂÄº‰∏∫ 0 ÊÉÖÂÜµ‰∏ãÊõ¥ÂÆâÂÖ®ÔºåÂõ†‰∏∫ MySQL ËøõÁ®ãÁöÑÂ¥©Ê∫ÉÂπ∂‰∏ç‰ºö‰∏¢Â§±Êï∞ÊçÆÔºåÂè™ÊúâÂú®Êìç‰ΩúÁ≥ªÁªüÂ¥©Ê∫ÉÊàñËÄÖÁ≥ªÁªüÊñ≠ÁîµÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ä‰∏ÄÁßíÈíüÊâÄÊúâ‰∫ãÂä°Êï∞ÊçÆÊâçÂèØËÉΩ‰∏¢Â§±</strong>„ÄÇ</li>
</ul>
</li>
</ul>
<img src="https://img.jwt1399.top/img/202308061458206.png" alt="img" style="zoom:50%;" />

<p>Ëøô‰∏â‰∏™ÂèÇÊï∞ÁöÑÊï∞ÊçÆÂÆâÂÖ®ÊÄßÂíåÂÜôÂÖ•ÊÄßËÉΩÁöÑÊØîËæÉÂ¶Ç‰∏ãÔºö</p>
<ul>
<li>Êï∞ÊçÆÂÆâÂÖ®ÊÄßÔºöÂèÇÊï∞ 1 &gt; ÂèÇÊï∞ 2 &gt; ÂèÇÊï∞ 0</li>
<li>ÂÜôÂÖ•ÊÄßËÉΩÔºöÂèÇÊï∞ 0 &gt; ÂèÇÊï∞ 2&gt; ÂèÇÊï∞ 1</li>
</ul>
<h3 id="üåüredo-logÂÜôÂÖ•ËøáÁ®ãÔºü"><a href="#üåüredo-logÂÜôÂÖ•ËøáÁ®ãÔºü" class="headerlink" title="üåüredo logÂÜôÂÖ•ËøáÁ®ãÔºü"></a>üåüredo logÂÜôÂÖ•ËøáÁ®ãÔºü</h3><blockquote>
<p>redo log Êñá‰ª∂ÂÜôÊª°‰∫ÜÊÄé‰πàÂäûÔºü</p>
</blockquote>
<p>InnoDBÊúâ 1 ‰∏™ redo log Êó•ÂøóÊñá‰ª∂ÁªÑÔºåÁî±Êúâ 2 ‰∏™ redo log Êñá‰ª∂ÁªÑÊàêÔºölogfile0 Âíå logfile1„ÄÇ</p>
<p>redo logÁªÑ‰∏≠ÁöÑ‰∏§‰∏™Êñá‰ª∂Â§ßÂ∞èÊòØÂõ∫ÂÆö‰∏îÁõ∏ÂêåÁöÑÔºàÊØè‰∏™‰∏äÈôê1GBÔºâÔºåredo logÁªÑÊòØ‰ª•<strong>Âæ™ÁéØÂÜô</strong>ÁöÑÊñπÂºèÂ∑•‰ΩúÁöÑÔºå‰ªéÂ§¥ÂºÄÂßãÂÜôÔºåÂÜôÂà∞Êú´Â∞æÂ∞±ÂèàÂõûÂà∞ÂºÄÂ§¥ÔºåÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÁéØÂΩ¢„ÄÇÂÖàÂÜô logfile0 Êñá‰ª∂ÔºåÂΩì logfile0 Êñá‰ª∂Ë¢´ÂÜôÊª°ÁöÑÊó∂ÂÄôÔºå‰ºöÂàáÊç¢Ëá≥ logfile1 Êñá‰ª∂ÔºåÂΩì logfile1 Êñá‰ª∂‰πüË¢´ÂÜôÊª°Êó∂Ôºå‰ºöÂàáÊç¢Âõû logfile0 Êñá‰ª∂„ÄÇ</p>
<p>ÈöèÁùÄÁ≥ªÁªüËøêË°åÔºåBuffer Pool ÁöÑËÑèÈ°µÂà∑Êñ∞Âà∞‰∫ÜÁ£ÅÁõò‰∏≠Ôºå redo log ÂØπÂ∫îÁöÑËÆ∞ÂΩïÊ≤°Áî®‰∫ÜÔºå‰ºöËÖæÂá∫Á©∫Èó¥ËÆ∞ÂΩïÊñ∞ÁöÑÊõ¥Êñ∞Êìç‰Ωú„ÄÇredo log ÊòØÂæ™ÁéØÂÜôÁöÑÊñπÂºèÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÁéØÂΩ¢ÔºåÁî® write pos Ë°®Á§∫ redo log ÂΩìÂâçËÆ∞ÂΩïÂÜôÂà∞ÁöÑ‰ΩçÁΩÆÔºåÁî® checkpoint Ë°®Á§∫ÂΩìÂâçË¶ÅÊì¶Èô§ÁöÑ‰ΩçÁΩÆ„ÄÇ</p>
<table>
<thead>
<tr>
<th><img src="https://img.jwt1399.top/img/202308061459201.png"></th>
<th><img src="https://img.jwt1399.top/img/202308061459380.png" style="zoom: 25%;" /></th>
</tr>
</thead>
</table>
<p>write pos ËøΩ‰∏ä‰∫Ü checkpointÔºåËØ¥Êòé redo log Êñá‰ª∂Êª°‰∫ÜÔºåËøôÊó∂ MySQL ‰∏çËÉΩÂÜçÊâßË°åÊñ∞ÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºå MySQL ‰ºöË¢´ÈòªÂ°ûÔºå‰ºöÂÅú‰∏ãÊù•Â∞Ü Buffer Pool ‰∏≠ÁöÑËÑèÈ°µÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠ÔºåÁÑ∂ÂêéÊ†áËÆ∞ redo log Âì™‰∫õËÆ∞ÂΩïÂèØ‰ª•Ë¢´Êì¶Èô§ÔºåÊé•ÁùÄÂØπÊóßÁöÑ redo log ËÆ∞ÂΩïËøõË°åÊì¶Èô§ÔºåÁ≠âÊì¶Èô§ÂÆåÊóßËÆ∞ÂΩïËÖæÂá∫‰∫ÜÁ©∫Èó¥Ôºåcheckpoint Â∞±‰ºöÂæÄÂêéÁßªÂä®ÔºåÁÑ∂Âêé MySQL ÊÅ¢Â§çÊ≠£Â∏∏ËøêË°åÔºåÁªßÁª≠ÊâßË°åÊñ∞ÁöÑÊõ¥Êñ∞Êìç‰Ωú„ÄÇ</p>
<h3 id="üåüredo-log-Âíå-undo-log-Âå∫Âà´Âú®Âì™Ôºü"><a href="#üåüredo-log-Âíå-undo-log-Âå∫Âà´Âú®Âì™Ôºü" class="headerlink" title="üåüredo log Âíå undo log Âå∫Âà´Âú®Âì™Ôºü"></a>üåüredo log Âíå undo log Âå∫Âà´Âú®Âì™Ôºü</h3><blockquote>
<p>ÁÆÄËø∞ undo log Âíå redo log ÁöÑ‰ΩúÁî®</p>
</blockquote>
<p>Ëøô‰∏§ÁßçÊó•ÂøóÊòØÂ±û‰∫é InnoDB Â≠òÂÇ®ÂºïÊìéÁöÑÊó•ÂøóÔºåÂÆÉ‰ª¨ÁöÑÂå∫Âà´Âú®‰∫éÔºö</p>
<ul>
<li>redo log ËÆ∞ÂΩï‰∫ÜÊ≠§Ê¨°‰∫ãÂä°„Äå<strong>ÂÆåÊàêÂêé</strong>„ÄçÁöÑÊï∞ÊçÆÁä∂ÊÄÅÔºåËÆ∞ÂΩïÁöÑÊòØÊõ¥Êñ∞<strong>‰πãÂêé</strong>ÁöÑÂÄºÔºõ<strong>‰∫ãÂä°Êèê‰∫§‰πãÂêé</strong>ÂèëÁîü‰∫ÜÂ¥©Ê∫ÉÔºåÈáçÂêØÂêé‰ºöÈÄöËøá redo log ÊÅ¢Â§ç‰∫ãÂä°</li>
<li>undo log ËÆ∞ÂΩï‰∫ÜÊ≠§Ê¨°‰∫ãÂä°„Äå<strong>ÂºÄÂßãÂâç</strong>„ÄçÁöÑÊï∞ÊçÆÁä∂ÊÄÅÔºåËÆ∞ÂΩïÁöÑÊòØÊõ¥Êñ∞<strong>‰πãÂâç</strong>ÁöÑÂÄºÔºõ<strong>‰∫ãÂä°Êèê‰∫§‰πãÂâç</strong>ÂèëÁîü‰∫ÜÂ¥©Ê∫ÉÔºåÈáçÂêØÂêé‰ºöÈÄöËøá undo log ÂõûÊªö‰∫ãÂä°</li>
</ul>
<h2 id="binlog"><a href="#binlog" class="headerlink" title="binlog"></a>binlog</h2><h3 id="üåü‰ªÄ‰πàÊòØbinlog"><a href="#üåü‰ªÄ‰πàÊòØbinlog" class="headerlink" title="üåü‰ªÄ‰πàÊòØbinlog"></a>üåü‰ªÄ‰πàÊòØbinlog</h3><p><code>binlog</code> ÊòØÈÄªËæëÊó•ÂøóÔºåbinlog Êñá‰ª∂ÊòØËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÂèòÊõ¥ÂíåË°®Êï∞ÊçÆ‰øÆÊîπÁöÑÊó•ÂøóÔºå‰∏ç‰ºöËÆ∞ÂΩïÊü•ËØ¢Á±ªÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç SELECT Âíå SHOW Êìç‰Ωú„ÄÇ</p>
<p><code>MySQL</code>Êï∞ÊçÆÂ∫ìÁöÑ<strong>Êï∞ÊçÆÂ§á‰ªΩ„ÄÅ‰∏ªÂ§á„ÄÅ‰∏ª‰∏ª„ÄÅ‰∏ª‰ªé</strong>ÈÉΩÁ¶ª‰∏çÂºÄ<code>binlog</code>ÔºåÈúÄË¶Å‰æùÈù†<code>binlog</code>Êù•ÂêåÊ≠•Êï∞ÊçÆÔºå‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</p>
<h3 id="üåübinlogÁöÑ‰∏âÁßçÊ†ºÂºèÔºü"><a href="#üåübinlogÁöÑ‰∏âÁßçÊ†ºÂºèÔºü" class="headerlink" title="üåübinlogÁöÑ‰∏âÁßçÊ†ºÂºèÔºü"></a>üåübinlogÁöÑ‰∏âÁßçÊ†ºÂºèÔºü</h3><p>STATEMENT(ÈªòËÆ§Ê†ºÂºè)„ÄÅROW„ÄÅ MIXEDÔºö</p>
<ul>
<li><p><strong>STATEMENT</strong>ÔºöÊØè‰∏ÄÊù°‰øÆÊîπÊï∞ÊçÆÁöÑ SQL ÈÉΩ‰ºöË¢´ËÆ∞ÂΩïÂà∞ binlog ‰∏≠Ôºå‰∏ª‰ªéÂ§çÂà∂‰∏≠ slave Á´ØÂÜçÊ†πÊçÆ SQL ËØ≠Âè•ÈáçÁé∞„ÄÇ</p>
<ul>
<li>Áº∫Èô∑ÔºöSTATEMENT ÊúâÂä®ÊÄÅÂáΩÊï∞ÁöÑÈóÆÈ¢òÔºåÊØîÂ¶ÇÁî®‰∫Ü uuid ÊàñËÄÖ now Ëøô‰∫õÂáΩÊï∞ÔºåÂú®‰∏ªÂ∫ì‰∏äÊâßË°åÁöÑÁªìÊûúÂπ∂‰∏çÊòØ‰Ω†Âú®‰ªéÂ∫ìÊâßË°åÁöÑÁªìÊûúÔºåËøôÁßçÈöèÊó∂Âú®ÂèòÁöÑÂáΩÊï∞‰ºöÂØºËá¥Â§çÂà∂ÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥</li>
</ul>
</li>
<li><p><strong>ROW</strong>ÔºöËÆ∞ÂΩïË°åÊï∞ÊçÆÊúÄÁªàË¢´‰øÆÊîπÊàê‰ªÄ‰πàÊ†∑‰∫ÜÔºå‰∏ç‰ºöÂá∫Áé∞ STATEMENT ‰∏ãÂä®ÊÄÅÂáΩÊï∞ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<ul>
<li>Áº∫Èô∑Ôºö‰ΩÜ ROW ÁöÑÁº∫ÁÇπÊòØÊØèË°åÊï∞ÊçÆÁöÑÂèòÂåñÁªìÊûúÈÉΩ‰ºöË¢´ËÆ∞ÂΩïÔºåÊØîÂ¶ÇÊâßË°åÊâπÈáè update ËØ≠Âè•ÔºåÊõ¥Êñ∞Â§öÂ∞ëË°åÊï∞ÊçÆÂ∞±‰ºö‰∫ßÁîüÂ§öÂ∞ëÊù°ËÆ∞ÂΩïÔºå‰Ωø binlog Êñá‰ª∂ËøáÂ§ßÔºåËÄåÂú® STATEMENT Ê†ºÂºè‰∏ãÂè™‰ºöËÆ∞ÂΩï‰∏Ä‰∏™ update ËØ≠Âè•„ÄÇ</li>
</ul>
</li>
<li><p><strong>MIXED</strong>ÔºöÂåÖÂê´‰∫Ü STATEMENT Âíå ROW Ê®°ÂºèÔºåÂÆÉ‰ºöÊ†πÊçÆ‰∏çÂêåÁöÑÊÉÖÂÜµËá™Âä®‰ΩøÁî® ROW Ê®°ÂºèÂíå STATEMENT Ê®°Âºè„ÄÇ</p>
</li>
</ul>
<h3 id="üåü‰∏∫‰ªÄ‰πàÊúâ‰∫Ü-binlog-ËøòË¶ÅÊúâ-redo-logÔºü"><a href="#üåü‰∏∫‰ªÄ‰πàÊúâ‰∫Ü-binlog-ËøòË¶ÅÊúâ-redo-logÔºü" class="headerlink" title="üåü‰∏∫‰ªÄ‰πàÊúâ‰∫Ü binlog ËøòË¶ÅÊúâ redo logÔºü"></a>üåü‰∏∫‰ªÄ‰πàÊúâ‰∫Ü binlog ËøòË¶ÅÊúâ redo logÔºü</h3><p>ÊúÄÂºÄÂßã MySQL ÈáåÂπ∂Ê≤°Êúâ InnoDB ÂºïÊìéÔºåMySQL Ëá™Â∏¶ÁöÑÂºïÊìéÊòØ MyISAMÔºå‰ΩÜÊòØ MyISAM Ê≤°ÊúâÂ¥©Ê∫ÉÊÅ¢Â§çÔºàcrash-safeÔºâ ÁöÑËÉΩÂäõÔºåbinlog Êó•ÂøóÂè™ËÉΩÁî®‰∫éÂΩíÊ°£„ÄÇÊâÄ‰ª• InnoDB ‰ΩøÁî® redo log Êù•ÂÆûÁé∞ crash-safe ËÉΩÂäõ„ÄÇ</p>
<h3 id="üåüredo-log-Âíå-binlog-Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü"><a href="#üåüredo-log-Âíå-binlog-Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü" class="headerlink" title="üåüredo log Âíå binlog Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü"></a>üåüredo log Âíå binlog Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü</h3><ul>
<li>binlog ÊòØ MySQL ÁöÑ Server Â±ÇÂÆûÁé∞ÁöÑÊó•ÂøóÔºåÊâÄÊúâÂ≠òÂÇ®ÂºïÊìéÈÉΩÂèØ‰ΩøÁî®Ôºõbinlog ÊòØËøΩÂä†ÂÜôÔºåÂÜôÊª°‰∏Ä‰∏™Êñá‰ª∂ÔºåÂ∞±ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÁªßÁª≠ÂÜôÔºå‰∏ç‰ºöË¶ÜÁõñ‰ª•ÂâçÁöÑÊó•ÂøóÔºå‰øùÂ≠òÁöÑÊòØÂÖ®ÈáèÁöÑÊó•Âøó„ÄÇbinlog Áî®‰∫éÂ§á‰ªΩÊÅ¢Â§ç„ÄÅ‰∏ª‰ªéÂ§çÂà∂„ÄÇ</li>
<li>redo log ÊòØ Innodb Â≠òÂÇ®ÂºïÊìéÂÆûÁé∞ÁöÑÊó•ÂøóÔºõredo log ÊòØÂæ™ÁéØÂÜôÔºåÊó•ÂøóÁ©∫Èó¥Â§ßÂ∞èÊòØÂõ∫ÂÆöÔºåÂÖ®ÈÉ®ÂÜôÊª°Â∞±‰ªéÂ§¥ÂºÄÂßãÔºå‰øùÂ≠òÊú™Ë¢´Âà∑ÂÖ•Á£ÅÁõòÁöÑËÑèÈ°µÊó•Âøó„ÄÇredo log Áî®‰∫éÊéâÁîµÁ≠âÊïÖÈöúÊÅ¢Â§ç„ÄÇ</li>
</ul>
<h3 id="üåü‰∏ª‰ªéÂ§çÂà∂ÊòØÊÄé‰πàÂÆûÁé∞Ôºü"><a href="#üåü‰∏ª‰ªéÂ§çÂà∂ÊòØÊÄé‰πàÂÆûÁé∞Ôºü" class="headerlink" title="üåü‰∏ª‰ªéÂ§çÂà∂ÊòØÊÄé‰πàÂÆûÁé∞Ôºü"></a>üåü‰∏ª‰ªéÂ§çÂà∂ÊòØÊÄé‰πàÂÆûÁé∞Ôºü</h3><p>MySQL ‰∏ª‰ªéÂ§çÂà∂‰æùËµñ‰∫é binlog „ÄÇÂ§çÂà∂ÁöÑËøáÁ®ãÂ∞±ÊòØÂ∞Ü binlog ‰∏≠ÁöÑÊï∞ÊçÆ‰ªé‰∏ªÂ∫ì‰º†ËæìÂà∞‰ªéÂ∫ì‰∏ä„ÄÇËøô‰∏™ËøáÁ®ã‰∏ÄËà¨ÊòØ<strong>ÂºÇÊ≠•</strong>ÁöÑ</p>
<p>MySQL ÈõÜÁæ§ÁöÑ‰∏ª‰ªéÂ§çÂà∂ËøáÁ®ãÊ¢≥ÁêÜÊàê 3 ‰∏™Èò∂ÊÆµÔºö</p>
<ul>
<li><strong>ÂÜôÂÖ• Binlog</strong>Ôºö‰∏ªÂ∫ìÂÜô binlog Êó•ÂøóÔºåÊèê‰∫§‰∫ãÂä°ÔºåÂπ∂Êõ¥Êñ∞Êú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ</li>
<li><strong>ÂêåÊ≠• Binlog</strong>ÔºöÊää binlog Â§çÂà∂Âà∞ÊâÄÊúâ‰ªéÂ∫ì‰∏äÔºåÊØè‰∏™‰ªéÂ∫ìÊää binlog ÂÜôÂà∞ÊöÇÂ≠òÊó•Âøó‰∏≠„ÄÇ</li>
<li><strong>ÂõûÊîæ Binlog</strong>ÔºöÂõûÊîæ binlogÔºåÂπ∂Êõ¥Êñ∞Â≠òÂÇ®ÂºïÊìé‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ</li>
</ul>
<p>‰ªéÂ∫ì‰ºöÂàõÂª∫‰∏Ä‰∏™‰∏ìÈó®ÁöÑ I&#x2F;O Á∫øÁ®ãÔºåËøûÊé•‰∏ªÂ∫ìÁöÑ log dump Á∫øÁ®ãÔºåÊù•Êé•Êî∂‰∏ªÂ∫ìÁöÑ binlog Êó•ÂøóÔºåÂÜçÊää binlog ‰ø°ÊÅØÂÜôÂÖ• relay log ÁöÑ‰∏≠ÁªßÊó•ÂøóÈáåÔºåÂÜçËøîÂõûÁªô‰∏ªÂ∫ì‚ÄúÂ§çÂà∂ÊàêÂäü‚ÄùÁöÑÂìçÂ∫î„ÄÇ‰ªéÂ∫ì‰ºöÂàõÂª∫‰∏Ä‰∏™Áî®‰∫éÂõûÊîæ binlog ÁöÑÁ∫øÁ®ãÔºåÂéªËØª relay log ‰∏≠ÁªßÊó•ÂøóÔºåÁÑ∂ÂêéÂõûÊîæ binlog Êõ¥Êñ∞Â≠òÂÇ®ÂºïÊìé‰∏≠ÁöÑÊï∞ÊçÆÔºåÊúÄÁªàÂÆûÁé∞‰∏ª‰ªéÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄß„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202308061459452.png"></p>
<h3 id="üåübinlog-‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü"><a href="#üåübinlog-‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü" class="headerlink" title="üåübinlog ‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü"></a>üåübinlog ‰ªÄ‰πàÊó∂ÂÄôÂà∑ÁõòÔºü</h3><p>‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÔºåÂÖàÊääÊó•ÂøóÂÜôÂà∞<code>binlog cache</code>Ôºå‰∫ãÂä°Êèê‰∫§ÁöÑÊó∂ÂÄôÔºåÂÜçÊää<code>binlog cache</code>ÂÜôÂà∞<code>page cache</code>‰∏≠ÔºåÂÜçË∞ÉÁî® fsync Â∞ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÁöÑ <code>binlog</code> Êñá‰ª∂‰∏≠Ôºå‰ΩÜÈ¢ëÁπÅÁöÑ fsync ‰ºöÂØºËá¥Á£ÅÁõòÁöÑ I&#x2F;O ÂçáÈ´ò„ÄÇ</p>
<img src="https://img.jwt1399.top/img/202308061459438.png" alt="binlog cach" style="zoom: 33%;" />

<p>MySQLÊèê‰æõ‰∏Ä‰∏™ <code>sync_binlog</code> ÂèÇÊï∞Êù•ÊéßÂà∂Êï∞ÊçÆÂ∫ìÁöÑ binlog Âà∑Âà∞Á£ÅÁõò‰∏äÁöÑÈ¢ëÁéáÔºö</p>
<ul>
<li>sync_binlog &#x3D; 0 ÁöÑÊó∂ÂÄôÔºåË°®Á§∫ÊØèÊ¨°Êèê‰∫§‰∫ãÂä°ÈÉΩÂè™ÂÜôÂÖ•<code>page cache</code>Ôºå‰∏ç fsyncÔºåÂêéÁª≠‰∫§Áî±Êìç‰ΩúÁ≥ªÁªüÂÜ≥ÂÆö‰ΩïÊó∂Â∞ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºõÔºàÈªòËÆ§ËÆæÁΩÆÔºâ</li>
<li>sync_binlog &#x3D; 1 ÁöÑÊó∂ÂÄôÔºåË°®Á§∫ÊØèÊ¨°Êèê‰∫§‰∫ãÂä°ÈÉΩ‰ºöÂÜôÂÖ•<code>page cache</code>ÔºåÁÑ∂ÂêéÈ©¨‰∏äÊâßË°å fsyncÔºõ</li>
<li>sync_binlog &#x3D; N(N&gt;1) ÁöÑÊó∂ÂÄôÔºåË°®Á§∫ÊØèÊ¨°Êèê‰∫§‰∫ãÂä°ÈÉΩ‰ºöÂÜôÂÖ•<code>page cache</code>Ôºå‰ΩÜÁ¥ØÁßØ N ‰∏™‰∫ãÂä°ÂêéÊâç fsync„ÄÇ</li>
</ul>
<hr>
<p>Âú®MySQL‰∏≠Á≥ªÁªüÈªòËÆ§ÁöÑËÆæÁΩÆÊòØ sync_binlog &#x3D; 0Ôºå‰πüÂ∞±ÊòØ‰∏çÂÅö‰ªª‰ΩïÂº∫Âà∂ÊÄßÁöÑÁ£ÅÁõòÂà∑Êñ∞Êåá‰ª§ÔºåËøôÊó∂ÂÄôÁöÑÊÄßËÉΩÊòØÊúÄÂ•ΩÁöÑÔºå‰ΩÜÊòØÈ£éÈô©‰πüÊòØÊúÄÂ§ßÁöÑ„ÄÇÂõ†‰∏∫‰∏ÄÊó¶‰∏ªÊú∫ÂèëÁîüÂºÇÂ∏∏ÈáçÂêØÔºåËøòÊ≤°ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÁöÑÊï∞ÊçÆÂ∞±‰ºö‰∏¢Â§±„ÄÇ</p>
<p>ËÄåÂΩì sync_binlog ËÆæÁΩÆ‰∏∫ 1 ÁöÑÊó∂ÂÄôÔºåÊòØÊúÄÂÆâÂÖ®‰ΩÜÊòØÊÄßËÉΩÊçüËÄóÊúÄÂ§ßÁöÑËÆæÁΩÆ„ÄÇÂõ†‰∏∫ÂΩìËÆæÁΩÆ‰∏∫ 1 ÁöÑÊó∂ÂÄôÔºåÂç≥‰Ωø‰∏ªÊú∫ÂèëÁîüÂºÇÂ∏∏ÈáçÂêØÔºåÊúÄÂ§ö‰∏¢Â§±‰∏Ä‰∏™‰∫ãÂä°ÁöÑ binlogÔºåËÄåÂ∑≤ÁªèÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÁöÑÊï∞ÊçÆÂ∞±‰∏ç‰ºöÊúâÂΩ±ÂìçÔºå‰∏çËøáÂ∞±ÊòØÂØπÂÜôÂÖ•ÊÄßËÉΩÂΩ±ÂìçÂ§™Â§ß„ÄÇ</p>
<p>Â¶ÇÊûúËÉΩÂÆπÂ∞ëÈáè‰∫ãÂä°ÁöÑ binlog Êó•Âøó‰∏¢Â§±ÁöÑÈ£éÈô©Ôºå‰∏∫‰∫ÜÊèêÈ´òÂÜôÂÖ•ÁöÑÊÄßËÉΩÔºå‰∏ÄËà¨‰ºö sync_binlog ËÆæÁΩÆ‰∏∫ 100~1000 ‰∏≠ÁöÑÊüê‰∏™Êï∞ÂÄº„ÄÇ</p>
<h3 id="üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏§Èò∂ÊÆµÊèê‰∫§Ôºü"><a href="#üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏§Èò∂ÊÆµÊèê‰∫§Ôºü" class="headerlink" title="üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏§Èò∂ÊÆµÊèê‰∫§Ôºü"></a>üåü‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏§Èò∂ÊÆµÊèê‰∫§Ôºü</h3><p>‰∫ãÂä°Êèê‰∫§ÂêéÔºåredo log Âíå binlog ÈÉΩË¶ÅÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºå‰ΩÜÊòØËøô‰∏§‰∏™ÊòØÁã¨Á´ãÁöÑÈÄªËæëÔºåÂèØËÉΩÂá∫Áé∞ÂçäÊàêÂäüÁöÑÁä∂ÊÄÅÔºåÈÄ†Êàê‰∏§‰ªΩÊó•Âøó‰πãÈó¥ÁöÑÈÄªËæë‰∏ç‰∏ÄËá¥„ÄÇ<strong>MySQL ‰∏∫‰∫ÜÈÅøÂÖçÂá∫Áé∞‰∏§‰ªΩÊó•Âøó‰πãÈó¥ÁöÑÈÄªËæë‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢òÔºå‰ΩøÁî®‰∫Ü„Äå‰∏§Èò∂ÊÆµÊèê‰∫§„ÄçÊù•Ëß£ÂÜ≥</strong>Ôºå‰∏§Èò∂ÊÆµÊèê‰∫§ÂÖ∂ÂÆûÊòØÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄßÂçèËÆÆÔºåÂÆÉÂèØ‰ª•‰øùËØÅÂ§ö‰∏™ÈÄªËæëÊìç‰ΩúË¶Å‰∏çÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰∏çÂÖ®ÈÉ®Â§±Ë¥•Ôºå‰∏ç‰ºöÂá∫Áé∞ÂçäÊàêÂäüÁöÑÁä∂ÊÄÅ„ÄÇ</p>
<ul>
<li><strong>Â¶ÇÊûúÂú®Â∞Ü redo log Âà∑ÂÖ•Âà∞Á£ÅÁõò‰πãÂêéÔºå MySQL Á™ÅÁÑ∂ÂÆïÊú∫‰∫ÜÔºåËÄå binlog ËøòÊ≤°ÊúâÊù•ÂæóÂèäÂÜôÂÖ•</strong>„ÄÇMySQL ÈáçÂêØÂêéÔºåÈÄöËøá redo log ËÉΩÂ∞Ü Buffer Pool ÊÅ¢Â§çÂà∞Êñ∞ÂÄºÔºå‰ΩÜÊòØ binlog ÈáåÈù¢Ê≤°ÊúâËÆ∞ÂΩïËøôÊù°Êõ¥Êñ∞ËØ≠Âè•ÔºåÂú®‰∏ª‰ªéÊû∂ÊûÑ‰∏≠Ôºåbinlog ‰ºöË¢´Â§çÂà∂Âà∞‰ªéÂ∫ìÔºåÁî±‰∫é binlog ‰∏¢Â§±‰∫ÜËøôÊù°Êõ¥Êñ∞ËØ≠Âè•Ôºå‰ªéÂ∫ìÁöÑËøô‰∏ÄË°åÊòØÊóßÂÄºÔºå‰∏ª‰ªé‰∏ç‰∏ÄËá¥„ÄÇ</li>
<li><strong>Â¶ÇÊûúÂú®Â∞Ü binlog Âà∑ÂÖ•Âà∞Á£ÅÁõò‰πãÂêéÔºå MySQL Á™ÅÁÑ∂ÂÆïÊú∫‰∫ÜÔºåËÄå redo log ËøòÊ≤°ÊúâÊù•ÂæóÂèäÂÜôÂÖ•</strong>„ÄÇÁî±‰∫é redo log ËøòÊ≤°ÂÜôÔºåÂ¥©Ê∫ÉÊÅ¢Â§ç‰ª•ÂêéËøô‰∏™‰∫ãÂä°Êó†ÊïàÔºåÊï∞ÊçÆÊòØÊóßÂÄºÔºåËÄå binlog ÈáåÈù¢ËÆ∞ÂΩï‰∫ÜËøôÊù°Êõ¥Êñ∞ËØ≠Âè•ÔºåÂú®‰∏ª‰ªéÊû∂ÊûÑ‰∏≠Ôºåbinlog ‰ºöË¢´Â§çÂà∂Âà∞‰ªéÂ∫ìÔºå‰ªéÂ∫ìÊâßË°å‰∫ÜËøôÊù°Êõ¥Êñ∞ËØ≠Âè•ÔºåËøô‰∏ÄË°åÂ≠óÊÆµÊòØÊñ∞ÂÄºÔºå‰∏é‰∏ªÂ∫ìÁöÑÂÄº‰∏ç‰∏ÄËá¥ÊÄß„ÄÇ</li>
</ul>
<p>ÊâÄ‰ª•‰ºöÈÄ†Êàê‰∏ª‰ªéÁéØÂ¢ÉÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊÄß„ÄÇÂõ†‰∏∫ redo log ÂΩ±Âìç‰∏ªÂ∫ìÁöÑÊï∞ÊçÆÔºåbinlog ÂΩ±Âìç‰ªéÂ∫ìÁöÑÊï∞ÊçÆÔºåredo log Âíå binlog ÂøÖÈ°ª‰øùÊåÅ‰∏ÄËá¥„ÄÇ</p>
<p><strong>‰∏§Èò∂ÊÆµÊèê‰∫§ÊääÂçï‰∏™‰∫ãÂä°ÁöÑÊèê‰∫§ÊãÜÂàÜÊàê‰∫Ü 2 ‰∏™Èò∂ÊÆµÔºåÂàÜÂà´ÊòØÂáÜÂ§á(Prepare)Èò∂ÊÆµÂíåÊèê‰∫§(Commit)Èò∂ÊÆµ</strong>ÔºåÊØè‰∏™Èò∂ÊÆµÈÉΩÁî±ÂçèË∞ÉËÄÖÂíåÂèÇ‰∏éËÄÖÂÖ±ÂêåÂÆåÊàê„ÄÇ</p>
<h3 id="üåü‰∏§Èò∂ÊÆµÊèê‰∫§ÁöÑËøáÁ®ãÊòØÊÄéÊ†∑ÁöÑÔºü"><a href="#üåü‰∏§Èò∂ÊÆµÊèê‰∫§ÁöÑËøáÁ®ãÊòØÊÄéÊ†∑ÁöÑÔºü" class="headerlink" title="üåü‰∏§Èò∂ÊÆµÊèê‰∫§ÁöÑËøáÁ®ãÊòØÊÄéÊ†∑ÁöÑÔºü"></a>üåü‰∏§Èò∂ÊÆµÊèê‰∫§ÁöÑËøáÁ®ãÊòØÊÄéÊ†∑ÁöÑÔºü</h3><p>Âú® MySQL ÁöÑ InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠ÔºåÂºÄÂêØ binlog ÁöÑÊÉÖÂÜµ‰∏ãÔºåMySQL ‰ºöÂêåÊó∂Áª¥Êä§ binlog Êó•Âøó‰∏é InnoDB ÁöÑ redo logÔºå‰∏∫‰∫Ü‰øùËØÅËøô‰∏§‰∏™Êó•ÂøóÁöÑ‰∏ÄËá¥ÊÄßÔºåMySQL ‰ΩøÁî®‰∫Ü<strong>ÂÜÖÈÉ® XA ‰∫ãÂä°</strong>ÔºåÂÜÖÈÉ® XA ‰∫ãÂä°Áî± binlog ‰Ωú‰∏∫ÂçèË∞ÉËÄÖÔºåÂ≠òÂÇ®ÂºïÊìéÊòØÂèÇ‰∏éËÄÖ„ÄÇ</p>
<p>ÂΩìÂÆ¢Êà∑Á´ØÊâßË°å commit ËØ≠Âè•ÊàñËÄÖÂú®Ëá™Âä®Êèê‰∫§ÁöÑÊÉÖÂÜµ‰∏ãÔºåMySQL ÂÜÖÈÉ®ÂºÄÂêØ‰∏Ä‰∏™ XA ‰∫ãÂä°Ôºå<strong>ÂàÜ‰∏§Èò∂ÊÆµÊù•ÂÆåÊàê XA ‰∫ãÂä°ÁöÑÊèê‰∫§</strong>„ÄÇ</p>
<p>‰∫ãÂä°ÁöÑÊèê‰∫§ËøáÁ®ãÊúâ‰∏§‰∏™Èò∂ÊÆµÔºå<strong>Â∞Ü redo log ÁöÑÂÜôÂÖ•ÊãÜÊàê‰∫Ü‰∏§‰∏™Ê≠•È™§Ôºöprepare Âíå commitÔºå‰∏≠Èó¥ÂÜçÁ©øÊèíÂÜôÂÖ•binlog</strong>Ôºö</p>
<ul>
<li><strong>prepare Èò∂ÊÆµ</strong>ÔºöÂ∞Ü ÂÜÖÈÉ® XA ‰∫ãÂä°ÁöÑ ID ÂÜôÂÖ•Âà∞ redo logÔºåÂêåÊó∂Â∞Ü redo log ÂØπÂ∫îÁöÑ‰∫ãÂä°Áä∂ÊÄÅËÆæÁΩÆ‰∏∫ prepareÔºåÁÑ∂ÂêéÂ∞Ü redo log ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇ</li>
<li><strong>commit Èò∂ÊÆµ</strong>ÔºöÊää ÂÜÖÈÉ® XA ‰∫ãÂä°ÁöÑ ID ÂÜôÂÖ•Âà∞ binlogÔºåÁÑ∂ÂêéÂ∞Ü binlog ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÊé•ÁùÄË∞ÉÁî®ÂºïÊìéÁöÑÊèê‰∫§‰∫ãÂä°Êé•Âè£ÔºåÂ∞Ü redo log Áä∂ÊÄÅËÆæÁΩÆ‰∏∫ commitÔºåÊ≠§Êó∂ËØ•Áä∂ÊÄÅÂπ∂‰∏çÈúÄË¶ÅÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÂè™ÈúÄË¶Å write Âà∞Êñá‰ª∂Á≥ªÁªüÁöÑ page cache ÊàêÂäüÔºåÂè™Ë¶Å binlog ÂÜôÁ£ÅÁõòÊàêÂäüÔºåredo log ÁöÑÁä∂ÊÄÅËøòÊòØ prepare ‰πüÊ≤°ÊúâÂÖ≥Á≥ªÔºå‰∏ÄÊ†∑‰ºöË¢´ËÆ§‰∏∫‰∫ãÂä°Â∑≤ÁªèÊâßË°åÊàêÂäü„ÄÇ</li>
</ul>
<p><img src="https://img.jwt1399.top/img/202308061459157.png" alt="‰∏§Èò∂ÊÆµÊèê‰∫§"></p>
<h1 id="‚ë•ÊÄßËÉΩ‰ºòÂåñ"><a href="#‚ë•ÊÄßËÉΩ‰ºòÂåñ" class="headerlink" title="‚ë•ÊÄßËÉΩ‰ºòÂåñ"></a>‚ë•ÊÄßËÉΩ‰ºòÂåñ</h1><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/rODTq69p0NjIG-tWmJfIBg">SQL‰ºòÂåñ13ËøûÈóÆ</a></p>
<h2 id="üåüÊó•Â∏∏Â∑•‰Ωú‰∏≠Ôºå‰Ω†ÊòØÊÄé‰πà‰ºòÂåñSQLÁöÑÔºü"><a href="#üåüÊó•Â∏∏Â∑•‰Ωú‰∏≠Ôºå‰Ω†ÊòØÊÄé‰πà‰ºòÂåñSQLÁöÑÔºü" class="headerlink" title="üåüÊó•Â∏∏Â∑•‰Ωú‰∏≠Ôºå‰Ω†ÊòØÊÄé‰πà‰ºòÂåñSQLÁöÑÔºü"></a>üåüÊó•Â∏∏Â∑•‰Ωú‰∏≠Ôºå‰Ω†ÊòØÊÄé‰πà‰ºòÂåñSQLÁöÑÔºü</h2><ul>
<li><p>ÂàÜÊûêÊÖ¢Êü•ËØ¢Êó•Âøó</p>
</li>
<li><p>‰ΩøÁî®explainÊü•ÁúãÊâßË°åËÆ°Âàí</p>
</li>
<li><p>Á¥¢Âºï‰ºòÂåñ</p>
<ul>
<li>ÊúÄÈÄÇÂêàÁ¥¢ÂºïÁöÑÂàóÊòØÂá∫Áé∞Âú® <code>WHERE</code> Â≠êÂè•‰∏≠ÁöÑÂàóÔºåÊàñËøûÊé•Â≠êÂè•‰∏≠ÁöÑÂàóÔºåËÄå‰∏çÊòØÂá∫Áé∞Âú® <code>SELECT</code> ÂÖ≥ÈîÆÂ≠óÂêéÁöÑÂàó„ÄÇ</li>
<li>Á¥¢ÂºïÂàóÁöÑÂü∫Êï∞Ë∂äÂ§ßÔºåÁ¥¢ÂºïÊïàÊûúË∂äÂ•Ω„ÄÇ</li>
<li>Ê†πÊçÆÊÉÖÂÜµÂàõÂª∫Â§çÂêàÁ¥¢ÂºïÔºåÂ§çÂêàÁ¥¢ÂºïÂèØ‰ª•ÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ</li>
<li>ÈÅøÂÖçÂàõÂª∫ËøáÂ§öÁöÑÁ¥¢ÂºïÔºåÁ¥¢Âºï‰ºöÈ¢ùÂ§ñÂç†Áî®Á£ÅÁõòÁ©∫Èó¥ÔºåÈôç‰ΩéÂÜôÊìç‰ΩúÊïàÁéá„ÄÇ</li>
<li>‰∏ªÈîÆÂ∞ΩÂèØËÉΩÈÄâÊã©ËæÉÁü≠ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëÁ¥¢ÂºïÁöÑÁ£ÅÁõòÂç†Áî®ÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ</li>
<li>ÂØπÂ≠óÁ¨¶‰∏≤ËøõË°åÁ¥¢ÂºïÔºåÂ∫îËØ•ÂÆöÂà∂‰∏Ä‰∏™ÂâçÁºÄÈïøÂ∫¶ÔºåÂèØ‰ª•ËäÇÁúÅÂ§ßÈáèÁöÑÁ¥¢ÂºïÁ©∫Èó¥„ÄÇ</li>
</ul>
</li>
<li><p>ÈÅøÂÖçÂÖ®Ë°®Êâ´Êèè</p>
</li>
<li><p>ÈÅøÂÖçËøîÂõû‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆÔºàÂ¶Ç<code>select</code>ÂÖ∑‰ΩìÂ≠óÊÆµËÄå‰∏çÊòØ<code>select*</code>Ôºâ</p>
</li>
<li><p>‰ΩøÁî®ÂêàÈÄÇÁöÑÊï∞ÊçÆÁ±ªÂûãÔºàÂ¶ÇÂèØ‰ª•‰ΩøÁî®<code>int</code>Á±ªÂûãÁöÑËØùÔºåÂ∞±‰∏çË¶ÅËÆæËÆ°‰∏∫<code>varchar</code>Ôºâ</p>
</li>
<li><p>‰ºòÂåñsqlÁªìÊûÑÔºàÂ¶Ç<code>join</code>‰ºòÂåñÁ≠âÁ≠âÔºâ</p>
</li>
<li><p>ÈÄÇÂΩìÂàÜÊâπÈáèËøõË°å (Â¶ÇÊâπÈáèÊõ¥Êñ∞„ÄÅÂà†Èô§)</p>
</li>
<li><p>ÂÆöÊúüÊ∏ÖÁêÜÊó†Áî®ÁöÑÊï∞ÊçÆ</p>
</li>
<li><p>ÈÄÇÂΩìÂàÜÂ∫ìÂàÜË°®</p>
</li>
<li><p>ËØªÂÜôÂàÜÁ¶ª</p>
</li>
<li><p>Ê∑±ÂàÜÈ°µ‰ºòÂåñ</p>
</li>
</ul>
<h2 id="üåüËÅäËÅäexplainÊâßË°åËÆ°Âàí"><a href="#üåüËÅäËÅäexplainÊâßË°åËÆ°Âàí" class="headerlink" title="üåüËÅäËÅäexplainÊâßË°åËÆ°Âàí"></a>üåüËÅäËÅäexplainÊâßË°åËÆ°Âàí</h2><p>ÂΩì<code>explain</code>‰∏é<code>SQL</code>‰∏ÄËµ∑‰ΩøÁî®Êó∂ÔºåMySQLÂ∞ÜÊòæÁ§∫Êù•Ëá™‰ºòÂåñÂô®ÁöÑÊúâÂÖ≥ËØ≠Âè•ÊâßË°åËÆ°ÂàíÁöÑ‰ø°ÊÅØ„ÄÇÂç≥<code>MySQL</code>Ëß£Èáä‰∫ÜÂÆÉÂ∞ÜÂ¶Ç‰ΩïÂ§ÑÁêÜËØ•ËØ≠Âè•ÔºåÂåÖÊã¨ÊúâÂÖ≥Â¶Ç‰ΩïËøûÊé•Ë°®‰ª•Âèä‰ª•‰ΩïÁßçÈ°∫Â∫èËøûÊé•Ë°®Á≠â‰ø°ÊÅØ„ÄÇ</p>
<p>‰∏ÄËà¨Êù•ËØ¥ÔºåÊàë‰ª¨ÈúÄË¶ÅÈáçÁÇπÂÖ≥Ê≥®<code>type„ÄÅrows„ÄÅfiltered„ÄÅextra„ÄÅkey</code>„ÄÇ</p>
<p><strong>type</strong></p>
<p>typeË°®Á§∫<strong>ËøûÊé•Á±ªÂûã</strong>ÔºåÊü•ÁúãÁ¥¢ÂºïÊâßË°åÊÉÖÂÜµÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÊåáÊ†á„ÄÇ‰ª•‰∏ãÊÄßËÉΩ‰ªéÂ•ΩÂà∞Âùè‰æùÊ¨°Ôºö<code>system &gt; const &gt; eq_ref &gt; ref &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</code></p>
<ul>
<li>systemÔºöËøôÁßçÁ±ªÂûãË¶ÅÊ±ÇÊï∞ÊçÆÂ∫ìË°®‰∏≠Âè™Êúâ‰∏ÄÊù°Êï∞ÊçÆÔºåÊòØ<code>const</code>Á±ªÂûãÁöÑ‰∏Ä‰∏™Áâπ‰æãÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊòØ‰∏ç‰ºöÂá∫Áé∞ÁöÑ„ÄÇ</li>
<li>constÔºöÈÄöËøá‰∏ÄÊ¨°Á¥¢ÂºïÂ∞±ËÉΩÊâæÂà∞Êï∞ÊçÆÔºå‰∏ÄËà¨Áî®‰∫é‰∏ªÈîÆÊàñÂîØ‰∏ÄÁ¥¢Âºï‰Ωú‰∏∫Êù°‰ª∂ÔºåËøôÁ±ªÊâ´ÊèèÊïàÁéáÊûÅÈ´òÔºåÔºåÈÄüÂ∫¶ÈùûÂ∏∏Âø´„ÄÇ</li>
<li>eq_refÔºöÂ∏∏Áî®‰∫é‰∏ªÈîÆÊàñÂîØ‰∏ÄÁ¥¢ÂºïÊâ´ÊèèÔºå‰∏ÄËà¨Êåá‰ΩøÁî®‰∏ªÈîÆÁöÑÂÖ≥ËÅîÊü•ËØ¢</li>
<li>ref : Â∏∏Áî®‰∫éÈùû‰∏ªÈîÆÂíåÂîØ‰∏ÄÁ¥¢ÂºïÊâ´Êèè„ÄÇ</li>
<li>ref_or_nullÔºöËøôÁßçËøûÊé•Á±ªÂûãÁ±ª‰ºº‰∫é<code>ref</code>ÔºåÂå∫Âà´Âú®‰∫é<code>MySQL</code>‰ºöÈ¢ùÂ§ñÊêúÁ¥¢ÂåÖÂê´<code>NULL</code>ÂÄºÁöÑË°å</li>
<li>index_mergeÔºö‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÂêàÂπ∂‰ºòÂåñÊñπÊ≥ïÔºåÊü•ËØ¢‰ΩøÁî®‰∫Ü‰∏§‰∏™‰ª•‰∏äÁöÑÁ¥¢Âºï„ÄÇ</li>
<li>unique_subqueryÔºöÁ±ª‰ºº‰∫é<code>eq_ref</code>ÔºåÊù°‰ª∂Áî®‰∫Ü<code>in</code>Â≠êÊü•ËØ¢</li>
<li>index_subqueryÔºöÂå∫Âà´‰∫é<code>unique_subquery</code>ÔºåÁî®‰∫éÈùûÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂèØ‰ª•ËøîÂõûÈáçÂ§çÂÄº„ÄÇ</li>
<li>rangeÔºöÂ∏∏Áî®‰∫éËåÉÂõ¥Êü•ËØ¢ÔºåÊØîÂ¶ÇÔºöbetween ‚Ä¶ and Êàñ In Á≠âÊìç‰Ωú</li>
<li>indexÔºöÂÖ®Á¥¢ÂºïÊâ´Êèè</li>
<li>ALLÔºöÂÖ®Ë°®Êâ´Êèè</li>
</ul>
<p><strong>rows</strong></p>
<p>ËØ•ÂàóË°®Á§∫MySQL‰º∞ÁÆóË¶ÅÊâæÂà∞Êàë‰ª¨ÊâÄÈúÄÁöÑËÆ∞ÂΩïÔºåÈúÄË¶ÅËØªÂèñÁöÑË°åÊï∞„ÄÇÂØπ‰∫éInnoDBË°®ÔºåÊ≠§Êï∞Â≠óÊòØ‰º∞ËÆ°ÂÄºÔºåÂπ∂Èùû‰∏ÄÂÆöÊòØ‰∏™ÂáÜÁ°ÆÂÄº„ÄÇ</p>
<p><strong>filtered</strong></p>
<p>ËØ•ÂàóÊòØ‰∏Ä‰∏™ÁôæÂàÜÊØîÁöÑÂÄºÔºåË°®ÈáåÁ¨¶ÂêàÊù°‰ª∂ÁöÑËÆ∞ÂΩïÊï∞ÁöÑÁôæÂàÜÊØî„ÄÇÁÆÄÂçïÁÇπËØ¥ÔºåËøô‰∏™Â≠óÊÆµË°®Á§∫Â≠òÂÇ®ÂºïÊìéËøîÂõûÁöÑÊï∞ÊçÆÂú®ÁªèËøáËøáÊª§ÂêéÔºåÂâ©‰∏ãÊª°Ë∂≥Êù°‰ª∂ÁöÑËÆ∞ÂΩïÊï∞ÈáèÁöÑÊØî‰æã„ÄÇ</p>
<p><strong>extra</strong></p>
<p>ËØ•Â≠óÊÆµÂåÖÂê´ÊúâÂÖ≥MySQLÂ¶Ç‰ΩïËß£ÊûêÊü•ËØ¢ÁöÑÂÖ∂‰ªñ‰ø°ÊÅØÔºåÂÆÉ‰∏ÄËà¨‰ºöÂá∫Áé∞ËøôÂá†‰∏™ÂÄºÔºö</p>
<ul>
<li>Using filesortÔºöË°®Á§∫ÊåâÊñá‰ª∂ÊéíÂ∫èÔºå‰∏ÄËà¨ÊòØÂú®ÊåáÂÆöÁöÑÊéíÂ∫èÂíåÁ¥¢ÂºïÊéíÂ∫è‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµÊâç‰ºöÂá∫Áé∞„ÄÇ‰∏ÄËà¨ËßÅ‰∫éorder byËØ≠Âè•</li>
<li>Using index ÔºöË°®Á§∫ÊòØÂê¶Áî®‰∫ÜË¶ÜÁõñÁ¥¢Âºï„ÄÇ</li>
<li>Using temporary: Ë°®Á§∫ÊòØÂê¶‰ΩøÁî®‰∫Ü‰∏¥Êó∂Ë°®ÔºåÊÄßËÉΩÁâπÂà´Â∑ÆÔºåÈúÄË¶ÅÈáçÁÇπ‰ºòÂåñ„ÄÇ‰∏ÄËà¨Â§öËßÅ‰∫égroup byËØ≠Âè•ÔºåÊàñËÄÖunionËØ≠Âè•„ÄÇ</li>
<li>Using where : Ë°®Á§∫‰ΩøÁî®‰∫ÜwhereÊù°‰ª∂ËøáÊª§.</li>
<li>Using index conditionÔºöMySQL5.6‰πãÂêéÊñ∞Â¢ûÁöÑÁ¥¢Âºï‰∏ãÊé®„ÄÇÂú®Â≠òÂÇ®ÂºïÊìéÂ±ÇËøõË°åÊï∞ÊçÆËøáÊª§ÔºåËÄå‰∏çÊòØÂú®ÊúçÂä°Â±ÇËøáÊª§ÔºåÂà©Áî®Á¥¢ÂºïÁé∞ÊúâÁöÑÊï∞ÊçÆÂáèÂ∞ëÂõûË°®ÁöÑÊï∞ÊçÆ„ÄÇ</li>
</ul>
<p><strong>key</strong></p>
<p>ËØ•ÂàóË°®Á§∫ÂÆûÈôÖÁî®Âà∞ÁöÑÁ¥¢Âºï„ÄÇ‰∏ÄËà¨ÈÖçÂêà<code>possible_keys</code>Âàó‰∏ÄËµ∑Áúã„ÄÇ</p>
<p><strong>Ê≥®ÊÑè</strong>:ÊúâÊó∂ÂÄôÔºå<code>explain</code>ÈÖçÂêà<code>show WARNINGS; </code>ÔºàÂèØ‰ª•Êü•Áúã‰ºòÂåñÂêé,ÊúÄÁªàÊâßË°åÁöÑsqlÔºâÔºåÊïàÊûúÊõ¥‰Ω≥Âì¶„ÄÇ</p>
<h2 id="üåüÂ¶Ç‰Ωï‰ΩøÁî®Á¥¢Âºï‰ºòÂåñSQLÊü•ËØ¢Ôºü"><a href="#üåüÂ¶Ç‰Ωï‰ΩøÁî®Á¥¢Âºï‰ºòÂåñSQLÊü•ËØ¢Ôºü" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ΩøÁî®Á¥¢Âºï‰ºòÂåñSQLÊü•ËØ¢Ôºü"></a>üåüÂ¶Ç‰Ωï‰ΩøÁî®Á¥¢Âºï‰ºòÂåñSQLÊü•ËØ¢Ôºü</h2><ul>
<li>Ê∑ªÂä†ÂêàÈÄÇÁ¥¢ÂºïÔºàÂú®<code>where„ÄÅgroup by„ÄÅorder by</code>Á≠âÂêéÈù¢ÁöÑÂ≠óÊÆµÊ∑ªÂä†ÂêàÈÄÇÁ¥¢ÂºïÔºâ</li>
<li>ÈÄâÊã©ÂêàÈÄÇÁöÑÁ¥¢ÂºïÁ±ªÂûã (<code>B-tree</code>Á¥¢ÂºïÈÄÇÂêàËåÉÂõ¥Êü•ËØ¢„ÄÅÂìàÂ∏åÁ¥¢ÂºïÈÄÇÂêàÁ≠âÂÄºÊü•ËØ¢)</li>
<li>Ê≥®ÊÑè‰∏çÈÄÇÂêàÂä†Á¥¢ÂºïÁöÑÂú∫ÊôØÔºàÊï∞ÊçÆÈáèÂ∞ëÁöÑË°®ÔºåÊõ¥Êñ∞È¢ëÁπÅÁöÑÂ≠óÊÆµÔºåÂå∫ÂàÜÂ∫¶‰ΩéÁöÑÂ≠óÊÆµÔºâ</li>
<li>Âä†Á¥¢ÂºïÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅËÄÉËôëË¶ÜÁõñÁ¥¢ÂºïÔºåÂáèÂ∞ëÂõûË°®Ôºå<strong>ËÄÉËôëËÅîÂêàÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂâçÁºÄÂéüÂàô</strong></li>
<li><code>explain</code>Êü•Áúã<code>SQL</code>ÁöÑÊâßË°åËÆ°ÂàíÔºåÁ°ÆËÆ§ÊòØÂê¶‰ºöÂëΩ‰∏≠Á¥¢Âºï„ÄÇ</li>
<li>Ê≥®ÊÑèÁ¥¢ÂºïÂπ∂‰∏çÊòØË∂äÂ§öË∂äÂ•ΩÔºå<strong>ÈÄöÂ∏∏Âª∫ËÆÆÂú®Âçï‰∏™Ë°®‰∏≠‰∏çË¶ÅË∂ÖËøá5‰∏™Á¥¢Âºï</strong>„ÄÇÂõ†‰∏∫Á¥¢Âºï‰ºöÂç†Áî®Á£ÅÁõòÁ©∫Èó¥ÔºåÁ¥¢ÂºïÊõ¥Êñ∞‰ª£‰ª∑È´ò„ÄÇ</li>
</ul>
<h2 id="üåüsqlÊü•ËØ¢ÂæàÊÖ¢ÊÄé‰πàÊéíÊü•"><a href="#üåüsqlÊü•ËØ¢ÂæàÊÖ¢ÊÄé‰πàÊéíÊü•" class="headerlink" title="üåüsqlÊü•ËØ¢ÂæàÊÖ¢ÊÄé‰πàÊéíÊü•"></a>üåüsqlÊü•ËØ¢ÂæàÊÖ¢ÊÄé‰πàÊéíÊü•</h2><blockquote>
<p>ËÅäËÅäÊÖ¢SQLÁöÑ‰ºòÂåñÊÄùË∑Ø</p>
<p>MySQL ÈóÆÈ¢òÊéíÊü•ÈÉΩÊúâÂì™‰∫õÊâãÊÆµÔºü</p>
</blockquote>
<ol>
<li>Êü•ÁúãÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩïÔºåÂàÜÊûêÊÖ¢SQLÔºåÁúãÁúãÊòØÂê¶ÂëΩ‰∏≠Á¥¢ÂºïÔºåÊòØÂê¶Á¨¶ÂêàÊúÄÂ∑¶ÂâçÁºÄÂéüÂàô</li>
<li>explainÂàÜÊûêSQLÁöÑÊâßË°åËÆ°Âàí</li>
<li>profile ÂàÜÊûêÊâßË°åËÄóÊó∂</li>
<li>Optimizer TraceÂàÜÊûêËØ¶ÊÉÖ</li>
<li>Á°ÆÂÆöÈóÆÈ¢òÂπ∂ÈááÁî®Áõ∏Â∫îÁöÑÊé™ÊñΩ</li>
</ol>
<hr>
<p>ÊÖ¢Êü•ËØ¢ÂàÜÊûê‰∏âÊ≠•Êõ≤</p>
<ul>
<li><p>‰∏ÄÊ≠•Êõ≤ÔºöEXPLAINÔºà<code>explain Êü•ËØ¢ÂëΩ‰ª§</code>Ôºâ</p>
<ul>
<li>Êü•Áúã SQL ËØ≠Âè•ÊâßË°åËÆ°ÂàíÁöÑÂëΩ‰ª§</li>
<li>ÊâãÂ∑•ÊâßË°åÁöÑÊó∂ÂÄôÔºåÂú® Extra ÂàóÈáåÈù¢ÔºåÈÅøÂÖçÂá∫Áé∞<code>Use Temporary Table</code>Âíå<code>Using file sort</code>ËøôÁ±ªÂÖ≥ÈîÆÂ≠óÔºåTYPE Âàó‰∏≠‰πüÂ∞ΩÈáèÈÅøÂÖç ALL Á±ªÂûãÔºàÂÖ®Ë°®Êâ´ÊèèÔºâÂá∫Áé∞„ÄÇ</li>
</ul>
</li>
<li><p>‰∫åÊ≠•Êõ≤ÔºöPROFILEÔºà<code>show profiles</code>Ôºâ</p>
<ul>
<li>ÂèØ‰ª•ËØ¶ÁªÜÁöÑÂàóÂá∫ SQL ËØ≠Âè•Âú®ÊØè‰∏Ä‰∏™Ê≠•È™§Ê∂àËÄóÁöÑÊó∂Èó¥Ôºå<strong>ÂâçÊèêÔºàÁº∫ÁÇπÔºâÊòØÂÖàÊâßË°å‰∏ÄÈÅçËØ≠Âè•</strong>„ÄÇ</li>
<li>PROFILE ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú® client Á´ØÂÖàÊâìÂºÄÔºåÊìç‰ΩúÂ¶Ç‰∏ãÔºö<code>set session profiling = 1;</code></li>
</ul>
</li>
<li><p>‰∏âÊ≠•Êõ≤ÔºöOPTIMIZER_TRACE</p>
<ul>
<li><p>ÂèØ‰ª•ÁúãÂà∞ÂÜÖÈÉ®Êü•ËØ¢ËÆ°ÂàíÁöÑ TRACE ‰ø°ÊÅØÔºå‰ªéËÄåÂèØ‰ª•Áü•ÈÅì <strong>MySQL ÊòØÂ¶Ç‰ΩïÂú®‰ºóÂ§öÁ¥¢Âºï‰∏≠ÈÄâ‰∏≠ÊúÄ‚ÄúÊ£í‚ÄùÁöÑÈÇ£‰∏™</strong>„ÄÇ</p>
</li>
<li><p>‰∏ÄËà¨Êù•ËØ¥ÔºåËøô‰∏™ÊúÄ‚ÄúÊ£í‚ÄùÁöÑÁ¥¢ÂºïÈÄâÈîô‰∫ÜÔºåÂ∞±ÈúÄË¶ÅÊ†πÊçÆ OPTIMIZER_TRACE ÁöÑ‰ø°ÊÅØÊù•Âà§Êñ≠‰∏∫‰ªÄ‰πà‰ºöÈÄâÈîôÔºåÊòØ MySQL ÁöÑÈÖçÁΩÆÂéüÂõ†ÔºåËøòÊòØ SQL Êüê‰∫õÂú∞ÊñπÂÜôÁöÑ‰∏çÂ•ΩÂØºËá¥ MySQL ËØØÂà§‰∫Ü„ÄÇ</p>
<p>ÂºÄÂêØËøô‰∏™ÂäüËÉΩÁöÑÊñπÂºèÂ¶Ç‰∏ãÔºö<code>set session optimizer_trace=&#39;enabled=on&#39;;</code></p>
</li>
</ul>
</li>
</ul>
<p>ÊÄªËÄåË®Ä‰πãÔºåÈÄöËøáËøô‰∏âÊ≠•Êõ≤ÁöÑÊéíÊü•ÔºåÂü∫Êú¨‰∏ä SQL ÁöÑÈóÆÈ¢òÂ∞±ÈÉΩËÉΩÊâæÂá∫Êù•‰∫Ü„ÄÇ</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1667675">MySQL ÊúÄ‰Ω≥ÂÆûË∑µÔºöÊÖ¢Êü•ËØ¢ÂàÜÊûê‰∏âÊ≠•Êõ≤ - ËÖæËÆØ‰∫ëÂºÄÂèëËÄÖÁ§æÂå∫-ËÖæËÆØ‰∫ë (tencent.com)</a></p>
<h2 id="üåüÊÖ¢Êü•ËØ¢ÁöÑÂéüÂõ†"><a href="#üåüÊÖ¢Êü•ËØ¢ÁöÑÂéüÂõ†" class="headerlink" title="üåüÊÖ¢Êü•ËØ¢ÁöÑÂéüÂõ†"></a>üåüÊÖ¢Êü•ËØ¢ÁöÑÂéüÂõ†</h2><ul>
<li><strong>Á¥¢Âºï‰∏çË∂≥</strong>ÔºöÂ¶ÇÊûúÊü•ËØ¢ÁöÑË°®Ê≤°ÊúâÂêàÈÄÇÁöÑÁ¥¢ÂºïÔºåMySQLÈúÄË¶ÅÈÅçÂéÜÊï¥‰∏™Ë°®ÊâçËÉΩÊâæÂà∞ÂåπÈÖçÁöÑËÆ∞ÂΩïÔºåËøô‰ºöÂØºËá¥Êü•ËØ¢ÂèòÊÖ¢„ÄÇÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†Á¥¢ÂºïÊù•‰ºòÂåñÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂ∫ìËÆæËÆ°ÈóÆÈ¢ò</strong>ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìËÆæËÆ°‰∏çÂêàÁêÜÔºå‰æãÂ¶ÇË°®Ëøá‰∫éÂ∫ûÂ§ß„ÄÅÂàóËøáÂ§öÁ≠âÔºåÊü•ËØ¢Êó∂ÂèØËÉΩÈúÄË¶ÅËÄóË¥πÂ§ßÈáèÊó∂Èó¥„ÄÇËøôÊó∂ÂèØ‰ª•ÈÄöËøá‰ºòÂåñÊï∞ÊçÆÂ∫ìËÆæËÆ°Êù•Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂ∫ìÊúçÂä°Âô®Ë¥üËΩΩËøáÈ´ò</strong>ÔºöÂ¶ÇÊûúMySQLÊúçÂä°Âô®‰∏äÂêåÊó∂ËøêË°å‰∫ÜÂ§™Â§öÁöÑÊü•ËØ¢Ôºå‰ºöÂØºËá¥ÊúçÂä°Âô®Ë¥üËΩΩËøáÈ´òÔºå‰ªéËÄåÂØºËá¥Êü•ËØ¢ÂèòÊÖ¢„ÄÇÂèØ‰ª•ÈÄöËøáÂ¢ûÂä†ÊúçÂä°Âô®Á°¨‰ª∂ÈÖçÁΩÆÊàñÂàÜÊï£Êü•ËØ¢Ë¥üËΩΩÊù•Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</li>
<li><strong>Êü•ËØ¢ËØ≠Âè•Â§çÊùÇ</strong>ÔºöÂ§çÊùÇÁöÑÊü•ËØ¢ËØ≠Âè•ÂèØËÉΩÈúÄË¶ÅËÄóË¥πÊõ¥Â§öÁöÑÊó∂Èó¥ÊâçËÉΩÂÆåÊàê„ÄÇÂèØ‰ª•Â∞ùËØïÁÆÄÂåñÊü•ËØ¢ËØ≠Âè•ÊàñÂ∞ÜÊü•ËØ¢ÂàÜËß£ÊàêÂ§ö‰∏™ËæÉÁÆÄÂçïÁöÑÊü•ËØ¢ËØ≠Âè•Êù•ÊèêÈ´òÊÄßËÉΩ„ÄÇ</li>
<li><strong>Êï∞ÊçÆÂ∫ìÁªüËÆ°‰ø°ÊÅØ‰∏çÂáÜÁ°Æ</strong>ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìÁªüËÆ°‰ø°ÊÅØ‰∏çÂáÜÁ°ÆÔºåMySQLÂèØËÉΩ‰ºöÈÄâÊã©‰∏çÂêàÈÄÇÁöÑÊü•ËØ¢ËÆ°ÂàíÔºå‰ªéËÄåÂØºËá¥Êü•ËØ¢ÂèòÊÖ¢„ÄÇÂèØ‰ª•ÈÄöËøáÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁªüËÆ°‰ø°ÊÅØÊù•Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</li>
<li><strong>MySQLÁâàÊú¨Ëøá‰Ωé</strong>ÔºöËæÉËÄÅÁâàÊú¨ÁöÑMySQLÂèØËÉΩÊÄßËÉΩËæÉÂ∑ÆÔºåÂçáÁ∫ßÂà∞ËæÉÊñ∞ÁâàÊú¨ÁöÑMySQLÂèØËÉΩ‰ºöÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩ„ÄÇ</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg3NzU5NTIwNg==&mid=2247499624&idx=1&sn=561b9cb7fe831ca7cb2d9fd65691e85e&chksm=cf222041f855a957ac50c0a53baaec6d26be32427259b2974450620f33a8c834419fe535e83d&token=767319274&lang=zh_CN&scene=21#wechat_redirect">ÁõòÁÇπMySQLÊÖ¢Êü•ËØ¢ÁöÑ12‰∏™ÂéüÂõ†</a></p>
<h2 id="üåü‰∫ÜËß£ÊÖ¢Êü•ËØ¢Êó•ÂøóÂêóÔºüÂØπÊÖ¢Êü•ËØ¢Â¶Ç‰Ωï‰ºòÂåñÔºü"><a href="#üåü‰∫ÜËß£ÊÖ¢Êü•ËØ¢Êó•ÂøóÂêóÔºüÂØπÊÖ¢Êü•ËØ¢Â¶Ç‰Ωï‰ºòÂåñÔºü" class="headerlink" title="üåü‰∫ÜËß£ÊÖ¢Êü•ËØ¢Êó•ÂøóÂêóÔºüÂØπÊÖ¢Êü•ËØ¢Â¶Ç‰Ωï‰ºòÂåñÔºü"></a>üåü‰∫ÜËß£ÊÖ¢Êü•ËØ¢Êó•ÂøóÂêóÔºüÂØπÊÖ¢Êü•ËØ¢Â¶Ç‰Ωï‰ºòÂåñÔºü</h2><p>ÊÖ¢Êü•ËØ¢Êó•Âøó‰∏ÄËà¨Áî®‰∫éËÆ∞ÂΩïÊâßË°åÊó∂Èó¥Ë∂ÖËøáÊüê‰∏™‰∏¥ÁïåÂÄºÁöÑSQLËØ≠Âè•ÁöÑÊó•Âøó„ÄÇ</p>
<p>ÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩï‰∫ÜÊâßË°åÊó∂Èó¥Ë∂ÖËøáÈòàÂÄº long_query_timeÔºàÈªòËÆ§ÊòØ 10sÔºåÈÄöÂ∏∏ËÆæÁΩÆ‰∏∫1sÔºâÁöÑÊâÄÊúâÊü•ËØ¢ËØ≠Âè•ÔºåÂú®Ëß£ÂÜ≥ SQL ÊÖ¢Êü•ËØ¢ÔºàSQL ÊâßË°åÊó∂Èó¥ËøáÈïøÔºâÈóÆÈ¢òÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºöÁî®Âà∞„ÄÇ</p>
<p>Âú®MySQL‰∏≠Êúâ‰∏Ä‰∏™ÂèòÈáè‰∏ìÈó®ËÆ∞ÂΩïÂΩìÂâçÊÖ¢Êü•ËØ¢ËØ≠Âè•ÁöÑ‰∏™Êï∞ÔºåÂèØ‰ª•ÈÄöËøá <code>show global status like &#39;%Slow_queries%&#39;;</code> ÂëΩ‰ª§Êü•Áúã„ÄÇ</p>
<p>Áõ∏ÂÖ≥ÂèÇÊï∞Ôºö</p>
<ul>
<li>slow_query_logÔºöÊòØÂê¶ÂºÄÂêØÊÖ¢Êó•ÂøóÊü•ËØ¢Ôºå1Ë°®Á§∫ÂºÄÂêØÔºå0Ë°®Á§∫ÂÖ≥Èó≠ÔºåÈªòËÆ§ÂÖ≥Èó≠„ÄÇ</li>
<li>slow_query_log_fileÔºöMySQLÊï∞ÊçÆÂ∫ìÊÖ¢Êü•ËØ¢Êó•ÂøóÂ≠òÂÇ®Ë∑ØÂæÑ„ÄÇ</li>
<li>long_query_timeÔºöÊÖ¢Êü•ËØ¢ÈòàÂÄºÔºåÈªòËÆ§10sÔºåÂΩìSQLËØ≠Âè•Êü•ËØ¢Êó∂Èó¥Â§ß‰∫éÈòàÂÄºÔºå‰ºöË¢´ËÆ∞ÂΩïÂú®Êó•Âøó‰∏ä„ÄÇ</li>
<li>log_queries_not_using_indexesÔºöÊú™‰ΩøÁî®Á¥¢ÂºïÁöÑÊü•ËØ¢‰ºöË¢´ËÆ∞ÂΩïÂà∞ÊÖ¢Êü•ËØ¢Êó•Âøó‰∏≠„ÄÇ</li>
<li>log_outputÔºöÊó•ÂøóÂ≠òÂÇ®ÊñπÂºè„ÄÇ‚ÄúFILE‚ÄùË°®Á§∫Â∞ÜÊó•ÂøóÂ≠òÂÖ•Êñá‰ª∂„ÄÇ‚ÄúTABLE‚ÄùË°®Á§∫Â∞ÜÊó•ÂøóÂ≠òÂÖ•Êï∞ÊçÆÂ∫ì„ÄÇ</li>
</ul>
<p>Â¶Ç‰ΩïÂØπÊÖ¢Êü•ËØ¢ËøõË°å‰ºòÂåñÔºü</p>
<ul>
<li>ExplainÂàÜÊûêËØ≠Âè•ÁöÑÊâßË°åËÆ°ÂàíÔºåÊü•ÁúãSQLËØ≠Âè•ÁöÑÁ¥¢ÂºïÊòØÂê¶ÂëΩ‰∏≠</li>
<li>‰ºòÂåñÊï∞ÊçÆÂ∫ìÁöÑÁªìÊûÑÔºåÂ∞ÜÂ≠óÊÆµÂæàÂ§öÁöÑË°®ÂàÜËß£ÊàêÂ§ö‰∏™Ë°®ÔºåÊàñËÄÖËÄÉËôëÂª∫Á´ã‰∏≠Èó¥Ë°®„ÄÇ</li>
<li>‰ºòÂåñLIMITÂàÜÈ°µ„ÄÇ</li>
</ul>
<h2 id="üåüSQLËØ≠Âè•ÊâßË°åÁöÑÂæàÊÖ¢ÂéüÂõ†ÊòØ‰ªÄ‰πàÔºü"><a href="#üåüSQLËØ≠Âè•ÊâßË°åÁöÑÂæàÊÖ¢ÂéüÂõ†ÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="üåüSQLËØ≠Âè•ÊâßË°åÁöÑÂæàÊÖ¢ÂéüÂõ†ÊòØ‰ªÄ‰πàÔºü"></a>üåüSQLËØ≠Âè•ÊâßË°åÁöÑÂæàÊÖ¢ÂéüÂõ†ÊòØ‰ªÄ‰πàÔºü</h2><ul>
<li>Â¶ÇÊûúSQLËØ≠Âè•Âè™ÊòØÂÅ∂Â∞îÊâßË°åÂæàÊÖ¢ÔºåÂèØËÉΩÊòØÊâßË°åÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫ÜÈîÅÔºå‰πüÂèØËÉΩÊòØredo logÊó•ÂøóÂÜôÊª°‰∫ÜÔºåË¶ÅÂ∞Üredo log‰∏≠ÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞Á£ÅÁõò‰∏≠Âéª„ÄÇ</li>
<li>Â¶ÇÊûúSQLËØ≠Âè•‰∏ÄÁõ¥ÈÉΩÂæàÊÖ¢ÔºåÂèØËÉΩÊòØÂ≠óÊÆµ‰∏äÊ≤°ÊúâÁ¥¢ÂºïÊàñËÄÖÂ≠óÊÆµÊúâÁ¥¢Âºï‰ΩÜÊòØÊ≤°Áî®‰∏äÁ¥¢Âºï„ÄÇ</li>
</ul>
<h2 id="Â¶ÇÊûúÂçïË°®Êï∞ÊçÆÈáèËøáÂçÉ‰∏áÔºåÊÄé‰πà‰ºòÂåñÔºü"><a href="#Â¶ÇÊûúÂçïË°®Êï∞ÊçÆÈáèËøáÂçÉ‰∏áÔºåÊÄé‰πà‰ºòÂåñÔºü" class="headerlink" title="Â¶ÇÊûúÂçïË°®Êï∞ÊçÆÈáèËøáÂçÉ‰∏áÔºåÊÄé‰πà‰ºòÂåñÔºü"></a>Â¶ÇÊûúÂçïË°®Êï∞ÊçÆÈáèËøáÂçÉ‰∏áÔºåÊÄé‰πà‰ºòÂåñÔºü</h2><p>1„ÄÅÊï∞ÊçÆÂ∫ìËÆæËÆ°ÂíåË°®ÂàõÂª∫Êó∂ÔºåËÄÉËôëÊÄßËÉΩÈóÆÈ¢òÔºåÊØîÂ¶ÇÔºöÂçïË°®‰∏çË¶ÅÊúâÂ§™Â§öÂ≠óÊÆµÔºåÂª∫ËÆÆÂú®20‰ª•ÂÜÖ„ÄÅÁ¥¢ÂºïÂπ∂‰∏çÊòØË∂äÂ§öË∂äÂ•ΩÔºåË¶ÅÊ†πÊçÆÊü•ËØ¢ÊúâÈíàÂØπÊÄßÁöÑÂàõÂª∫ÔºåËÄÉËôëÂú®WHEREÂíåORDER BYÂëΩ‰ª§‰∏äÊ∂âÂèäÁöÑÂàóÂª∫Á´ãÁ¥¢ÂºïÔºåÂèØÊ†πÊçÆEXPLAINÊù•Êü•ÁúãÊòØÂê¶Áî®‰∫ÜÁ¥¢ÂºïËøòÊòØÂÖ®Ë°®Êâ´Êèè„ÄÅÈÄâÊã©ÂêàÈÄÇÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÅÈÄâÊã©ÂêàÈÄÇÁ¥¢ÂºïÁ±ªÂûãÁ≠â„ÄÇ</p>
<p>2„ÄÅSQLÁºñÂÜôÊó∂ÈúÄË¶ÅÊ≥®ÊÑèÔºåÊØîÂ¶ÇÔºöÂàóË°®Êï∞ÊçÆ‰∏çË¶ÅÊãøÂÖ®Ë°®ÔºåË¶Å‰ΩøÁî®LIMITÊù•ÂàÜÈ°µÔºåÊØèÈ°µÊï∞Èáè‰πü‰∏çË¶ÅÂ§™Â§ß„ÄÅÂèØÈÄöËøáÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÊù•ÊâæÂá∫ËæÉÊÖ¢ÁöÑSQL„ÄÅÈÅøÂÖçselect *ÔºåÂ∞ÜÈúÄË¶ÅÊü•ÊâæÁöÑÂ≠óÊÆµÂàóÂá∫Êù•Á≠â„ÄÇ</p>
<p>3ÔºåÂ≠òÂÇ®ÂºïÊìéÈÄâÊã©Ôºå<strong>MyISAMÈÄÇÂêàSELECTÂØÜÈõÜÂûãÁöÑË°®ÔºåËÄåInnoDBÈÄÇÂêàINSERTÂíåUPDATEÂØÜÈõÜÂûãÁöÑË°®</strong> „ÄÇ</p>
<p>4„ÄÅÂàÜÂ∫ìÂàÜË°®ÔºåÊØîÂ¶ÇÔºö<strong>ÂàÜÂ∫ì</strong>Êää‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂàÜÊàêÂ§ö‰∏™ÔºåÂª∫ËÆÆÂÅö‰∏™ËØªÂÜôÂàÜÁ¶ªÂ∞±Ë°å‰∫ÜÔºåÁúüÊ≠£ÁöÑÂÅöÂàÜÂ∫ì‰πü‰ºöÂ∏¶Êù•Â§ßÈáèÁöÑÂºÄÂèëÊàêÊú¨ÔºåÂæó‰∏çÂÅøÂ§±ÔºÅ<strong>ÂàÜË°®</strong>Â∞±ÊòØÊää‰∏ÄÂº†Â§ßË°®ÔºåÊåâÁÖßÂ¶Ç‰∏äËøáÁ®ãÈÉΩ‰ºòÂåñ‰∫ÜÔºåËøòÊòØÊü•ËØ¢Âç°Ê≠ªÔºåÈÇ£Â∞±ÊääËøô‰∏™Ë°®ÂàÜÊàêÂ§öÂº†Ë°®ÔºåÊää‰∏ÄÊ¨°Êü•ËØ¢ÂàÜÊàêÂ§öÊ¨°Êü•ËØ¢ÔºåÁÑ∂ÂêéÊääÁªìÊûúÁªÑÂêàËøîÂõûÁªôÁî®Êà∑„ÄÇÂàÜË°®ÂàÜ‰∏∫ÂûÇÁõ¥ÊãÜÂàÜÂíåÊ∞¥Âπ≥ÊãÜÂàÜÔºåÈÄöÂ∏∏‰ª•Êüê‰∏™Â≠óÊÆµÂÅöÊãÜÂàÜÈ°π„ÄÇÊØîÂ¶Ç‰ª•idÂ≠óÊÆµÊãÜÂàÜ‰∏∫100Âº†Ë°®ÔºöË°®Âêç‰∏∫ tableName_id%100„ÄÇ‰ΩÜÔºöÂàÜË°®ÈúÄË¶Å‰øÆÊîπÊ∫êÁ®ãÂ∫è‰ª£Á†ÅÔºå‰ºöÁªôÂºÄÂèëÂ∏¶Êù•Â§ßÈáèÂ∑•‰ΩúÔºåÊûÅÂ§ßÁöÑÂ¢ûÂä†‰∫ÜÂºÄÂèëÊàêÊú¨ÔºåÊïÖÔºöÂè™ÈÄÇÂêàÂú®ÂºÄÂèëÂàùÊúüÂ∞±ËÄÉËôëÂà∞‰∫ÜÂ§ßÈáèÊï∞ÊçÆÂ≠òÂú®ÔºåÂÅöÂ•Ω‰∫ÜÂàÜË°®Â§ÑÁêÜÔºå‰∏çÈÄÇÂêàÂ∫îÁî®‰∏äÁ∫ø‰∫ÜÂÜçÂÅö‰øÆÊîπÔºåÊàêÊú¨Â§™È´òÁ≠â„ÄÇ</p>
<p>5„ÄÅÁ°¨‰ª∂ÂçáÁ∫ßÔºåËøôÂäûÊ≥ïÊòØÊúÄÁÆÄÂçïÁöÑÔºåÁõ∏ÂØπÁöÑÊàêÊú¨‰πüÈ´òÔºåËÄÅÊùøÂ∞±‰∏çÊÑøÊÑè‰∫Ü„ÄÇ</p>
<p>6„ÄÅÊï∞ÊçÆÂ∫ìÂçáÁ∫ßÔºåÊØîÂ¶ÇÔºöÊääMySQLÊï∞ÊçÆÂ∫ìÊç¢ÊàêÂ§ßÊï∞ÊçÆÂºïÊìéÂ§ÑÁêÜÊï∞ÊçÆ„ÄÅÊç¢ÊàêÈòøÈáå‰∫ëPOLARDBÔºåPOLARDB ÊòØÈòøÈáå‰∫ëËá™Á†îÁöÑ‰∏ã‰∏Ä‰ª£ÂÖ≥Á≥ªÂûãÂàÜÂ∏ÉÂºè‰∫ëÂéüÁîüÊï∞ÊçÆÂ∫ìÔºå100%ÂÖºÂÆπMySQLÔºåÂ≠òÂÇ®ÂÆπÈáèÊúÄÈ´òÂèØËææ 100TÔºåÊÄßËÉΩÊúÄÈ´òÊèêÂçáËá≥ MySQL ÁöÑ 6 ÂÄç„ÄÇ</p>
<h2 id="üåü‰∏Ä‰∏™500wÊù°Êï∞ÊçÆÁöÑË°®-aÔºå‰∏Ä‰∏™300wÊï∞ÊçÆÁöÑË°®-bÔºåÈÄöËøáÂ§ñÈîÆ-tid-ÂÖ≥ËÅîÔºåÂ¶Ç‰ΩïÊúÄÂø´ÁöÑÊü•ËØ¢Âá∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨50000Âà∞Á¨¨50200‰∏≠ÁöÑËøô200Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºü"><a href="#üåü‰∏Ä‰∏™500wÊù°Êï∞ÊçÆÁöÑË°®-aÔºå‰∏Ä‰∏™300wÊï∞ÊçÆÁöÑË°®-bÔºåÈÄöËøáÂ§ñÈîÆ-tid-ÂÖ≥ËÅîÔºåÂ¶Ç‰ΩïÊúÄÂø´ÁöÑÊü•ËØ¢Âá∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨50000Âà∞Á¨¨50200‰∏≠ÁöÑËøô200Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºü" class="headerlink" title="üåü‰∏Ä‰∏™500wÊù°Êï∞ÊçÆÁöÑË°® aÔºå‰∏Ä‰∏™300wÊï∞ÊçÆÁöÑË°® bÔºåÈÄöËøáÂ§ñÈîÆ tid ÂÖ≥ËÅîÔºåÂ¶Ç‰ΩïÊúÄÂø´ÁöÑÊü•ËØ¢Âá∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨50000Âà∞Á¨¨50200‰∏≠ÁöÑËøô200Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºü"></a>üåü‰∏Ä‰∏™500wÊù°Êï∞ÊçÆÁöÑË°® aÔºå‰∏Ä‰∏™300wÊï∞ÊçÆÁöÑË°® bÔºåÈÄöËøáÂ§ñÈîÆ tid ÂÖ≥ËÅîÔºåÂ¶Ç‰ΩïÊúÄÂø´ÁöÑÊü•ËØ¢Âá∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨50000Âà∞Á¨¨50200‰∏≠ÁöÑËøô200Êù°Êï∞ÊçÆËÆ∞ÂΩïÔºü</h2><p>ÊñπÊ≥ï‰∏ÄÔºöÂ¶ÇÊûú a Ë°® tid ÊòØËá™Â¢ûÈïøÔºåÂπ∂‰∏îÊòØËøûÁª≠ÁöÑÔºåbË°®ÁöÑid‰∏∫Á¥¢Âºï„ÄÇSQLËØ≠Âè•Â¶Ç‰∏ã„ÄÇ</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token number">a</span><span class="token punctuation">,</span><span class="token number">b</span> <span class="token keyword">where</span> <span class="token number">a</span><span class="token punctuation">.</span>tid <span class="token operator">=</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">and</span> <span class="token number">a</span><span class="token punctuation">.</span>tid<span class="token operator">></span><span class="token number">500000</span> <span class="token keyword">limit</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ÊñπÊ≥ï‰∫åÔºöÂ¶ÇÊûú a Ë°®ÁöÑ tid ‰∏çÊòØËøûÁª≠ÁöÑÔºåÈÇ£‰πàÂ∞±ÈúÄË¶Å‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÔºåtid Ë¶Å‰πàÊòØ‰∏ªÈîÆÔºåË¶Å‰πàÊòØËæÖÂä©Á¥¢ÂºïÔºåb Ë°® id ‰πüÈúÄË¶ÅÊúâÁ¥¢Âºï„ÄÇSQLËØ≠Âè•Â¶Ç‰∏ã„ÄÇ</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token number">b</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> tid <span class="token keyword">from</span> <span class="token number">a</span> <span class="token keyword">limit</span> <span class="token number">50000</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token number">a</span> <span class="token keyword">where</span> <span class="token number">b</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">a</span><span class="token punctuation">.</span>tid<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="üåüÂ§ßË°®Êï∞ÊçÆÊü•ËØ¢Â¶Ç‰ΩïËøõË°å‰ºòÂåñÔºü"><a href="#üåüÂ§ßË°®Êï∞ÊçÆÊü•ËØ¢Â¶Ç‰ΩïËøõË°å‰ºòÂåñÔºü" class="headerlink" title="üåüÂ§ßË°®Êï∞ÊçÆÊü•ËØ¢Â¶Ç‰ΩïËøõË°å‰ºòÂåñÔºü"></a>üåüÂ§ßË°®Êï∞ÊçÆÊü•ËØ¢Â¶Ç‰ΩïËøõË°å‰ºòÂåñÔºü</h2><ul>
<li><strong>Êï∞ÊçÆÂ∫ìËÆæËÆ°‰ºòÂåñ</strong></li>
</ul>
<p>ÂêàÁêÜÁöÑÊï∞ÊçÆÂ∫ìËÆæËÆ°ÂèØ‰ª•ÊûÅÂ§ßÂú∞ÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇÊàë‰ª¨Âú®ËÆæËÆ°Â§ßË°®Êó∂ÔºåÂèØ‰ª•ËÄÉËôë<strong>ÊãÜÂàÜË°®„ÄÅ‰ΩøÁî®ÂàÜÂå∫Ë°®„ÄÅÊ∑ªÂä†Á¥¢ÂºïÁ≠âÊñπÂºè</strong>Êù•‰ºòÂåñË°®ÁªìÊûÑ„ÄÇÂêåÊó∂‰πüË¶Å<strong>ÈÅøÂÖç‰ΩøÁî®Â§ßÈáèÂÜó‰ΩôÂ≠óÊÆµ„ÄÅÈÅøÂÖçÈ¢ëÁπÅ‰ΩøÁî®joinÊü•ËØ¢</strong>Á≠âÊìç‰Ωú„ÄÇ</p>
<ul>
<li><strong>Á¥¢Âºï‰ºòÂåñ</strong></li>
</ul>
<p>ÂØπ‰∫éÂ§ßË°®ÁöÑÊü•ËØ¢Êìç‰ΩúÔºåÁ¥¢Âºï‰ºòÂåñÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏ÄÁéØ„ÄÇÂèØ‰ª•ËÄÉËôë<strong>Â¢ûÂä†ÊàñËÄÖ‰øÆÊîπÁ¥¢Âºï„ÄÅ‰ΩøÁî®Ë¶ÜÁõñÁ¥¢Âºï„ÄÅ‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÁ≠âÊñπÂºèÊù•ÊèêÈ´òÊü•ËØ¢ÊïàÁéá</strong>„ÄÇÂêåÊó∂‰πüË¶ÅÊ≥®ÊÑè<strong>ÂÆöÊúüÊ∏ÖÁêÜÂÜó‰ΩôÁöÑÁ¥¢Âºï‰ª•ÂèäÂØπ‰∫éÁªèÂ∏∏‰ΩøÁî®ÁöÑÊü•ËØ¢ËØ≠Âè•Âª∫Á´ãÁ¥¢Âºï</strong>„ÄÇ</p>
<ul>
<li><strong>ÂàÜÂå∫‰ºòÂåñ</strong></li>
</ul>
<p>Â∞ÜÂ§ßË°®ÊåâÁÖßÊüê‰∏™ÂàóÂàÜÊàêÂ§ö‰∏™ÂàÜÂå∫Ë°®ÔºåÊØè‰∏™ÂàÜÂå∫Ë°®ÁöÑÊï∞ÊçÆÈáèËæÉÂ∞èÔºåÂèØ‰ª•ÊèêÈ´òÊü•ËØ¢ÂíåÊõ¥Êñ∞ÁöÑÊÄßËÉΩ„ÄÇÂàÜÂå∫Ë°®ËøòÂèØ‰ª•Â∏ÆÂä©Âú®Áª¥Êä§Ë°®ÁªìÊûÑÁöÑÂêåÊó∂ÔºåÂáèÂ∞ëÈîÅË°®Êó∂Èó¥ÔºåÊèêÈ´òÂπ∂ÂèëÂ§ÑÁêÜËÉΩÂäõ„ÄÇ</p>
<ul>
<li><strong>Êï∞ÊçÆÊ∏ÖÁêÜÂΩíÊ°£</strong></li>
</ul>
<p>ÂØπ‰∫é‰∏Ä‰∫õÂéÜÂè≤Êï∞ÊçÆÊàñËÄÖÊó†Áî®Êï∞ÊçÆÔºå<strong>ÂèØ‰ª•ËøõË°åÂÆöÊúüÂΩíÊ°£ÔºåÈÅøÂÖçÊï∞ÊçÆËøáÂ§öÈÄ†ÊàêSQLÊü•ËØ¢ÊïàÁéáÈôç‰Ωé</strong>„ÄÇÂêåÊó∂‰πüË¶ÅÊ≥®ÊÑèÂØπ‰∫éÂ§ßË°®ËøõË°åÂÆöÊúüÁöÑÊï∞ÊçÆÂ§á‰ªΩ‰ª•ÂèäÁ¥ßÊÄ•Êï∞ÊçÆÊÅ¢Â§çÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇ</p>
<ul>
<li><strong>ÁºìÂ≠ò‰ºòÂåñ</strong></li>
</ul>
<p>ÂØπ‰∫é‰∏Ä‰∫õÁªèÂ∏∏Ë¢´Êü•ËØ¢ÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•‰ΩøÁî®ÁºìÂ≠ò‰ºòÂåñ„ÄÇ‰ΩøÁî®<code>Redis</code>Á≠âÁºìÂ≠ò‰∏≠Èó¥‰ª∂Êù•ÁºìÂ≠òÂ∏∏Áî®ÁöÑÊï∞ÊçÆÔºå‰ª•ÂáèÂ∞ëÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊ¨°Êï∞ÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ</p>
<ul>
<li><strong>SQLËØ≠Âè•‰ºòÂåñ</strong></li>
</ul>
<p>Âú®ÁºñÂÜôSQLÊü•ËØ¢ËØ≠Âè•Êó∂ÔºåË¶ÅÂ∞ΩÂèØËÉΩÂú∞ÁÆÄÂçïÊòé‰∫ÜÔºåÈÅøÂÖçÂ§çÊùÇÁöÑÊü•ËØ¢ËØ≠Âè•ÔºåÂêåÊó∂‰πüË¶ÅÈÅøÂÖç‰∏Ä‰∫õ‰∏çÂøÖË¶ÅÁöÑÊü•ËØ¢Êìç‰Ωú„ÄÇÂØπ‰∫éÂ§çÊùÇÁöÑÊü•ËØ¢ËØ≠Âè•ÔºåÂèØ‰ª•‰ΩøÁî®<code>Explain</code>ÊâßË°åËÆ°ÂàíÊù•ËøõË°å‰ºòÂåñ„ÄÇÂêåÊó∂‰πüË¶ÅÊ≥®ÊÑèÈÅøÂÖç‰ΩøÁî®<code>OR</code>Á≠âËÄóË¥πÊÄßËÉΩÁöÑÊìç‰ΩúÁ¨¶„ÄÇ</p>
<ul>
<li><strong>ÂàÜÂ∫ìÂàÜË°®</strong></li>
</ul>
<p>Â¶ÇÊûúÊï∞ÊçÆÈáèÂçÉ‰∏áÁ∫ßÂà´ÔºåÈúÄË¶ÅËÄÉËôëÂàÜÂ∫ìÂàÜË°®Âìà„ÄÇ<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg3NzU5NTIwNg==&mid=2247498625&idx=1&sn=0d7bd9d1b46eeff4c715a6761355e9b0&chksm=cf2224a8f855adbea8931c8e011711f6c70cffeef8ddf8b87729c710eacef11b46eef80fda36&token=1627163936&lang=zh_CN&scene=21#wechat_redirect">Êàë‰ª¨‰∏∫‰ªÄ‰πàË¶ÅÂàÜÂ∫ìÂàÜË°®Ôºü</a></p>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢ËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÔºü"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢ËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÔºü" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢ËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÔºü"></a>üåüÂ¶Ç‰Ωï‰ºòÂåñÊü•ËØ¢ËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÔºü</h2><p>‰ªéÂáèÂ∞ëÊï∞ÊçÆËÆøÈóÆÊñπÈù¢ËÄÉËôëÔºö</p>
<ul>
<li>Ê≠£Á°Æ‰ΩøÁî®Á¥¢ÂºïÔºåÂ∞ΩÈáèÂÅöÂà∞Á¥¢ÂºïË¶ÜÁõñ</li>
<li>‰ºòÂåñSQLÊâßË°åËÆ°Âàí</li>
</ul>
<p>‰ªéËøîÂõûÊõ¥Â∞ëÁöÑÊï∞ÊçÆÊñπÈù¢ËÄÉËôëÔºö</p>
<ul>
<li>Êï∞ÊçÆÂàÜÈ°µÂ§ÑÁêÜ</li>
<li>Âè™ËøîÂõûÈúÄË¶ÅÁöÑÂ≠óÊÆµ</li>
</ul>
<p>‰ªéÂáèÂ∞ëÊúçÂä°Âô®CPUÂºÄÈîÄÊñπÈù¢ËÄÉËôëÔºö</p>
<ul>
<li>ÂêàÁêÜ‰ΩøÁî®ÊéíÂ∫è</li>
<li>ÂáèÂ∞ëÊØîËæÉÁöÑÊìç‰Ωú</li>
<li>Â§çÊùÇËøêÁÆóÂú®ÂÆ¢Êà∑Á´ØÂ§ÑÁêÜ</li>
</ul>
<p>‰ªéÂ¢ûÂä†ËµÑÊ∫êÊñπÈù¢ËÄÉËôëÔºö</p>
<ul>
<li>ÂÆ¢Êà∑Á´ØÂ§öËøõÁ®ãÂπ∂Ë°åËÆøÈóÆ</li>
<li>Êï∞ÊçÆÂ∫ìÂπ∂Ë°åÂ§ÑÁêÜ</li>
</ul>
<h2 id="üåüÊï∞ÊçÆÂ∫ì‰ºòÂåñÈóÆÈ¢ò"><a href="#üåüÊï∞ÊçÆÂ∫ì‰ºòÂåñÈóÆÈ¢ò" class="headerlink" title="üåüÊï∞ÊçÆÂ∫ì‰ºòÂåñÈóÆÈ¢ò"></a>üåüÊï∞ÊçÆÂ∫ì‰ºòÂåñÈóÆÈ¢ò</h2><p>Ôºà1ÔºâÊ†πÊçÆÊúçÂä°Â±ÇÈù¢Ôºö<strong>ÈÖçÁΩÆmysqlÊÄßËÉΩ‰ºòÂåñÂèÇÊï∞</strong>Ôºõ</p>
<p>Ôºà2Ôºâ‰ªéÁ≥ªÁªüÂ±ÇÈù¢Â¢ûÂº∫mysqlÁöÑÊÄßËÉΩÔºö‰ºòÂåñÊï∞ÊçÆË°®ÁªìÊûÑ„ÄÅÂ≠óÊÆµÁ±ªÂûã„ÄÅÂ≠óÊÆµÁ¥¢Âºï„ÄÅÂàÜË°®Ôºå<strong>ÂàÜÂ∫ì</strong>„ÄÅ<strong>ËØªÂÜôÂàÜÁ¶ª</strong>Á≠âÁ≠â„ÄÇ</p>
<p>Ôºà3Ôºâ‰ªéÊï∞ÊçÆÂ∫ìÂ±ÇÈù¢Â¢ûÂº∫ÊÄßËÉΩÔºö‰ºòÂåñSQLËØ≠Âè•ÔºåÂêàÁêÜ‰ΩøÁî®Â≠óÊÆµÁ¥¢Âºï„ÄÇ</p>
<p>Ôºà4Ôºâ‰ªé‰ª£Á†ÅÂ±ÇÈù¢Â¢ûÂº∫ÊÄßËÉΩÔºö‰ΩøÁî®ÁºìÂ≠òÂíåNoSQLÊï∞ÊçÆÂ∫ìÊñπÂºèÂ≠òÂÇ®ÔºåÂ¶ÇMongoDB&#x2F;Memcached&#x2F;RedisÊù•ÁºìËß£È´òÂπ∂Âèë‰∏ãÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÁöÑÂéãÂäõ„ÄÇ</p>
<p>Ôºà5ÔºâÂáèÂ∞ëÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊ¨°Êï∞ÔºåÂ∞ΩÈáè‰ΩøÁî®<strong>Êï∞ÊçÆÂ∫ìËÆøÈóÆÈ©±Âä®ÁöÑÊâπÂ§ÑÁêÜÊñπÊ≥ï</strong>„ÄÇ</p>
<p>Ôºà6Ôºâ‰∏çÂ∏∏‰ΩøÁî®ÁöÑÊï∞ÊçÆËøÅÁßªÂ§á‰ªΩÔºåÈÅøÂÖçÊØèÊ¨°ÈÉΩÂú®Êµ∑ÈáèÊï∞ÊçÆ‰∏≠ÂéªÊ£ÄÁ¥¢„ÄÇ</p>
<p>Ôºà7ÔºâÊèêÂçáÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®<strong>Á°¨‰ª∂ÈÖçÁΩÆ</strong>ÔºåÊàñËÄÖÊê≠Âª∫Êï∞ÊçÆÂ∫ìÈõÜÁæ§„ÄÇ</p>
<p>Ôºà8Ôºâ<strong>ÁºñÁ®ãÊâãÊÆµÈò≤Ê≠¢SQLÊ≥®ÂÖ•</strong>Ôºö‰ΩøÁî®JDBC PreparedStatementÊåâ‰ΩçÊèíÂÖ•ÊàñÊü•ËØ¢ÔºõÊ≠£ÂàôË°®ËææÂºèËøáÊª§ÔºàÈùûÊ≥ïÂ≠óÁ¨¶‰∏≤ËøáÊª§ÔºâÔºõ</p>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñÈïøÈöæÁöÑÊü•ËØ¢ËØ≠Âè•"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñÈïøÈöæÁöÑÊü•ËØ¢ËØ≠Âè•" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñÈïøÈöæÁöÑÊü•ËØ¢ËØ≠Âè•?"></a><strong>üåüÂ¶Ç‰Ωï‰ºòÂåñÈïøÈöæÁöÑÊü•ËØ¢ËØ≠Âè•?</strong></h2><ul>
<li>Â∞Ü‰∏Ä‰∏™Â§ßÁöÑÊü•ËØ¢ÂàÜËß£‰∏∫Â§ö‰∏™Â∞èÁöÑÊü•ËØ¢</li>
<li>ÂàÜËß£ÂÖ≥ËÅîÊü•ËØ¢Ôºå‰ΩøÁºìÂ≠òÁöÑÊïàÁéáÊõ¥È´ò</li>
</ul>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñLIMITÂàÜÈ°µÔºü"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñLIMITÂàÜÈ°µÔºü" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñLIMITÂàÜÈ°µÔºü"></a>üåüÂ¶Ç‰Ωï‰ºòÂåñLIMITÂàÜÈ°µÔºü</h2><blockquote>
<p>ÊòØÂê¶ÈÅáÂà∞ËøáÊ∑±ÂàÜÈ°µÈóÆÈ¢òÔºåÂ¶Ç‰ΩïËß£ÂÜ≥</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//Ê£ÄÁ¥¢ËÆ∞ÂΩïË°å6-15</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Âú®LIMITÂÅèÁßªÈáèËæÉÂ§ßÁöÑÊó∂ÂÄôÔºàoffset Ë∂äÂ§ßÔºåÊâ´ÊèèÈ°µË∂äÂ§öÔºåÊâÄ‰ª•ÂØºËá¥ÂèòÊÖ¢ÔºâÔºåÊü•ËØ¢ÊïàÁéá‰ºöÂèò‰Ωé</p>
</blockquote>
<p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂáèÂ∞ëÂõûË°®Ê¨°Êï∞Êù•‰ºòÂåñ„ÄÇ‰∏ÄËà¨Êúâ<strong>Ê†áÁ≠æËÆ∞ÂΩïÊ≥ï</strong>Âíå<strong>Âª∂ËøüÂÖ≥ËÅîÊ≥ï</strong>„ÄÇ</p>
<ul>
<li><strong>Ê†áÁ≠æËÆ∞ÂΩïÊ≥ïÔºö</strong>ÂèØ‰ª•ËÆ∞ÂΩïÊØèÊ¨°ÂèñÂá∫ÁöÑÊúÄÂ§ßIDÔºå‰∏ãÊ¨°Êü•ËØ¢Êó∂ÂèØ‰ª•Âà©Áî®IDËøõË°åÊü•ËØ¢</li>
<li><strong>Âª∂ËøüÂÖ≥ËÅîÊ≥ïÔºö</strong>Âà©Áî®Ë°®ÁöÑ <strong>Ë¶ÜÁõñÁ¥¢Âºï</strong> Êù•Âä†ÈÄüÂàÜÈ°µÊü•ËØ¢ÔºåÂà©Áî®‰∫ÜÁ¥¢ÂºïÊü•ËØ¢ÁöÑËØ≠Âè•‰∏≠Â¶ÇÊûúÂè™ÂåÖÂê´‰∫ÜÈÇ£‰∏™Á¥¢ÂºïÂàóÔºàË¶ÜÁõñÁ¥¢ÂºïÔºâÔºåÈÇ£‰πàËøôÁßçÊÉÖÂÜµ‰ºöÊü•ËØ¢ÂæàÂø´„ÄÇÂõ†‰∏∫Âà©Áî®Á¥¢ÂºïÊü•ÊâæÊúâ‰ºòÂåñÁÆóÊ≥ïÔºå‰∏îÊï∞ÊçÆÂùóÂ∞±Âú®Êü•ËØ¢Á¥¢Âºï‰∏äÈù¢Ôºå‰∏çÁî®ÂÜçÂéªÊâæÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÂùóÔºåËøôÊ†∑ËäÇÁúÅ‰∫ÜÂæàÂ§öÊó∂Èó¥Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÊü•ËØ¢ÁöÑÊï∞ÊçÆÂ∞±Âú®Á¥¢Âºï‰∏äÔºå‰∏çÁî®ÂÜçÁªèËøá <strong>ÂõûË°®</strong> ÁöÑÊìç‰Ωú„ÄÇ</li>
</ul>
<p><strong>Ê†áÁ≠æËÆ∞ÂΩïÊ≥ï</strong></p>
<p>Â∞±ÊòØÊ†áËÆ∞‰∏Ä‰∏ã‰∏äÊ¨°Êü•ËØ¢Âà∞Âì™‰∏ÄÊù°‰∫ÜÔºå‰∏ãÊ¨°ÂÜçÊù•Êü•ÁöÑÊó∂ÂÄôÔºå‰ªéËØ•Êù°ÂºÄÂßãÂæÄ‰∏ãÊâ´Êèè„ÄÇÂ∞±Â•ΩÂÉèÁúã‰π¶‰∏ÄÊ†∑Ôºå‰∏äÊ¨°ÁúãÂà∞Âì™Èáå‰∫ÜÔºå‰Ω†Â∞±ÊäòÂè†‰∏Ä‰∏ãÊàñËÄÖÂ§π‰∏™‰π¶Á≠æÔºå‰∏ãÊ¨°Êù•ÁúãÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•Â∞±ÁøªÂà∞Âï¶„ÄÇ</p>
<p>ÂÅáËÆæ‰∏ä‰∏ÄÊ¨°ËÆ∞ÂΩïÂà∞100000ÔºåÂàôSQLÂèØ‰ª•‰øÆÊîπ‰∏∫Ôºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span>  id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>balance <span class="token keyword">FROM</span> account <span class="token keyword">where</span> id <span class="token operator">></span> <span class="token number">100000</span> <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ËøôÊ†∑ÁöÑËØùÔºåÂêéÈù¢Êó†ËÆ∫ÁøªÂ§öÂ∞ëÈ°µÔºåÊÄßËÉΩÈÉΩ‰ºö‰∏çÈîôÁöÑÔºåÂõ†‰∏∫ÂëΩ‰∏≠‰∫Ü<code>id</code>Á¥¢Âºï„ÄÇ‰ΩÜÊòØËøôÁßçÊñπÂºèÊúâÂ±ÄÈôêÊÄßÔºöÈúÄË¶Å‰∏ÄÁßçÁ±ª‰ººËøûÁª≠Ëá™Â¢ûÁöÑÂ≠óÊÆµ„ÄÇ</p>
<p><strong>Âª∂ËøüÂÖ≥ËÅîÊ≥ï</strong></p>
<p>Âª∂ËøüÂÖ≥ËÅîÊ≥ïÔºåÂ∞±ÊòØÊääÊù°‰ª∂ËΩ¨ÁßªÂà∞‰∏ªÈîÆÁ¥¢ÂºïÊ†ëÔºåÁÑ∂ÂêéÂáèÂ∞ëÂõûË°®„ÄÇÂÅáËÆæÂéüÁîüSQLÊòØËøôÊ†∑ÁöÑÁöÑÔºåÂÖ∂‰∏≠<code>id</code>ÊòØ‰∏ªÈîÆÔºå<code>create_time</code>ÊòØÊôÆÈÄöÁ¥¢Âºï</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>balance <span class="token keyword">from</span> account <span class="token keyword">where</span> create_time<span class="token operator">></span> <span class="token string">'2020-09-19'</span> <span class="token keyword">limit</span> <span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>‰ΩøÁî®Âª∂ËøüÂÖ≥ËÅîÊ≥ï‰ºòÂåñÔºåÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">select</span>  acct1<span class="token punctuation">.</span>id<span class="token punctuation">,</span>acct1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>acct1<span class="token punctuation">.</span>balance <span class="token keyword">FROM</span> account acct1 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> 
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token number">a</span><span class="token punctuation">.</span>id <span class="token keyword">FROM</span> account <span class="token number">a</span> <span class="token keyword">WHERE</span> <span class="token number">a</span><span class="token punctuation">.</span>create_time <span class="token operator">></span> <span class="token string">'2020-09-19'</span> <span class="token keyword">limit</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> 
<span class="token keyword">AS</span> acct2 <span class="token keyword">on</span> acct1<span class="token punctuation">.</span>id<span class="token operator">=</span> acct2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>‰ºòÂåñÊÄùË∑ØÂ∞±ÊòØÔºåÂÖàÈÄöËøá<code>idx_create_time</code>‰∫åÁ∫ßÁ¥¢ÂºïÊ†ëÊü•ËØ¢Âà∞Êª°Ë∂≥Êù°‰ª∂ÁöÑ<code>‰∏ªÈîÆID</code>ÔºåÂÜç‰∏éÂéüË°®ÈÄöËøá<code>‰∏ªÈîÆID</code>ÂÜÖËøûÊé•ÔºåËøôÊ†∑ÂêéÈù¢Áõ¥Êé•Ëµ∞‰∫Ü‰∏ªÈîÆÁ¥¢Âºï‰∫ÜÔºåÂêåÊó∂‰πüÂáèÂ∞ë‰∫ÜÂõûË°®„ÄÇ</p>
<hr>
<p><img src="https://img.jwt1399.top/img/202304042215503.png"></p>
<p>‰∏§‰∏™ËØ≠Âè•ÁöÑÂÜÖÂÆπÈÉΩÈùûÂ∏∏ÁÆÄÂçïÔºåÂ∑ÆÂà´Âè™Âú® limit ÁöÑÈÉ®ÂàÜÔºåÁ¨¨‰∏Ä‰∏™ËØ≠Âè•Ë∑≥ËøáÁöÑË°åÊï∞ÂæàÂ∞ëÔºåÁ¨¨‰∫å‰∏™ËØ≠Âè•Ë∑≥ËøáÁöÑË°åÊï∞ÂæàÂ§öÔºåÁªìÊûúÊòØ‰∏§‰∏™ËØ≠Âè•ÁöÑÊâßË°åÊó∂Èó¥Â∑Æ‰∫ÜËá≥Â∞ë 200 ÂÄç„ÄÇ</p>
<p>ÂèØ‰ª•ÁúãÂà∞Ë∑≥ËøáÁöÑË°åÊï∞Â§ßÂπÖÂ∫¶Â¢ûÈïøÊó∂ÔºåSQL ËØ≠Âè•ÁöÑÊâßË°åÊó∂Èó¥‰πü‰ºöÂø´ÈÄüÂ¢ûÈïøÔºåÂéüÂõ†ÂÖ∂ÂÆûÊØîËæÉÁÆÄÂçïÔºöÂú®Â§ÑÁêÜ limit M,N ÁöÑÊó∂ÂÄôÔºåMySQL ‰ºöÂÖàÊãøÂà∞ M+N Ë°åÁªìÊûúÊï∞ÊçÆÔºåÁÑ∂ÂêéÂÜç‰∏¢ÂºÉ M Ë°åÊï∞ÊçÆÔºåÂ±ïÁ§∫‰πãÂêéÂâ©‰∏ãÁöÑ N Ë°åÊï∞ÊçÆ„ÄÇÊâÄ‰ª•‰∏äÂõæÁöÑÁ¨¨‰∫å‰∏™ËØ≠Âè•ÂÆûÈôÖ‰∏äÊâ´Êèè‰∫Ü 800 Â§ö‰∏áË°åÊï∞ÊçÆÔºåÁÑ∂Âêé‰∏¢ÂºÉ‰∫Ü 800 ‰∏áË°åÊï∞ÊçÆÔºåÂè™Â±ïÁ§∫‰πãÂêéÁöÑ 1 Ë°åÁªìÊûú„ÄÇ</p>
<p>Ë¶ÜÁõñÁ¥¢Âºï‰ºòÂåñÔºöÂà©Áî® joinÔºåÂÖàÊ†πÊçÆ‰∏ªÈîÆÊêúÁ¥¢Âà∞ÈúÄË¶ÅÁöÑÊï∞ÊçÆÔºåÂÜçÈÄöËøá‰∏ªÈîÆÂÖ≥ËÅîÂà∞ÂéüÊù•ÁöÑË°®ËæìÂá∫ÁªìÊûú„ÄÇ</p>
<p><img src="https://img.jwt1399.top/img/202304042225809.png"></p>
<p>id&gt;ÁöÑÂΩ¢ÂºèÔºöÂèØ‰ª•ËÆ∞ÂΩïÊØèÊ¨°ÂèñÂá∫ÁöÑÊúÄÂ§ßIDÔºå‰∏ãÊ¨°Êü•ËØ¢Êó∂ÂèØ‰ª•Âà©Áî®IDËøõË°åÊü•ËØ¢</p>
<p><img src="https://img.jwt1399.top/img/202304042229984.png"></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1669736">MySQL Ê°à‰æãÔºöLimit ÂàÜÈ°µÊü•ËØ¢‰ºòÂåñ - ËÖæËÆØ‰∫ëÂºÄÂèëËÄÖÁ§æÂå∫-ËÖæËÆØ‰∫ë (tencent.com)</a></p>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñUNIONÊü•ËØ¢"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñUNIONÊü•ËØ¢" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñUNIONÊü•ËØ¢?"></a><strong>üåüÂ¶Ç‰Ωï‰ºòÂåñUNIONÊü•ËØ¢?</strong></h2><p>Â¶ÇÊûú‰∏çÈúÄË¶ÅÂØπÁªìÊûúÈõÜËøõË°åÂéªÈáçÊàñËÄÖÊéíÂ∫èÂª∫ËÆÆ‰ΩøÁî®UNION ALLÔºå‰ºöÂ•Ω‰∏Ä‰∫õ„ÄÇ</p>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñWHEREÂ≠êÂè•"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñWHEREÂ≠êÂè•" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñWHEREÂ≠êÂè•"></a>üåüÂ¶Ç‰Ωï‰ºòÂåñWHEREÂ≠êÂè•</h2><ul>
<li>‰∏çË¶ÅÂú®whereÂ≠êÂè•‰∏≠‰ΩøÁî®<code>!=</code>Âíå<code>&lt;&gt;</code>ËøõË°å‰∏çÁ≠â‰∫éÂà§Êñ≠ÔºåËøôÊ†∑‰ºöÂØºËá¥ÊîæÂºÉÁ¥¢ÂºïËøõË°åÂÖ®Ë°®Êâ´Êèè„ÄÇ</li>
<li>‰∏çË¶ÅÂú®whereÂ≠êÂè•‰∏≠‰ΩøÁî®<code>null</code>ÊàñÁ©∫ÂÄºÂà§Êñ≠ÔºåÂ∞ΩÈáèËÆæÁΩÆÂ≠óÊÆµ‰∏∫not null„ÄÇ</li>
<li>‰∏çË¶ÅÂú®whereÂ≠êÂè•‰∏≠‰ΩøÁî®<code>Ë°®ËææÂºè</code>„ÄÅ<code>ÂèÇÊï∞</code>„ÄÅ<code>ÂáΩÊï∞</code>Ôºå‰ºöÂØºËá¥Â≠òÂÇ®ÂºïÊìéÊîæÂºÉÁ¥¢ÂºïËøõËÄåÂÖ®Ë°®Êâ´Êèè</li>
<li>Â∞ΩÈáè‰ΩøÁî®union all‰ª£Êõøor</li>
<li>Âú®whereÂíåorder byÊ∂âÂèäÁöÑÂàóÂª∫Á´ãÁ¥¢Âºï</li>
<li>Â∞ΩÈáèÂáèÂ∞ë‰ΩøÁî®inÊàñËÄÖnot inÔºå‰ºöËøõË°åÂÖ®Ë°®Êâ´Êèè</li>
</ul>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñ-group-by"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñ-group-by" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñ group by"></a>üåüÂ¶Ç‰Ωï‰ºòÂåñ group by</h2><p><code>group by</code>‰∏ÄËà¨Áî®‰∫éÂàÜÁªÑÁªüËÆ°ÔºåÂÆÉË°®ËææÁöÑÈÄªËæëÂ∞±ÊòØÊ†πÊçÆ‰∏ÄÂÆöÁöÑËßÑÂàôÔºåËøõË°åÂàÜÁªÑ„ÄÇÊó•Â∏∏ÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®ÂæóÊØîËæÉÈ¢ëÁπÅ„ÄÇÂ¶ÇÊûú‰∏çÊ≥®ÊÑèÔºåÂæàÂÆπÊòì‰∫ßÁîüÊÖ¢<code>SQL</code>„ÄÇ</p>
<p><code>group by</code>ÂèØËÉΩ‰ºöÊÖ¢Âú®Âì™ÈáåÔºü<strong>Âõ†‰∏∫ÂÆÉÊó¢Áî®Âà∞‰∏¥Êó∂Ë°®ÔºåÂèàÈªòËÆ§Áî®Âà∞ÊéíÂ∫è„ÄÇÊúâÊó∂ÂÄôËøòÂèØËÉΩÁî®Âà∞Á£ÅÁõò‰∏¥Êó∂Ë°®„ÄÇ</strong></p>
<ul>
<li>Â¶ÇÊûúÊâßË°åËøáÁ®ã‰∏≠Ôºå‰ºöÂèëÁé∞ÂÜÖÂ≠ò‰∏¥Êó∂Ë°®Â§ßÂ∞èÂà∞Ëææ‰∫Ü‰∏äÈôêÔºàÊéßÂà∂Ëøô‰∏™‰∏äÈôêÁöÑÂèÇÊï∞Â∞±ÊòØ<code>tmp_table_size</code>ÔºâÔºå‰ºöÊääÂÜÖÂ≠ò‰∏¥Êó∂Ë°®ËΩ¨ÊàêÁ£ÅÁõò‰∏¥Êó∂Ë°®„ÄÇ</li>
<li>Â¶ÇÊûúÊï∞ÊçÆÈáèÂæàÂ§ßÔºåÂæàÂèØËÉΩËøô‰∏™Êü•ËØ¢ÈúÄË¶ÅÁöÑÁ£ÅÁõò‰∏¥Êó∂Ë°®ÔºåÂ∞±‰ºöÂç†Áî®Â§ßÈáèÁöÑÁ£ÅÁõòÁ©∫Èó¥„ÄÇ</li>
</ul>
<p>Â¶Ç‰Ωï‰ºòÂåñgroup byÂë¢?</p>
<ul>
<li>group by ÂêéÈù¢ÁöÑÂ≠óÊÆµÂä†Á¥¢Âºï</li>
<li>order by null ‰∏çÁî®ÊéíÂ∫è</li>
<li>Â∞ΩÈáèÂè™‰ΩøÁî®ÂÜÖÂ≠ò‰∏¥Êó∂Ë°®</li>
<li>‰ΩøÁî®SQL_BIG_RESULT</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg3NzU5NTIwNg==&mid=2247497527&idx=1&sn=1f30251d88b0e935bfffc3e8eaf53f28&chksm=cf22281ef855a1084fe84a7b257db5734c7b982c6ddaf9ef497d4e31e60faebd5f329e3c55a6&token=370993980&lang=zh_CN&scene=21#wechat_redirect">Áúã‰∏ÄÈÅçÂ∞±ÁêÜËß£Ôºögroup byËØ¶Ëß£</a></p>
<h2 id="üåüÂ¶Ç‰Ωï‰ºòÂåñorder-by"><a href="#üåüÂ¶Ç‰Ωï‰ºòÂåñorder-by" class="headerlink" title="üåüÂ¶Ç‰Ωï‰ºòÂåñorder by"></a>üåüÂ¶Ç‰Ωï‰ºòÂåñorder by</h2><p>Â§ßÂÆ∂ÊòØÂê¶ËøòËÆ∞Âæó<code>order by</code>Êü•ËØ¢‰∏∫‰ªÄ‰πà‰ºöÊÖ¢Âòõ?</p>
<p><code>order by</code>ÊéíÂ∫èÔºåÂàÜ‰∏∫ÂÖ®Â≠óÊÆµÊéíÂ∫èÂíå<code>rowid</code>ÊéíÂ∫è„ÄÇÂÆÉÊòØÊãø<code>max_length_for_sort_data</code>ÂíåÁªìÊûúË°åÊï∞ÊçÆÈïøÂ∫¶ÂØπÊØîÔºåÂ¶ÇÊûúÁªìÊûúË°åÊï∞ÊçÆÈïøÂ∫¶Ë∂ÖËøá<code>max_length_for_sort_data</code>Ëøô‰∏™ÂÄºÔºåÂ∞±‰ºöËµ∞<code>rowid</code>ÊéíÂ∫èÔºåÁõ∏ÂèçÔºåÂàôËµ∞ÂÖ®Â≠óÊÆµÊéíÂ∫è„ÄÇ</p>
<p><code>rowid</code>ÊéíÂ∫èÔºå‰∏ÄËà¨ÈúÄË¶ÅÂõûË°®ÂéªÊâæÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•ÊïàÁéá‰ºöÊÖ¢‰∏ÄÁÇπ.Â¶ÇÊûúÊòØ<code>order by</code>ÊéíÂ∫è,ÂèØËÉΩ‰ºöÂÄüÂä©Á£ÅÁõòÊñá‰ª∂ÊéíÂ∫èÁöÑËØùÔºåÊïàÁéáÂ∞±Êõ¥ÊÖ¢‰∏ÄÁÇπ.</p>
<p>Â¶Ç‰Ωï‰ºòÂåñ<code>order by</code>ÁöÑÊñá‰ª∂ÊéíÂ∫è?</p>
<ul>
<li>Âõ†‰∏∫Êï∞ÊçÆÊòØÊó†Â∫èÁöÑÔºåÊâÄ‰ª•Â∞±ÈúÄË¶ÅÊéíÂ∫è„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÊú¨Ë∫´ÊòØÊúâÂ∫èÁöÑÔºåÈÇ£Â∞±‰∏ç‰ºöÂÜçÁî®Âà∞Êñá‰ª∂ÊéíÂ∫èÂï¶„ÄÇËÄåÁ¥¢ÂºïÊï∞ÊçÆÊú¨Ë∫´ÊòØÊúâÂ∫èÁöÑÔºåÊàë‰ª¨ÈÄöËøáÂª∫Á´ãÁ¥¢ÂºïÊù•‰ºòÂåñ<code>order by</code>ËØ≠Âè•„ÄÇ</li>
<li>Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáË∞ÉÊï¥<code>max_length_for_sort_data„ÄÅsort_buffer_size</code>Á≠âÂèÇÊï∞‰ºòÂåñÔºõ</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg3NzU5NTIwNg==&mid=2247490571&idx=1&sn=e8638573ec8d720fd25da5b2b0d90ed2&scene=21#wechat_redirect">Áúã‰∏ÄÈÅçÂ∞±ÁêÜËß£Ôºöorder byËØ¶Ëß£</a></p>
<h1 id="‚ë¶È´òÊÄßËÉΩ"><a href="#‚ë¶È´òÊÄßËÉΩ" class="headerlink" title="‚ë¶È´òÊÄßËÉΩ"></a>‚ë¶È´òÊÄßËÉΩ</h1><h2 id="ËØªÂÜôÂàÜÁ¶ª"><a href="#ËØªÂÜôÂàÜÁ¶ª" class="headerlink" title="ËØªÂÜôÂàÜÁ¶ª"></a>ËØªÂÜôÂàÜÁ¶ª</h2><h3 id="üåüMySQL-Êúâ‰ªÄ‰πàË∞É‰ºòÁöÑÊñπÂºè"><a href="#üåüMySQL-Êúâ‰ªÄ‰πàË∞É‰ºòÁöÑÊñπÂºè" class="headerlink" title="üåüMySQL Êúâ‰ªÄ‰πàË∞É‰ºòÁöÑÊñπÂºè"></a>üåüMySQL Êúâ‰ªÄ‰πàË∞É‰ºòÁöÑÊñπÂºè</h3><ul>
<li><p>ËØªÂÜôÂàÜÁ¶ª</p>
</li>
<li><p>ÂàÜÂ∫ìÂàÜË°®</p>
</li>
</ul>
<h3 id="üåüÁÆÄËø∞Êï∞ÊçÆÂ∫ìËØªÂÜôÂàÜÁ¶ªÔºü"><a href="#üåüÁÆÄËø∞Êï∞ÊçÆÂ∫ìËØªÂÜôÂàÜÁ¶ªÔºü" class="headerlink" title="üåüÁÆÄËø∞Êï∞ÊçÆÂ∫ìËØªÂÜôÂàÜÁ¶ªÔºü"></a>üåüÁÆÄËø∞Êï∞ÊçÆÂ∫ìËØªÂÜôÂàÜÁ¶ªÔºü</h3><p><strong>ËØªÂÜôÂàÜÁ¶ª‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÂ∞ÜÂØπÊï∞ÊçÆÂ∫ìÁöÑËØªÂÜôÊìç‰ΩúÂàÜÊï£Âà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìËäÇÁÇπ‰∏ä„ÄÇ</strong> ËøôÊ†∑ÁöÑËØùÔºåÂ∞±ËÉΩÂ§üÂ∞èÂπÖÊèêÂçáÂÜôÊÄßËÉΩÔºåÂ§ßÂπÖÊèêÂçáËØªÊÄßËÉΩ„ÄÇ</p>
<p>ÈÄöËøá‰∏ª‰ªéÂ§çÂà∂ÂÆûÁé∞ÔºåMySQL ‰∏ª‰ªéÂ§çÂà∂ÊòØ‰æùËµñ‰∫é binlog „ÄÇÂè¶Â§ñÔºåÂ∏∏ËßÅÁöÑ‰∏Ä‰∫õÂêåÊ≠• MySQL Êï∞ÊçÆÂà∞ÂÖ∂‰ªñÊï∞ÊçÆÊ∫êÁöÑÂ∑•ÂÖ∑ÔºàÊØîÂ¶Ç canalÔºâÁöÑÂ∫ïÂ±Ç‰∏ÄËà¨‰πüÊòØ‰æùËµñ binlog „ÄÇ</p>
<p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈÉΩ‰ºöÈÄâÊã©‰∏Ä‰∏ªÂ§ö‰ªéÔºå‰πüÂ∞±ÊòØ‰∏ÄÂè∞‰∏ªÊï∞ÊçÆÂ∫ìË¥üË¥£ÂÜôÔºåÂÖ∂‰ªñÁöÑ‰ªéÊï∞ÊçÆÂ∫ìË¥üË¥£ËØª„ÄÇ‰∏ªÂ∫ìÂíå‰ªéÂ∫ì‰πãÈó¥‰ºöËøõË°åÊï∞ÊçÆÂêåÊ≠•Ôºå‰ª•‰øùËØÅ‰ªéÂ∫ì‰∏≠Êï∞ÊçÆÁöÑÂáÜÁ°ÆÊÄß„ÄÇËøôÊ†∑ÁöÑÊû∂ÊûÑÂÆûÁé∞Ëµ∑Êù•ÊØîËæÉÁÆÄÂçïÔºåÂπ∂‰∏î‰πüÁ¨¶ÂêàÁ≥ªÁªüÁöÑÂÜôÂ∞ëËØªÂ§öÁöÑÁâπÁÇπ„ÄÇ</p>
<h3 id="üåüËØªÂÜôÂàÜÁ¶ª‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"><a href="#üåüËØªÂÜôÂàÜÁ¶ª‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü" class="headerlink" title="üåüËØªÂÜôÂàÜÁ¶ª‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"></a><strong>üåüËØªÂÜôÂàÜÁ¶ª‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</strong></h3><p><strong>‰∏ª‰ªéÂêåÊ≠•Âª∂Ëøü</strong>Ôºö‰∏ªÂ∫ìÂíå‰ªéÂ∫ìÁöÑÊï∞ÊçÆÂ≠òÂú®Âª∂ËøüÔºåÊØîÂ¶Ç‰Ω†ÂÜôÂÆå‰∏ªÂ∫ì‰πãÂêéÔºå‰∏ªÂ∫ìÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞‰ªéÂ∫ìÊòØÈúÄË¶ÅÊó∂Èó¥ÁöÑÔºåËøô‰∏™Êó∂Èó¥Â∑ÆÂ∞±ÂØºËá¥‰∫Ü‰∏ªÂ∫ìÂíå‰ªéÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊÄßÈóÆÈ¢ò„ÄÇ</p>
<p>Ëß£ÂÜ≥ÊÄùË∑ØÔºö</p>
<ul>
<li><p>1.Âº∫Âà∂Â∞ÜËØªËØ∑Ê±ÇË∑ØÁî±Âà∞‰∏ªÂ∫ìÂ§ÑÁêÜ„ÄÇ</p>
</li>
<li><p>2.Âª∂ËøüËØªÂèñ„ÄÇ</p>
</li>
</ul>
<h3 id="üåüÂ¶Ç‰ΩïÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÔºü"><a href="#üåüÂ¶Ç‰ΩïÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÔºü" class="headerlink" title="üåüÂ¶Ç‰ΩïÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÔºü"></a>üåüÂ¶Ç‰ΩïÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÔºü</h3><ul>
<li><p>1„ÄÅÈÉ®ÁΩ≤Â§öÂè∞Êï∞ÊçÆÂ∫ìÔºåÈÄâÊã©ÂÖ∂‰∏≠ÁöÑ‰∏ÄÂè∞‰Ωú‰∏∫‰∏ªÊï∞ÊçÆÂ∫ìÔºåÂÖ∂‰ªñÁöÑ‰∏ÄÂè∞ÊàñËÄÖÂ§öÂè∞‰Ωú‰∏∫‰ªéÊï∞ÊçÆÂ∫ì„ÄÇ</p>
</li>
<li><p>2„ÄÅ‰øùËØÅ‰∏ªÊï∞ÊçÆÂ∫ìÂíå‰ªéÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁöÑÊï∞ÊçÆÊòØÂÆûÊó∂ÂêåÊ≠•ÁöÑÔºåËøô‰∏™ËøáÁ®ã‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ<strong>‰∏ª‰ªéÂ§çÂà∂</strong>„ÄÇ</p>
</li>
<li><p>3„ÄÅÁ≥ªÁªüÂ∞ÜÂÜôËØ∑Ê±Ç‰∫§Áªô‰∏ªÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÔºåËØªËØ∑Ê±Ç‰∫§Áªô‰ªéÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜ„ÄÇ</p>
</li>
</ul>
<p>ËêΩÂÆûÂà∞È°πÁõÆÊú¨Ë∫´ÁöÑËØùÔºåÂ∏∏Áî®ÁöÑÊñπÂºèÊúâ‰∏§ÁßçÔºö</p>
<p><strong>1.‰ª£ÁêÜÊñπÂºè</strong></p>
<p>Êàë‰ª¨ÂèØ‰ª•Âú®Â∫îÁî®ÂíåÊï∞ÊçÆ‰∏≠Èó¥Âä†‰∫Ü‰∏Ä‰∏™‰ª£ÁêÜÂ±Ç„ÄÇÂ∫îÁî®Á®ãÂ∫èÊâÄÊúâÁöÑÊï∞ÊçÆËØ∑Ê±ÇÈÉΩ‰∫§Áªô‰ª£ÁêÜÂ±ÇÂ§ÑÁêÜÔºå‰ª£ÁêÜÂ±ÇË¥üË¥£ÂàÜÁ¶ªËØªÂÜôËØ∑Ê±ÇÔºåÂ∞ÜÂÆÉ‰ª¨Ë∑ØÁî±Âà∞ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÊèê‰æõÁ±ª‰ººÂäüËÉΩÁöÑ‰∏≠Èó¥‰ª∂Êúâ <strong>MySQL Router</strong>ÔºàÂÆòÊñπÔºâ„ÄÅ<strong>MyCat</strong>„ÄÇ</p>
<p><strong>2.ÁªÑ‰ª∂ÊñπÂºè</strong></p>
<p>ÈÄöËøáÂºïÂÖ•Á¨¨‰∏âÊñπÁªÑ‰ª∂Êù•Â∏ÆÂä©Êàë‰ª¨ËØªÂÜôËØ∑Ê±Ç„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÅÈááÁî®ËøôÁßçÊñπÂºèÁöÑËØùÔºåÊé®Ëçê‰ΩøÁî® <code>sharding-jdbc</code> „ÄÇ</p>
<h3 id="üåü‰∏ª‰ªéÂ§çÂà∂Ôºà‰∏ª‰ªéÂêåÊ≠•ÔºâÂéüÁêÜÊòØ‰ªÄ‰πàÔºü"><a href="#üåü‰∏ª‰ªéÂ§çÂà∂Ôºà‰∏ª‰ªéÂêåÊ≠•ÔºâÂéüÁêÜÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="üåü‰∏ª‰ªéÂ§çÂà∂Ôºà‰∏ª‰ªéÂêåÊ≠•ÔºâÂéüÁêÜÊòØ‰ªÄ‰πàÔºü"></a>üåü‰∏ª‰ªéÂ§çÂà∂Ôºà‰∏ª‰ªéÂêåÊ≠•ÔºâÂéüÁêÜÊòØ‰ªÄ‰πàÔºü</h3><p>binlogÔºà‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂Ôºâ‰∏ªË¶ÅËÆ∞ÂΩï‰∫Ü MySQL Êï∞ÊçÆÂ∫ì‰∏≠Êï∞ÊçÆÁöÑÊâÄÊúâÂèòÂåñ(Êï∞ÊçÆÂ∫ìÊâßË°åÁöÑÊâÄÊúâ DDL Âíå DML ËØ≠Âè•)„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Ê†πÊçÆ‰∏ªÂ∫ìÁöÑ  binlog Êó•ÂøóÂ∞±ËÉΩÂ§üÂ∞Ü‰∏ªÂ∫ìÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞‰ªéÂ∫ì‰∏≠„ÄÇ</p>
<p>‰∏ª‰ªéÂ§çÂà∂‰∏ªË¶ÅÊúâ‰∏â‰∏™Á∫øÁ®ãÔºöbinlogÁ∫øÁ®ãÔºåI&#x2F;OÁ∫øÁ®ãÔºåSQLÁ∫øÁ®ã„ÄÇ</p>
<ul>
<li>‰∏ªÂ∫ìÂ∞ÜÊï∞ÊçÆÂ∫ì‰∏≠Êï∞ÊçÆÁöÑÂèòÂåñÂÜôÂÖ•Âà∞ binlog</li>
<li>‰ªéÂ∫ìËøûÊé•‰∏ªÂ∫ì</li>
<li>‰ªéÂ∫ì‰ºöÂàõÂª∫‰∏Ä‰∏™ I&#x2F;O Á∫øÁ®ãÂêë‰∏ªÂ∫ìËØ∑Ê±ÇÊúÄÊñ∞ÁöÑ binlog</li>
<li>‰∏ªÂ∫ì‰ºöÂàõÂª∫‰∏Ä‰∏™ binlog dump Á∫øÁ®ãÊù•ÂèëÈÄÅ binlog Ôºå‰ªéÂ∫ì‰∏≠ÁöÑ I&#x2F;O Á∫øÁ®ãË¥üË¥£Êé•Êî∂</li>
<li>‰ªéÂ∫ìÁöÑ I&#x2F;O Á∫øÁ®ãÂ∞ÜÊé•Êî∂ÁöÑ binlog ÂÜôÂÖ•Âà∞‰∏≠ÁªßÊó•Âøó relay log ‰∏≠„ÄÇ</li>
<li>‰ªéÂ∫ìÁöÑ SQL Á∫øÁ®ãËØªÂèñ‰∏≠ÁªßÊó•Âøó relay log ÂêåÊ≠•Êï∞ÊçÆÊú¨Âú∞Ôºà‰πüÂ∞±ÊòØÂÜçÊâßË°å‰∏ÄÈÅç SQL Ôºâ„ÄÇ</li>
</ul>
<p>‰∏ª‰ªéÂ§çÂà∂ÁöÑ‰ΩúÁî®Ôºö</p>
<ul>
<li>È´òÂèØÁî®ÂíåÊïÖÈöúËΩ¨Áßª  </li>
<li>Ë¥üËΩΩÂùáË°°</li>
<li>Êï∞ÊçÆÂ§á‰ªΩ</li>
<li>ÂçáÁ∫ßÊµãËØï</li>
</ul>
<h2 id="ÂàÜÂ∫ìÂàÜË°®"><a href="#ÂàÜÂ∫ìÂàÜË°®" class="headerlink" title="ÂàÜÂ∫ìÂàÜË°®"></a>ÂàÜÂ∫ìÂàÜË°®</h2><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg3NzU5NTIwNg==&mid=2247498625&idx=1&sn=0d7bd9d1b46eeff4c715a6761355e9b0&chksm=cf2224a8f855adbea8931c8e011711f6c70cffeef8ddf8b87729c710eacef11b46eef80fda36&token=1627163936&lang=zh_CN&scene=21#wechat_redirect">Êàë‰ª¨‰∏∫‰ªÄ‰πàË¶ÅÂàÜÂ∫ìÂàÜË°®Ôºü</a></p>
<h3 id="üåü‰ªÄ‰πàÊòØÂàÜÂ∫ìÂàÜË°®"><a href="#üåü‰ªÄ‰πàÊòØÂàÜÂ∫ìÂàÜË°®" class="headerlink" title="üåü‰ªÄ‰πàÊòØÂàÜÂ∫ìÂàÜË°®"></a>üåü‰ªÄ‰πàÊòØÂàÜÂ∫ìÂàÜË°®</h3><p><strong>ÂàÜÂ∫ì</strong> ÔºöÂ∞±ÊòØÂ∞ÜÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂàÜÊï£Âà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏äÔºåÂèØ‰ª•ÂûÇÁõ¥ÂàÜÂ∫ìÔºå‰πüÂèØ‰ª•Ê∞¥Âπ≥ÂàÜÂ∫ì„ÄÇ</p>
<ul>
<li><strong>ÂûÇÁõ¥ÂàÜÂ∫ì</strong> Â∞±ÊòØÊääÂçï‰∏ÄÊï∞ÊçÆÂ∫ìÊåâÁÖß‰∏öÂä°ËøõË°åÂàíÂàÜÔºå‰∏çÂêåÁöÑ‰∏öÂä°‰ΩøÁî®‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÔºåËøõËÄåÂ∞Ü‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÂàÜÊãÖÂà∞Â§ö‰∏™Êï∞ÊçÆÂ∫ì„ÄÇ<ul>
<li>‰æãÂ≠êÔºöÂ∞ÜÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁî®Êà∑Ë°®„ÄÅËÆ¢ÂçïË°®ÂíåÂïÜÂìÅË°®ÂàÜÂà´ÂçïÁã¨ÊãÜÂàÜ‰∏∫Áî®Êà∑Êï∞ÊçÆÂ∫ì„ÄÅËÆ¢ÂçïÊï∞ÊçÆÂ∫ìÂíåÂïÜÂìÅÊï∞ÊçÆÂ∫ì„ÄÇ</li>
</ul>
</li>
<li><strong>Ê∞¥Âπ≥ÂàÜÂ∫ì</strong> ÊòØÊääÂêå‰∏Ä‰∏™Ë°®Êåâ‰∏ÄÂÆöËßÑÂàôÊãÜÂàÜÂà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÊØè‰∏™Â∫ìÂèØ‰ª•‰Ωç‰∫é‰∏çÂêåÁöÑÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÊ∞¥Âπ≥Êâ©Â±ïÔºåËß£ÂÜ≥‰∫ÜÂçïË°®ÁöÑÂ≠òÂÇ®ÂíåÊÄßËÉΩÁì∂È¢àÁöÑÈóÆÈ¢ò„ÄÇ<ul>
<li>‰æãÂ≠êÔºöËÆ¢ÂçïË°®Êï∞ÊçÆÈáèÂ§™Â§ßÔºå‰Ω†ÂØπËÆ¢ÂçïË°®ËøõË°å‰∫ÜÊ∞¥Âπ≥ÂàáÂàÜÔºàÊ∞¥Âπ≥ÂàÜË°®ÔºâÔºåÁÑ∂ÂêéÂ∞ÜÂàáÂàÜÂêéÁöÑ 2 Âº†ËÆ¢ÂçïË°®ÂàÜÂà´ÊîæÂú®‰∏§‰∏™‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</li>
</ul>
</li>
</ul>
<p><strong>ÂàÜË°®</strong>Ôºö Â∞±ÊòØÂØπÂçïË°®ÁöÑÊï∞ÊçÆËøõË°åÊãÜÂàÜÔºåÂèØ‰ª•ÊòØÂûÇÁõ¥ÊãÜÂàÜÔºå‰πüÂèØ‰ª•ÊòØÊ∞¥Âπ≥ÊãÜÂàÜ„ÄÇ</p>
<ul>
<li><p><strong>ÂûÇÁõ¥ÂàÜË°®</strong> ÊòØÂØπÊï∞ÊçÆË°®ÂàóÁöÑÊãÜÂàÜÔºåÊää‰∏ÄÂº†ÂàóÊØîËæÉÂ§öÁöÑË°®ÊãÜÂàÜ‰∏∫Â§öÂº†Ë°®„ÄÇ</p>
<ul>
<li>‰æãÂ≠êÔºöÂ∞ÜÁî®Êà∑‰ø°ÊÅØË°®‰∏≠ÁöÑ‰∏Ä‰∫õÂàóÂçïÁã¨ÊäΩÂá∫Êù•‰Ωú‰∏∫‰∏Ä‰∏™Ë°®„ÄÇ</li>
</ul>
</li>
<li><p><strong>Ê∞¥Âπ≥ÂàÜË°®</strong> ÊòØÂØπÊï∞ÊçÆË°®Ë°åÁöÑÊãÜÂàÜÔºåÊää‰∏ÄÂº†Ë°åÊØîËæÉÂ§öÁöÑË°®ÊãÜÂàÜ‰∏∫Â§öÂº†Ë°®ÔºåÂèØ‰ª•Ëß£ÂÜ≥Âçï‰∏ÄË°®Êï∞ÊçÆÈáèËøáÂ§ßÁöÑÈóÆÈ¢ò„ÄÇ</p>
<ul>
<li>‰æãÂ≠êÔºöÂ∞ÜÁî®Êà∑‰ø°ÊÅØË°®ÊãÜÂàÜÊàêÂ§ö‰∏™Áî®Êà∑‰ø°ÊÅØË°®ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈÅøÂÖçÂçï‰∏ÄË°®Êï∞ÊçÆÈáèËøáÂ§ßÂØπÊÄßËÉΩÈÄ†ÊàêÂΩ±Âìç„ÄÇ</li>
<li>Ê∞¥Âπ≥ÊãÜÂàÜÂè™ËÉΩËß£ÂÜ≥ÂçïË°®Êï∞ÊçÆÈáèÂ§ßÁöÑÈóÆÈ¢òÔºå‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÈÄâÊã©Â∞ÜÊãÜÂàÜÂêéÁöÑÂ§öÂº†Ë°®ÊîæÂú®‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊ∞¥Âπ≥ÂàÜË°®ÈÄöÂ∏∏ÂíåÊ∞¥Âπ≥ÂàÜÂ∫ìÂêåÊó∂Âá∫Áé∞„ÄÇ</li>
</ul>
</li>
</ul>
<img src="https://javaguide.cn/assets/two-forms-of-sub-table.3475ce44.png" style="zoom:50%;" />

<h3 id="üåü‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËøõË°åÂàÜÂ∫ìÂàÜË°®Ôºü"><a href="#üåü‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËøõË°åÂàÜÂ∫ìÂàÜË°®Ôºü" class="headerlink" title="üåü‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËøõË°åÂàÜÂ∫ìÂàÜË°®Ôºü"></a>üåü‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËøõË°åÂàÜÂ∫ìÂàÜË°®Ôºü</h3><ul>
<li>ÂçïË°®ÁöÑÊï∞ÊçÆËææÂà∞ÂçÉ‰∏áÁ∫ßÂà´‰ª•‰∏äÔºåÊï∞ÊçÆÂ∫ìËØªÂÜôÈÄüÂ∫¶ÊØîËæÉÁºìÊÖ¢„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂç†Áî®ÁöÑÁ©∫Èó¥Ë∂äÊù•Ë∂äÂ§ßÔºåÂ§á‰ªΩÊó∂Èó¥Ë∂äÊù•Ë∂äÈïø„ÄÇ</li>
<li>Â∫îÁî®ÁöÑÂπ∂ÂèëÈáèÂ§™Â§ß„ÄÇ</li>
</ul>
<h3 id="üåüÂ∏∏ËßÅÁöÑÂàÜÁâáÁÆóÊ≥ïÊúâÂì™‰∫õÔºü"><a href="#üåüÂ∏∏ËßÅÁöÑÂàÜÁâáÁÆóÊ≥ïÊúâÂì™‰∫õÔºü" class="headerlink" title="üåüÂ∏∏ËßÅÁöÑÂàÜÁâáÁÆóÊ≥ïÊúâÂì™‰∫õÔºü"></a>üåüÂ∏∏ËßÅÁöÑÂàÜÁâáÁÆóÊ≥ïÊúâÂì™‰∫õÔºü</h3><p>ÂàÜÁâáÁÆóÊ≥ï‰∏ªË¶ÅËß£ÂÜ≥‰∫ÜÊï∞ÊçÆË¢´Ê∞¥Âπ≥ÂàÜÁâá‰πãÂêéÔºåÊï∞ÊçÆÁ©∂Á´üËØ•Â≠òÊîæÂú®Âì™‰∏™Ë°®ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<ul>
<li><strong>ÂìàÂ∏åÂàÜÁâá</strong> ÔºöÊ±ÇÊåáÂÆö keyÔºàÊØîÂ¶Ç idÔºâ ÁöÑÂìàÂ∏åÔºåÁÑ∂ÂêéÊ†πÊçÆÂìàÂ∏åÂÄºÁ°ÆÂÆöÊï∞ÊçÆÂ∫îË¢´ÊîæÁΩÆÂú®Âì™‰∏™Ë°®‰∏≠„ÄÇÂìàÂ∏åÂàÜÁâáÊØîËæÉÈÄÇÂêàÈöèÊú∫ËØªÂÜôÁöÑÂú∫ÊôØÔºå‰∏çÂ§™ÈÄÇÂêàÁªèÂ∏∏ÈúÄË¶ÅËåÉÂõ¥Êü•ËØ¢ÁöÑÂú∫ÊôØ„ÄÇ</li>
<li><strong>ËåÉÂõ¥ÂàÜÁâá</strong> ÔºöÊåâÁÖßÁâπÊÄßÁöÑËåÉÂõ¥Âå∫Èó¥ÔºàÊØîÂ¶ÇÊó∂Èó¥Âå∫Èó¥„ÄÅIDÂå∫Èó¥ÔºâÊù•ÂàÜÈÖçÊï∞ÊçÆÔºåÊØîÂ¶Ç Â∞Ü <code>id</code> ‰∏∫ <code>1~299999</code> ÁöÑËÆ∞ÂΩïÂàÜÂà∞Á¨¨‰∏Ä‰∏™Â∫ìÔºå <code>300000~599999</code> ÁöÑÂàÜÂà∞Á¨¨‰∫å‰∏™Â∫ì„ÄÇËåÉÂõ¥ÂàÜÁâáÈÄÇÂêàÈúÄË¶ÅÁªèÂ∏∏ËøõË°åËåÉÂõ¥Êü•ÊâæÁöÑÂú∫ÊôØÔºå‰∏çÂ§™ÈÄÇÂêàÈöèÊú∫ËØªÂÜôÁöÑÂú∫ÊôØÔºàÊï∞ÊçÆÊú™Ë¢´ÂàÜÊï£ÔºåÂÆπÊòìÂá∫Áé∞ÁÉ≠ÁÇπÊï∞ÊçÆÁöÑÈóÆÈ¢òÔºâ„ÄÇ</li>
<li><strong>Âú∞ÁêÜ‰ΩçÁΩÆÂàÜÁâá</strong> ÔºöÂæàÂ§ö NewSQL Êï∞ÊçÆÂ∫ìÈÉΩÊîØÊåÅÂú∞ÁêÜ‰ΩçÁΩÆÂàÜÁâáÁÆóÊ≥ïÔºå‰πüÂ∞±ÊòØÊ†πÊçÆÂú∞ÁêÜ‰ΩçÁΩÆÔºàÂ¶ÇÂüéÂ∏Ç„ÄÅÂú∞ÂüüÔºâÊù•ÂàÜÈÖçÊï∞ÊçÆ„ÄÇ</li>
<li><strong>ËûçÂêàÁÆóÊ≥ï</strong> ÔºöÁÅµÊ¥ªÁªÑÂêàÂ§öÁßçÂàÜÁâáÁÆóÊ≥ïÔºåÊØîÂ¶ÇÂ∞ÜÂìàÂ∏åÂàÜÁâáÂíåËåÉÂõ¥ÂàÜÁâáÁªÑÂêà„ÄÇ</li>
</ul>
<h3 id="üåüÂàÜÂ∫ìÂàÜË°®‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÂë¢Ôºü"><a href="#üåüÂàÜÂ∫ìÂàÜË°®‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÂë¢Ôºü" class="headerlink" title="üåüÂàÜÂ∫ìÂàÜË°®‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÂë¢Ôºü"></a>üåüÂàÜÂ∫ìÂàÜË°®‰ºöÂ∏¶Êù•‰ªÄ‰πàÈóÆÈ¢òÂë¢Ôºü</h3><ul>
<li><strong>‰∫ãÂä°ÈóÆÈ¢ò</strong> ÔºöÂêå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®ÂàÜÂ∏ÉÂú®‰∫Ü‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂ¶ÇÊûúÂçï‰∏™Êìç‰ΩúÊ∂âÂèäÂà∞Â§ö‰∏™Êï∞ÊçÆÂ∫ìÔºåÈÇ£‰πàÊï∞ÊçÆÂ∫ìËá™Â∏¶ÁöÑ‰∫ãÂä°Â∞±Êó†Ê≥ïÊª°Ë∂≥Êàë‰ª¨ÁöÑË¶ÅÊ±Ç‰∫Ü„ÄÇ</li>
<li><strong>Ë∑®Â∫ìË∑®Ë°®ÁöÑ join Êìç‰Ωú</strong> Ôºö Âêå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®ÂàÜÂ∏ÉÂú®‰∫Ü‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂØºËá¥Êó†Ê≥ï‰ΩøÁî® join Êìç‰Ωú„ÄÇËøôÊ†∑Â∞±ÂØºËá¥Êàë‰ª¨ÈúÄË¶ÅÊâãÂä®ËøõË°åÊï∞ÊçÆÁöÑÂ∞ÅË£ÖÔºåÊØîÂ¶Ç‰Ω†Âú®‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Âà∞‰∏Ä‰∏™Êï∞ÊçÆ‰πãÂêéÔºåÂÜçÊ†πÊçÆËøô‰∏™Êï∞ÊçÆÂéªÂè¶Â§ñ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÊâæÂØπÂ∫îÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li><strong>ÂàÜÂ∏ÉÂºè id</strong> ÔºöÂàÜÂ∫ì‰πãÂêéÔºå Êï∞ÊçÆÈÅçÂ∏ÉÂú®‰∏çÂêåÊúçÂä°Âô®‰∏äÁöÑÊï∞ÊçÆÂ∫ìÔºåÊï∞ÊçÆÂ∫ìÁöÑËá™Â¢û‰∏ªÈîÆÂ∑≤ÁªèÊ≤°ÂäûÊ≥ïÊª°Ë∂≥ÁîüÊàêÁöÑ‰∏ªÈîÆÂîØ‰∏Ä‰∫Ü„ÄÇÊàë‰ª¨Â¶Ç‰Ωï‰∏∫‰∏çÂêåÁöÑÊï∞ÊçÆËäÇÁÇπÁîüÊàêÂÖ®Â±ÄÂîØ‰∏Ä‰∏ªÈîÆÂë¢ÔºüËøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÈúÄË¶Å‰∏∫Êàë‰ª¨ÁöÑÁ≥ªÁªüÂºïÂÖ•ÂàÜÂ∏ÉÂºè id ‰∫Ü„ÄÇ</li>
<li><strong>È¢ùÂ§ñÁöÑÊï∞ÊçÆÁÆ°ÁêÜË¥üÊãÖÂíåÊï∞ÊçÆËøêÁÆóÂéãÂäõ</strong>ÔºöÊúÄ‰∏∫Â∏∏ËßÅÁöÑÊòØÊï∞ÊçÆÁöÑÂÆö‰ΩçÈóÆÈ¢òÂíåÊï∞ÊçÆÁöÑÂ¢ûÂà†ÊîπÊü•ÁöÑÈáçÂ§çÊâßË°åÈóÆÈ¢òÔºåËøô‰∫õÈÉΩÂèØ‰ª•ÈÄöËøáÂ∫îÁî®Á®ãÂ∫èÊù•Ëß£ÂÜ≥Ôºå‰ΩÜÂøÖÁÑ∂‰ºöÂºïËµ∑È¢ùÂ§ñÁöÑÈÄªËæëËøêÁÆó„ÄÇ</li>
</ul>
<p>ShardingSphere ÁªùÂØπÂèØ‰ª•ËØ¥ÊòØÂΩìÂâçÂàÜÂ∫ìÂàÜË°®ÁöÑÈ¶ñÈÄâÔºÅShardingSphere ÁöÑÂäüËÉΩÂÆåÂñÑÔºåÈô§‰∫ÜÊîØÊåÅËØªÂÜôÂàÜÁ¶ªÂíåÂàÜÂ∫ìÂàÜË°®ÔºåËøòÊèê‰æõÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÅÊï∞ÊçÆÂ∫ìÊ≤ªÁêÜÁ≠âÂäüËÉΩ„ÄÇ</p>
<h3 id="üåüÂàÜÂ∫ìÂàÜË°®ÂêéÔºåÊï∞ÊçÆÊÄé‰πàËøÅÁßªÂë¢Ôºü"><a href="#üåüÂàÜÂ∫ìÂàÜË°®ÂêéÔºåÊï∞ÊçÆÊÄé‰πàËøÅÁßªÂë¢Ôºü" class="headerlink" title="üåüÂàÜÂ∫ìÂàÜË°®ÂêéÔºåÊï∞ÊçÆÊÄé‰πàËøÅÁßªÂë¢Ôºü"></a>üåüÂàÜÂ∫ìÂàÜË°®ÂêéÔºåÊï∞ÊçÆÊÄé‰πàËøÅÁßªÂë¢Ôºü</h3><p>ÂàÜÂ∫ìÂàÜË°®‰πãÂêéÔºåÊàë‰ª¨Â¶Ç‰ΩïÂ∞ÜËÄÅÂ∫ìÔºàÂçïÂ∫ìÂçïË°®ÔºâÁöÑÊï∞ÊçÆËøÅÁßªÂà∞Êñ∞Â∫ìÔºàÂàÜÂ∫ìÂàÜË°®ÂêéÁöÑÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÔºâÂë¢Ôºü</p>
<ul>
<li>Â∏∏Áî®ÁöÑÊñπÊ°àÂ∞±ÊòØ<strong>ÂÅúÊú∫ËøÅÁßª</strong>ÔºåÂÜô‰∏™ËÑöÊú¨Â∞ÜËÄÅÂ∫ìÁöÑÊï∞ÊçÆÂÜôÂà∞Êñ∞Â∫ì‰∏≠„ÄÇ</li>
</ul>
<p>ÊØîÂ¶Ç‰Ω†Âú®ÂáåÊô® 2 ÁÇπÔºåÁ≥ªÁªü‰ΩøÁî®ÁöÑ‰∫∫Êï∞ÈùûÂ∏∏Â∞ëÁöÑÊó∂ÂÄôÔºåÊåÇ‰∏Ä‰∏™ÂÖ¨ÂëäËØ¥Á≥ªÁªüË¶ÅÁª¥Êä§ÂçáÁ∫ßÈ¢ÑËÆ° 1 Â∞èÊó∂„ÄÇÁÑ∂ÂêéÔºå‰Ω†ÂÜô‰∏Ä‰∏™ËÑöÊú¨Â∞ÜËÄÅÂ∫ìÁöÑÊï∞ÊçÆÈÉΩÂêåÊ≠•Âà∞Êñ∞Â∫ì‰∏≠„ÄÇ</p>
<ul>
<li>Â¶ÇÊûú‰Ω†‰∏çÊÉ≥ÂÅúÊú∫ËøÅÁßªÊï∞ÊçÆÁöÑËØùÔºå‰πüÂèØ‰ª•ËÄÉËôë<strong>ÂèåÂÜôÊñπÊ°à</strong>„ÄÇÂèåÂÜôÊñπÊ°àÊòØÈíàÂØπÈÇ£Áßç‰∏çËÉΩÂÅúÊú∫ËøÅÁßªÁöÑÂú∫ÊôØÔºåÂÆûÁé∞Ëµ∑Êù•Ë¶ÅÁ®çÂæÆÈ∫ªÁÉ¶‰∏Ä‰∫õ„ÄÇÂÖ∑‰ΩìÂéüÁêÜÊòØËøôÊ†∑ÁöÑÔºö</li>
</ul>
<p>Êàë‰ª¨ÂØπËÄÅÂ∫ìÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºàÂ¢ûÂà†ÊîπÔºâÔºåÂêåÊó∂‰πüË¶ÅÂÜôÂÖ•Êñ∞Â∫ìÔºàÂèåÂÜôÔºâ„ÄÇÂ¶ÇÊûúÊìç‰ΩúÁöÑÊï∞ÊçÆ‰∏çÂ≠òÂú®‰∫éÊñ∞Â∫ìÁöÑËØùÔºåÈúÄË¶ÅÊèíÂÖ•Âà∞Êñ∞Â∫ì‰∏≠„ÄÇ ËøôÊ†∑Â∞±ËÉΩ‰øùËØÅÔºåÂí±‰ª¨Êñ∞Â∫ìÈáåÁöÑÊï∞ÊçÆÊòØÊúÄÊñ∞ÁöÑ„ÄÇ</p>
<p>Âú®ËøÅÁßªËøáÁ®ãÔºåÂèåÂÜôÂè™‰ºöËÆ©Ë¢´Êõ¥Êñ∞Êìç‰ΩúËøáÁöÑËÄÅÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞Êñ∞Â∫ìÔºåÊàë‰ª¨ËøòÈúÄË¶ÅËá™Â∑±ÂÜôËÑöÊú¨Â∞ÜËÄÅÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂíåÊñ∞Â∫ìÁöÑÊï∞ÊçÆÂÅöÊØîÂØπ„ÄÇÂ¶ÇÊûúÊñ∞Â∫ì‰∏≠Ê≤°ÊúâÔºåÈÇ£Âí±‰ª¨Â∞±ÊääÊï∞ÊçÆÊèíÂÖ•Âà∞Êñ∞Â∫ì„ÄÇÂ¶ÇÊûúÊñ∞Â∫ìÊúâÔºåÊóßÂ∫ìÊ≤°ÊúâÔºåÂ∞±ÊääÊñ∞Â∫ìÂØπÂ∫îÁöÑÊï∞ÊçÆÂà†Èô§ÔºàÂÜó‰ΩôÊï∞ÊçÆÊ∏ÖÁêÜÔºâ„ÄÇÈáçÂ§ç‰∏ä‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÁõ¥Âà∞ËÄÅÂ∫ìÂíåÊñ∞Â∫ìÁöÑÊï∞ÊçÆ‰∏ÄËá¥‰∏∫Ê≠¢„ÄÇ</p>
<p>ÊÉ≥Ë¶ÅÂú®È°πÁõÆ‰∏≠ÂÆûÊñΩÂèåÂÜôËøòÊòØÊØîËæÉÈ∫ªÁÉ¶ÁöÑÔºåÂæàÂÆπÊòì‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©Êï∞ÊçÆÂ∫ìÂêåÊ≠•Â∑•ÂÖ∑ Canal ÂÅöÂ¢ûÈáèÊï∞ÊçÆËøÅÁßªÔºàËøòÊòØ‰æùËµñ binlogÔºåÂºÄÂèëÂíåÁª¥Êä§ÊàêÊú¨ËæÉ‰ΩéÔºâ„ÄÇ</p>
<h3 id="üåü‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Ëá™Â¢ûID"><a href="#üåü‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Ëá™Â¢ûID" class="headerlink" title="üåü‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Ëá™Â¢ûID"></a>üåü‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Ëá™Â¢ûID</h3><ul>
<li>idÁöÑËßÑÂæãÊÄßÂ§™ÊòéÊòæ</li>
<li>ÂèóÂçïË°®Êï∞ÊçÆÈáèÁöÑÈôêÂà∂ÔºåÂàÜÂ∏ÉÂºè‰∏ãËá™Â¢ûidÈáçÂ§ç</li>
</ul>
<p>Âú∫ÊôØÂàÜÊûê‰∏ÄÔºöÂ¶ÇÊûúÊàë‰ª¨ÁöÑidÂÖ∑ÊúâÂ§™ÊòéÊòæÁöÑËßÑÂàôÔºåÁî®Êà∑ÊàñËÄÖËØ¥ÂïÜ‰∏öÂØπÊâãÂæàÂÆπÊòìÁåúÊµãÂá∫Êù•Êàë‰ª¨ÁöÑ‰∏Ä‰∫õÊïèÊÑü‰ø°ÊÅØÔºåÊØîÂ¶ÇÂïÜÂüéÂú®‰∏ÄÂ§©Êó∂Èó¥ÂÜÖÔºåÂçñÂá∫‰∫ÜÂ§öÂ∞ëÂçïÔºåËøôÊòéÊòæ‰∏çÂêàÈÄÇ„ÄÇ</p>
<p>Âú∫ÊôØÂàÜÊûê‰∫åÔºöÈöèÁùÄÊàë‰ª¨ÂïÜÂüéËßÑÊ®°Ë∂äÊù•Ë∂äÂ§ßÔºåmysqlÁöÑÂçïË°®ÁöÑÂÆπÈáè‰∏çÂÆúË∂ÖËøá500WÔºåÊï∞ÊçÆÈáèËøáÂ§ß‰πãÂêéÔºåÊàë‰ª¨Ë¶ÅËøõË°åÊãÜÂ∫ìÊãÜË°®Ôºå‰ΩÜÊãÜÂàÜË°®‰∫Ü‰πãÂêéÔºå‰ªñ‰ª¨‰ªéÈÄªËæë‰∏äËÆ≤‰ªñ‰ª¨ÊòØÂêå‰∏ÄÂº†Ë°®ÔºåÊâÄ‰ª•‰ªñ‰ª¨ÁöÑidÊòØ‰∏çËÉΩ‰∏ÄÊ†∑ÁöÑÔºå ‰∫éÊòØ‰πéÊàë‰ª¨ÈúÄË¶Å‰øùËØÅidÁöÑÂîØ‰∏ÄÊÄß„ÄÇ</p>
<h3 id="üåüÂàÜÂ∏ÉÂºèidÂè∑ÁöÑË¶ÅÊ±ÇÊúâÂì™‰∫õÂë¢Ôºü"><a href="#üåüÂàÜÂ∏ÉÂºèidÂè∑ÁöÑË¶ÅÊ±ÇÊúâÂì™‰∫õÂë¢Ôºü" class="headerlink" title="üåüÂàÜÂ∏ÉÂºèidÂè∑ÁöÑË¶ÅÊ±ÇÊúâÂì™‰∫õÂë¢Ôºü"></a>üåüÂàÜÂ∏ÉÂºèidÂè∑ÁöÑË¶ÅÊ±ÇÊúâÂì™‰∫õÂë¢Ôºü</h3><ol>
<li>ÂÖ®Â±ÄÂîØ‰∏ÄÊÄßÔºö‰∏çËÉΩÂá∫Áé∞ÈáçÂ§çÁöÑIDÂè∑ÔºåÊó¢ÁÑ∂ÊòØÂîØ‰∏ÄÊ†áËØÜÔºåËøôÊòØÊúÄÂü∫Êú¨ÁöÑË¶ÅÊ±Ç„ÄÇ</li>
<li>Ë∂ãÂäøÈÄíÂ¢ûÔºöÂú®MySQL InnoDBÂºïÊìé‰∏≠‰ΩøÁî®ÁöÑÊòØËÅöÈõÜÁ¥¢ÂºïÔºåÁî±‰∫éÂ§öÊï∞RDBMS‰ΩøÁî®B-treeÁöÑÊï∞ÊçÆÁªìÊûÑÊù•Â≠òÂÇ®Á¥¢ÂºïÊï∞ÊçÆÔºåÂú®‰∏ªÈîÆÁöÑÈÄâÊã©‰∏äÈù¢Êàë‰ª¨Â∫îËØ•Â∞ΩÈáè‰ΩøÁî®ÊúâÂ∫èÁöÑ‰∏ªÈîÆ‰øùËØÅÂÜôÂÖ•ÊÄßËÉΩ„ÄÇ</li>
<li>ÂçïË∞ÉÈÄíÂ¢ûÔºö‰øùËØÅ‰∏ã‰∏Ä‰∏™ID‰∏ÄÂÆöÂ§ß‰∫é‰∏ä‰∏Ä‰∏™IDÔºå‰æãÂ¶Ç‰∫ãÂä°ÁâàÊú¨Âè∑„ÄÅIMÂ¢ûÈáèÊ∂àÊÅØ„ÄÅÊéíÂ∫èÁ≠âÁâπÊÆäÈúÄÊ±Ç„ÄÇ</li>
<li>‰ø°ÊÅØÂÆâÂÖ®ÔºöÂ¶ÇÊûúIDÊòØËøûÁª≠ÁöÑÔºåÊÅ∂ÊÑèÁî®Êà∑ÁöÑÊâíÂèñÂ∑•‰ΩúÂ∞±ÈùûÂ∏∏ÂÆπÊòìÂÅö‰∫ÜÔºåÁõ¥Êé•ÊåâÁÖßÈ°∫Â∫è‰∏ãËΩΩÊåáÂÆöURLÂç≥ÂèØÔºõÂ¶ÇÊûúÊòØËÆ¢ÂçïÂè∑Â∞±Êõ¥Âç±Èô©ÔºåÂèØ‰ª•Áõ¥Êé•Áü•ÈÅìÊàë‰ª¨‰∏ÄÂ§©ÁöÑÂçïÈáè„ÄÇÊâÄ‰ª•Âú®‰∏Ä‰∫õÂ∫îÁî®Âú∫ÊôØ‰∏ãÔºå‰ºöÈúÄË¶ÅIDÊó†ËßÑÂàô„ÄÅ‰∏çËßÑÂàô„ÄÇ</li>
</ol>
<h3 id="üåüÁÆÄËø∞ÂàÜÂ∏ÉÂºèidÁîüÊàêÊñπÊ≥ï"><a href="#üåüÁÆÄËø∞ÂàÜÂ∏ÉÂºèidÁîüÊàêÊñπÊ≥ï" class="headerlink" title="üåüÁÆÄËø∞ÂàÜÂ∏ÉÂºèidÁîüÊàêÊñπÊ≥ï"></a>üåüÁÆÄËø∞ÂàÜÂ∏ÉÂºèidÁîüÊàêÊñπÊ≥ï</h3><p>ÂàÜÂ∫ìÂàÜË°®Âêé‰∏çËÉΩÊØè‰∏™Ë°®ÁöÑIDÈÉΩÊòØ‰ªé1ÂºÄÂßãÔºåÊâÄ‰ª•ÈúÄË¶Å‰∏Ä‰∏™ÂÖ®Â±ÄID</p>
<ul>
<li><p>UUIDÔºö‰ºòÁÇπÔºöÊú¨Âú∞ÁîüÊàêIDÔºå‰∏çÈúÄË¶ÅËøúÁ®ãË∞ÉÁî®ÔºõÂÖ®Â±ÄÂîØ‰∏Ä‰∏çÈáçÂ§ç„ÄÇÁº∫ÁÇπÔºöÂç†Áî®Á©∫Èó¥Â§ßÔºå‰∏çÈÄÇÂêà‰Ωú‰∏∫Á¥¢Âºï„ÄÇ</p>
</li>
<li><p>RedisÁîüÊàêIDÔºö‰ºòÁÇπÔºö‰∏ç‰æùËµñÊï∞ÊçÆÂ∫ìÔºåÊÄßËÉΩÊØîËæÉÂ•Ω„ÄÇÁº∫ÁÇπÔºöÂºïÂÖ•Êñ∞ÁöÑÁªÑ‰ª∂‰ºö‰ΩøÂæóÁ≥ªÁªüÂ§çÊùÇÂ∫¶Â¢ûÂä†</p>
</li>
<li><p>TwitterÁöÑsnowflakeÁÆóÊ≥ïÔºöÂà©Áî®Êó∂Èó¥Êà≥ÔºåÊú∫Âô®idÔºåÂΩìÂâçÊï∞ÊçÆÂ∫ìËá™Â¢ûidËøõË°åÊãºÊé•ÔºåÁîüÊàêÁöÑÊñ∞ÁöÑÂàÜÂ∏ÉÂºèid„ÄÇ‰∏Ä‰∏™64‰ΩçÁöÑlongÂûãÁöÑIDÔºåÂÖ∂‰∏≠Êúâ1bitÊòØÁ¨¶Âè∑‰ΩçÔºå41bit‰Ωú‰∏∫ÊØ´ÁßíÊï∞Ôºå10bit‰Ωú‰∏∫Â∑•‰ΩúÊú∫Âô®IDÔºå12bit‰Ωú‰∏∫Â∫èÂàóÂè∑„ÄÇ</p>
<ul>
<li>‰ºòÁÇπÔºöidË∂ãÂäøËá™Â¢û„ÄÅÁÅµÊ¥ª</li>
<li>Áº∫ÁÇπÔºöÂº∫‰æùËµñÊú∫Âô®Êó∂ÈíüÔºåÂ¶ÇÊûúÊú∫Âô®‰∏äÊó∂ÈíüÂõûÊã®Ôºå‰ºöÂØºËá¥ÂèëÂè∑ÈáçÂ§çÊàñËÄÖÊúçÂä°‰ºöÂ§Ñ‰∫é‰∏çÂèØÁî®Áä∂ÊÄÅ„ÄÇ</li>
</ul>
</li>
<li><p>ÁæéÂõ¢ÁöÑLeafÂàÜÂ∏ÉÂºèIDÁîüÊàêÁ≥ªÁªüÔºå<a target="_blank" rel="noopener" href="https://tech.meituan.com/2017/04/21/mt-leaf.html">Leaf‚Äî‚ÄîÁæéÂõ¢ÁÇπËØÑÂàÜÂ∏ÉÂºèIDÁîüÊàêÁ≥ªÁªü - ÁæéÂõ¢ÊäÄÊúØÂõ¢Èòü (meituan.com)</a></p>
</li>
</ul>
<h1 id="‚ëßÂÖ∂ÂÆÉ"><a href="#‚ëßÂÖ∂ÂÆÉ" class="headerlink" title="‚ëßÂÖ∂ÂÆÉ"></a>‚ëßÂÖ∂ÂÆÉ</h1><h2 id="üåüMySQL-Â¶Ç‰ΩïÂ≠òÂÇ®-IP-Âú∞ÂùÄÔºü"><a href="#üåüMySQL-Â¶Ç‰ΩïÂ≠òÂÇ®-IP-Âú∞ÂùÄÔºü" class="headerlink" title="üåüMySQL Â¶Ç‰ΩïÂ≠òÂÇ® IP Âú∞ÂùÄÔºü"></a>üåüMySQL Â¶Ç‰ΩïÂ≠òÂÇ® IP Âú∞ÂùÄÔºü</h2><p>ÂèØ‰ª•Â∞Ü IP Âú∞ÂùÄËΩ¨Êç¢ÊàêÊï¥ÂΩ¢Êï∞ÊçÆÂ≠òÂÇ®ÔºåÊÄßËÉΩÊõ¥Â•ΩÔºåÂç†Áî®Á©∫Èó¥‰πüÊõ¥Â∞è„ÄÇ</p>
<p>MySQL Êèê‰æõ‰∫Ü‰∏§‰∏™ÊñπÊ≥ïÊù•Â§ÑÁêÜ ip Âú∞ÂùÄ</p>
<ul>
<li><code>INET_ATON()</code> Ôºö Êää ip ËΩ¨‰∏∫Êó†Á¨¶Âè∑Êï¥Âûã (4-8 ‰Ωç)</li>
<li><code>INET_NTOA()</code> :ÊääÊï¥ÂûãÁöÑ ip ËΩ¨‰∏∫Âú∞ÂùÄ</li>
</ul>
<p>ÊèíÂÖ•Êï∞ÊçÆÂâçÔºåÂÖàÁî® <code>INET_ATON()</code> Êää ip Âú∞ÂùÄËΩ¨‰∏∫Êï¥ÂûãÔºåÊòæÁ§∫Êï∞ÊçÆÊó∂Ôºå‰ΩøÁî® <code>INET_NTOA()</code> ÊääÊï¥ÂûãÁöÑ ip Âú∞ÂùÄËΩ¨‰∏∫Âú∞ÂùÄÊòæÁ§∫Âç≥ÂèØ„ÄÇ</p>
<h2 id="üåü‰ªÄ‰πàÊòØ-SQL-Ê≥®ÂÖ•ÊîªÂáªÔºüÂ¶Ç‰ΩïÈò≤Ê≠¢ËøôÁ±ªÊîªÂáªÔºü"><a href="#üåü‰ªÄ‰πàÊòØ-SQL-Ê≥®ÂÖ•ÊîªÂáªÔºüÂ¶Ç‰ΩïÈò≤Ê≠¢ËøôÁ±ªÊîªÂáªÔºü" class="headerlink" title="üåü‰ªÄ‰πàÊòØ SQL Ê≥®ÂÖ•ÊîªÂáªÔºüÂ¶Ç‰ΩïÈò≤Ê≠¢ËøôÁ±ªÊîªÂáªÔºü"></a>üåü‰ªÄ‰πàÊòØ SQL Ê≥®ÂÖ•ÊîªÂáªÔºüÂ¶Ç‰ΩïÈò≤Ê≠¢ËøôÁ±ªÊîªÂáªÔºü</h2><p>SQLÊ≥®ÂÖ•ÊòØÈÄöËøáÂ∞Ü<code>ÊÅ∂ÊÑèÁöÑSQLËØ≠Âè•</code>ÊèíÂÖ•Âà∞WebÂ∫îÁî®ÁöÑËæìÂÖ•ÂèÇÊï∞‰∏≠Ôºå<code>Ê¨∫È™óÊúçÂä°Âô®</code>ÊâßË°åÊÅ∂ÊÑèÁöÑSQLÂëΩ‰ª§ÁöÑÊîªÂáª„ÄÇ</p>
<p><strong>‰∏ªË¶ÅÈò≤Âæ°Ôºö</strong></p>
<ul>
<li><strong>ÈÄâÈ°π 1Ôºö‰ΩøÁî®È¢ÑÂáÜÂ§áËØ≠Âè•Ôºà‰ΩøÁî®ÂèÇÊï∞ÂåñÊü•ËØ¢Ôºâ</strong></li>
<li><strong>ÈÄâÈ°π 2Ôºö‰ΩøÁî®Ê≠£Á°ÆÊûÑÈÄ†ÁöÑÂ≠òÂÇ®ËøáÁ®ã</strong></li>
<li><strong>ÈÄâÈ°π 3ÔºöÂÖÅËÆ∏ÂàóË°®ËæìÂÖ•È™åËØÅ</strong></li>
<li><strong>ÈÄâÈ°π 4ÔºöËΩ¨‰πâÊâÄÊúâÁî®Êà∑Êèê‰æõÁöÑËæìÂÖ•</strong></li>
</ul>
<p><strong>ÈôÑÂä†Èò≤Âæ°Ôºö</strong></p>
<ul>
<li><strong>Âè¶Â§ñÔºöÂº∫Âà∂ÂÆûÊñΩÊúÄ‰ΩéÁâπÊùÉ</strong></li>
<li><strong>Âè¶ÔºöÊâßË°åÂÖÅËÆ∏ÂàóË°®ËæìÂÖ•È™åËØÅ‰Ωú‰∏∫ËæÖÂä©Èò≤Âæ°</strong></li>
</ul>
<h1 id="ÂèÇËÄÉ"><a href="#ÂèÇËÄÉ" class="headerlink" title="ÂèÇËÄÉ"></a>ÂèÇËÄÉ</h1><ul>
<li><a target="_blank" rel="noopener" href="https://xiaolincoding.com/mysql/log/how_update.html">MySQL Êó•ÂøóÔºöundo log„ÄÅredo log„ÄÅbinlog Êúâ‰ªÄ‰πàÁî®Ôºü</a></li>
<li><a target="_blank" rel="noopener" href="https://javaguide.cn/database/mysql/mysql-logs.html">MySQL‰∏âÂ§ßÊó•Âøó(binlog„ÄÅredo logÂíåundo log)ËØ¶Ëß£</a></li>
<li><a target="_blank" rel="noopener" href="https://xiaolincoding.com/mysql/index/count.html#%E5%93%AA%E7%A7%8D-count-%E6%80%A7%E8%83%BD%E6%9C%80%E5%A5%BD">count(*) Âíå count(1) Êúâ‰ªÄ‰πàÂå∫Âà´ÔºüÂì™‰∏™ÊÄßËÉΩÊúÄÂ•ΩÔºü | Â∞èÊûócoding (xiaolincoding.com)</a></li>
</ul>
<h1 id="‚ù§Ô∏èSponsor"><a href="#‚ù§Ô∏èSponsor" class="headerlink" title="‚ù§Ô∏èSponsor"></a>‚ù§Ô∏èSponsor</h1><p>ÊÇ®ÁöÑÊîØÊåÅÊòØÊàë‰∏çÊñ≠ÂâçËøõÁöÑÂä®ÂäõÔºåÂ¶ÇÊûúÊÇ®ÊÑüËßâÊú¨ÊñáÂØπÊÇ®ÊúâÊâÄÂ∏ÆÂä©ÁöÑËØùÔºåÂèØ‰ª•ËÄÉËôëÊâìËµè‰∏Ä‰∏ãÊú¨ÊñáÔºåÁî®‰ª•Áª¥ÊåÅÊú¨ÂçöÂÆ¢ÁöÑËøêËê•Ë¥πÁî®ÔºåÊãíÁªùÁôΩÂ´ñÔºå‰ªé‰Ω†ÊàëÂÅöËµ∑ÔºÅü•∞ü•∞ü•∞</p>
<table>
  <tbody>
     <tr>
         <td style="text-align:center;">ÊîØ‰ªòÂÆù</td>
         <td style="text-align:center;">ÂæÆ‰ø°</td>
     </tr>
   <tr>
    <td style="text-align:center;" ><img width="200" src="https://jwt1399.top/medias/reward/alipay.png"></td>    
      <td style="text-align:center;"><img width="200" src="https://jwt1399.top/medias/reward/sponor_wechat.png"></td>     
  </tr>
</tbody></table>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        ÊñáÁ´†‰ΩúËÄÖ:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jwt1399.top" rel="external nofollow noreferrer">ÁÆÄÁÆÄ</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        ÊñáÁ´†ÈìæÊé•:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jwt1399.top/posts/50191.html">https://jwt1399.top/posts/50191.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ÁâàÊùÉÂ£∞Êòé:
                    </i>
                </span>
                <span class="reprint-info">
                    Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà•Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî®
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÊù•Ê∫ê
                    <a href="https://jwt1399.top" target="_blank">ÁÆÄÁÆÄ</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Â§çÂà∂ÊàêÂäüÔºåËØ∑ÈÅµÂæ™Êú¨ÊñáÁöÑËΩ¨ËΩΩËßÑÂàô</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">Êü•Áúã</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/MySQL/">
                                    <span class="chip bg-color">MySQL</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="qq,qzone,wechat,weibo,linkedin,facebook,twitter,google,douban" data-wechat-qrcode-helper="<p>ÂæÆ‰ø°Êâ´‰∏ÄÊâ´Âç≥ÂèØÂàÜ‰∫´ÔºÅ</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">Êâì</a>
	<a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">Ëµè</a>
    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">‰Ω†ÁöÑËµèËØÜÊòØÊàëÂâçËøõÁöÑÂä®Âäõ</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">ÊîØ‰ªòÂÆù</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">ÂæÆ ‰ø°</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="ÊîØ‰ªòÂÆùÊâìËµè‰∫åÁª¥Á†Å">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="ÂæÆ‰ø°ÊâìËµè‰∫åÁª¥Á†Å">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        /*max-width: 100%;*/
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
    .v[data-class=v] .vinput {
     padding: 0px 0px;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>ËØÑËÆ∫<center>Â°´‰∏äÈÇÆÁÆ±‰ºöÊî∂Âà∞ËØÑËÆ∫ÂõûÂ§çÊèêÈÜíÂì¶!!!</center></span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/valine/1.4.18/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'Awf92dhT3VWqTfENqbCDoqbA-gzGzoHsz',
        appKey: '9uN7ODvigK9GAp8CYBz0fOrX',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: '',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '[Â°´‰∏äÈÇÆÁÆ±Ôºå‰ºöÁªô‰Ω†ÂèëÈÄÅËØÑËÆ∫ÊèêÈÜí]Ôºå„ÉæÔæâ‚âß‚àÄ‚â¶)o ËØ∑ÁïÖÊâÄÊ¨≤Ë®Ä~',
        enableQQ: true,
        boolean: true,
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;‰∏ä‰∏ÄÁØá</div>
            <div class="card">
                <a href="/posts/34943.html">
                    <div class="card-image">
                        
                        <img src="https://img.jwt1399.top/img/202207032341528.png" class="responsive-img" alt="Q&AÔºöRedis">
                        
                        <span class="card-title">Q&AÔºöRedis</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Êï∞ÊçÆÁªìÊûÑ
redisObject// from Redis 5.0.5
#define LRU_BITS 24

typedef struct redisObject {
  unsigned type:4; 
  unsigned enc
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2019-03-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Q-A/" class="post-category">
                                    Q&A
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Redis/">
                        <span class="chip bg-color">Redis</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Êú¨ÁØá&nbsp;<i class="far fa-dot-circle"></i>
            </div>
            <div class="card">
                <a href="/posts/50191.html">
                    <div class="card-image">
                        
                        <img src="https://img.jwt1399.top/img/v2-fab80e0b2798b32f0a06191c8f6e7f30_1440w.jpg" class="responsive-img" alt="Q&AÔºöMySQL">
                        
                        <span class="card-title">Q&AÔºöMySQL</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ‚ë†Âü∫Á°ÄüåüÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´
ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈááÁî®‰∫ÜÂÖ≥Á≥ªÊ®°ÂûãÔºà‰∫åÁª¥Ë°®Ê†ºÁ±ªÂûãÔºâÁªÑÁªáÊï∞ÊçÆÔºå‰∏ÄËà¨ÈÅµÂÆà‰∫ãÂä°ÁöÑACIDÁâπÊÄß 

‰ºòÁÇπÔºöÊîØÊåÅÈÄöÁî®SQLËØ≠Âè•„ÄÅÊîØÊåÅ‰∫ãÂä°„ÄÅÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆâÂÖ®ÂèØÈù†
Áº∫ÁÇπÔºöÈ´òÂπ∂ÂèëËØªÂÜôËÉΩÂäõÂ∑ÆÔºàÁ£ÅÁõòI&#x2F;OÊúâÈôê
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2019-02-27
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Q-A/" class="post-category">
                                    Q&A
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/MySQL/">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('100')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'Êù•Ê∫ê: ÁÆÄË®Ä‰πã<br />'
            + 'ÊñáÁ´†‰ΩúËÄÖ: ÁÆÄÁÆÄ<br />'
            + 'ÊñáÁ´†ÈìæÊé•: <a href="' + url + '">' + url + '</a><br />'
            + 'Êú¨ÊñáÁ´†Ëëó‰ΩúÊùÉÂΩí‰ΩúËÄÖÊâÄÊúâÔºå‰ªª‰ΩïÂΩ¢ÂºèÁöÑËΩ¨ËΩΩÈÉΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ„ÄÇ';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- ‰ª£Á†ÅÂùóÂäüËÉΩ‰æùËµñ -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ‰ª£Á†ÅËØ≠Ë®Ä -->

    
<!-- ‰ª£Á†ÅÂùóÂ§çÂà∂ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ‰ª£Á†ÅÂùóÊî∂Áº© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- ‰ª£Á†ÅÂùóÊäòË°å -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ÁõÆÂΩï</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC ÊÇ¨ÊµÆÊåâÈíÆ. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('2'),
            headingSelector: 'h1, h2, h3, h4, h5, h6'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5, h6').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ‰øÆÂ§çÊñáÁ´†Âç°Áâá div ÁöÑÂÆΩÂ∫¶. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // ÂàáÊç¢TOCÁõÆÂΩïÂ±ïÂºÄÊî∂Áº©ÁöÑÁõ∏ÂÖ≥Êìç‰Ωú.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="https://jwt1399.top" target="_blank"><b>ÁÆÄÁÆÄ</b>&nbsp;|&nbsp;Sponsored by</a>
            <!-- <span>|&nbsp;‰∏∫ üíóüíûü©∑ ÂèëÁîµ</span> -->
            <!-- |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> -->
            <!-- |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>&nbsp;| -->

			
            <a target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img no-lazy src="https://img.jwt1399.top/img/20200824181422.png" style="width: 47px; vertical-align: middle;" ></a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;Word:&nbsp;<span
                class="white-color">1131.5k</span>&nbsp;Â≠ó
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;PV:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;Ê¨°
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;UV:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;‰∫∫
            </span>
            
            <br>

            
            <span id="sitetime">ËΩΩÂÖ•ËøêË°åÊó∂Èó¥...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "7";
                    var startDate = "2";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å " + diffDays + " Â§© " + diffHours +
                            " Â∞èÊó∂ " + diffMinutes + " ÂàÜÈíü " + diffSeconds + " Áßí";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å " + diffYears + " Âπ¥ " + diffDays +
                            " Â§© " + diffHours + " Â∞èÊó∂ " + diffMinutes + " ÂàÜÈíü " + diffSeconds + " Áßí";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            <a href="https://search.google.com/search-console?resource_id=http%3A%2F%2Fjwt1399.top%2F" target="_blank"
                rel="nofollow noopener">Ë∞∑Ê≠åÁªüËÆ°</a>&nbsp;|
            
            <span id="icp"><img no-lazy src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="http://www.beian.miit.gov.cn/" target="_blank">ËúÄICPÂ§á19020450Âè∑</a>
            </span>
            |
            
            <a href="https://tongji.baidu.com/web/10000159136/overview/index?siteId=14519996" target="_blank"
                rel="nofollow noopener">ÁôæÂ∫¶ÁªüËÆ°</a>

        </div>
        <div class="col s12 m4 l4 social-link social-statis">

    <a href="https://jwt1399.top/baidusitemap.xml" class="tooltipped" target="_blank" data-tooltip="ËÆøÈóÆÊàëÁöÑsitemap" data-position="top" data-delay="50">
        <i class="fas fa-sitemap"></i>
    </a>


    <a href="https://pl.jwt1399.top" class="tooltipped" target="_blank" data-tooltip="valineËØÑËÆ∫: https://pl.jwt1399.top" data-position="top" data-delay="50">
        <i class="fab fa-optin-monster"></i>
    </a>


    <a href="mailto:1019084218@qq.com" class="tooltipped" target="_blank" data-tooltip="ÈÇÆ‰ª∂ËÅîÁ≥ªÊàë" data-position="top" data-delay="50">
        <i class="fas fa-envelope"></i>
    </a>













    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1019084218" class="tooltipped" target="_blank" data-tooltip="QQËÅîÁ≥ªÊàë: 1019084218" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>


    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS ËÆ¢ÈòÖ" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>

    <!-- ÊêúÁ¥¢ÈÅÆÁΩ©Ê°Ü -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;ÊêúÁ¥¢</span>
            <input type="search" id="searchInput" name="s" placeholder="ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÁöÑÂÖ≥ÈîÆÂ≠ó"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.json", 'searchInput', 'searchResult');
});
</script>
    <!-- ÂõûÂà∞È°∂ÈÉ®ÊåâÈíÆ -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.staticfile.org/aos/3.0.0-beta.6/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>
	<!--valine_‰∫∫Êú∫È™åËØÅ-->
	<button id="TencentCaptcha"data-appid="2046265119"data-cbfn="callback"type="button" hidden></button>
	
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-160042502-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-160042502-1');
</script>


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?0e306ce3426983ae6367d094d39f1190";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    
    
    <script type="text/javascript" size="150" alpha='0.6'
        zIndex="-1" src="/libs/background/ribbon.min.js" async="async"></script>
    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

        
</body>

</html>
